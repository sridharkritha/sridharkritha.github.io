<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="../../../schema.org/WebPage.html">

<!-- Mirrored from sites.google.com/site/sridharkritha/shallowvs.deepcopying by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Jul 2021 10:31:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="../../../www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="../../../ssl.gstatic.com/sites/p/a71eef/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/site/sridharkritha/shallowvs.deepcopying","deleted":false,"title":"shallowvs.deepcopying","dir":"ltr"}];
  var JOT_clearDotPath = '../../../ssl.gstatic.com/sites/p/a71eef/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":false,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://196898426-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"sridharkritha","experiments":{"enableSubpagesGadgetInTakeout":true,"DisableSiteEditingFeature__disable_site_editing":true,"disableDomainEditing":false},"jot2atari":{"eligibility":"INELIGIBLE"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":true,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/site/sridharkritha/shallowvs.deepcopying\u0026service\u003djotspot","analyticsAccountId":"","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/a71eef/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/a71eef/system/js/codemirror.js","../../../ssl.gstatic.com/sites/p/a71eef/system/app/css/codemirror_css.css","../../../ssl.gstatic.com/sites/p/a71eef/system/js/trog_edit__en.js","../../../ssl.gstatic.com/sites/p/a71eef/system/app/css/trogedit.css","_/rsrc/1624520311000/system/app/css/editor.css","../../../ssl.gstatic.com/sites/p/a71eef/system/app/css/codeeditor.css","/site/sridharkritha/_/rsrc/1624520311000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"defaultdomain","baseUri":"/site/sridharkritha","name":"sridharkritha","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":null,"parentWuid":null,"siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"shallowvs.deepcopying","locale":"en","wuid":"wuid:gx:1e30b5ea8b07b739","revision":24,"path":"/shallowvs.deepcopying","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"shallowvs.deepcopying","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/site/sridharkritha/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="shallowvs.deepcopying - sridharkritha" />
<meta itemprop="name" content="shallowvs.deepcopying - sridharkritha" />
<meta property="og:title" content="shallowvs.deepcopying - sridharkritha" />
<meta name="description" content="Information Bank - Computer Science" />
<meta itemprop="description" content="Information Bank - Computer Science" />
<meta id="meta-tag-description" property="og:description" content="Information Bank - Computer Science" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="../../../ssl.gstatic.com/sites/p/a71eef/system/app/themes/ember/standard-css-ember-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="_/rsrc/1624520311000/system/app/css/overlaydd2a.css?cb=ember150goog-ws-noside" />
<link rel="stylesheet" type="text/css" href="_/rsrc/1624520311000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/site/sridharkritha/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>shallowvs.deepcopying - sridharkritha</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><h2></h2></div></td><td class="sites-layout-searchbox  "></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left" style="display: none; width: 150px">
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="display: none;">
</div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="display: none;" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">shallowvs.deepcopying</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-left-sidebar-hf sites-layout-vbox"><div class="sites-layout-tile sites-tile-name-header"><div dir="ltr">Shallow Vs. Deep Copying<br /> </div></div><table cellspacing="0" class="sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1 sites-canvas-sidebar"><div dir="ltr"> </div></td><td class="sites-layout-tile sites-tile-name-content-2"><div dir="ltr"><h3 style="margin:0in 0in 0pt;text-align:justify"><a name="TOC-Default-Memberwise-Copying:"></a>Default Memberwise Copying:</h3>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">        Just <b>like</b> other constructors, C++ will provide a <b>default copy constructor</b> if you do <b>not</b> provide one yourself. However, <b>unlike</b> other operators, C++ will provide a <b>default assignment operator</b> if you do <b>not</b> provide one yourself!. They use a copying method known as a <b>memberwise copy</b> (also known as a <b>shallow copy</b>).</font></font></font><font color="#000000" face="Times New Roman" size="3"> <br /></font></p><p style="margin:0in 0in 0pt;text-align:justify"><font color="#000000" face="Times New Roman" size="3"><br /></font></p>
<h2 style="margin:0in 0in 0pt;text-align:justify"><a name="TOC-Shallow-copying:"></a>Shallow copying:</h2>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">       A shallow copy means that C++ copies each member of the class individually using the <b>assignment operator</b>. When classes are simple (eg. do <b>not </b>contain any <b>dynamically allocated memory</b>), this works very well.</font></font></font><font color="#000000" face="Times New Roman" size="3"> </font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">For example, let’s take a look at our Cents class:</font></font></font></p>
<div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>    <span style="color:#66d9ef;font-style:italic">class</span> <span style="color:rgb(166,226,46)">Cents</span></div><div>    {</div><div>    <span style="color:#66d9ef;font-style:italic">private:</span></div><div>        <span style="color:#66d9ef;font-style:italic">int</span> m_nCents; </div><div>    <span style="color:#66d9ef;font-style:italic">public:</span></div><div>        <span style="color:#a6e22e">Cents</span>(<span style="color:#66d9ef;font-style:italic">int</span> <span style="color:#fd971f;font-style:italic">nCents</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>) { m_nCents <span style="color:#f92672">=</span> nCents; }</div><div>    };</div></div>
<br />
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">     When C++ does a shallow copy of this class, it will copy m_nCents using the standard integer assignment operator. Since this is exactly what we’d be doing anyway if we wrote our own copy constructor or overloaded assignment operator, there’s really no reason to write our own version of these functions!</font></font></font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font color="#000000" face="Times New Roman" size="3">       </font><font size="3"><font color="#000000"><font face="Times New Roman">However, when designing classes that handle <b>dynamically allocated memory</b>, memberwise <b>(shallow)</b> copying can get us in a <b>lot of trouble!</b> This is because the standard pointer assignment operator just copies the <b>address of the pointer</b> — it does <b>not allocate any memory</b> or copy the contents being pointed to!</font></font></font><font color="#000000" face="Times New Roman" size="3"> </font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">    Let’s take a look at an example of this:</font></font></font><font color="#000000" face="Times New Roman" size="3"> <br />
</font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><br />
</p>
<div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div style="line-height:20px"><div>    <span style="color:#66d9ef;font-style:italic">class</span> <span style="color:rgb(166,226,46)">MyString</span> {</div><div>    <span style="color:#66d9ef;font-style:italic">private:</span></div><div>        <span style="color:#66d9ef;font-style:italic">char</span> <span style="color:#f92672">*</span>m_pchString;</div><div>        <span style="color:#66d9ef;font-style:italic">int</span> m_nLength; </div><div>    <span style="color:#66d9ef;font-style:italic">public:</span></div><div>        <span style="color:#a6e22e">MyString</span>(<span style="color:#66d9ef;font-style:italic">char</span> <span style="color:#f92672">*</span><span style="color:#fd971f;font-style:italic">pchString</span><span style="color:#f92672">=</span><span style="color:#e6db74">""</span>) {</div><div>            m_nLength <span style="color:#f92672">=</span> <span style="color:#a6e22e">strlen</span>(pchString) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>; <span style="color:#75715e">// Find the length of the string  Plus one character for a terminator </span></div><div>            m_pchString<span style="color:#f92672">=</span> <span style="color:#f92672">new</span> <span style="color:#66d9ef;font-style:italic">char</span>[m_nLength];  <span style="color:#75715e">// Allocate a buffer equal to this length</span></div><div>            <span style="color:#a6e22e">strncpy</span>(m_pchString, pchString, m_nLength); <span style="color:#75715e">// Copy the parameter into our internal buffer</span></div><div>            m_pchString[m_nLength<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">'</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">0'</span>;  <span style="color:#75715e">// Make sure the string is terminated </span></div><div>        }</div><br /><div>        <span style="color:#a6e22e">~MyString</span>(){</div><div>            <span style="color:#f92672">delete[]</span> m_pchString; <span style="color:#75715e">// We need to deallocate our buffer </span></div><div>            m_pchString <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;      <span style="color:#75715e">// Set m_pchString to null just in case</span></div><div>        } </div><br /><div>        <span style="color:#66d9ef;font-style:italic">char</span><span style="color:#f92672">*</span> <span style="color:#a6e22e">GetString</span>() { <span style="color:#f92672">return</span> m_pchString; }</div><div>        <span style="color:#66d9ef;font-style:italic">int</span> <span style="color:#a6e22e">GetLength</span>()   { <span style="color:#f92672">return</span> m_nLength; }</div><div>    };</div></div></div>
<p style="margin:0in 0in 0pt;text-align:justify"><font color="#000000" face="Times New Roman" size="3"> </font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><b>Note</b> that we have <b>not</b> defined a <b>copy constructor</b> or <b>overloaded assignment operator</b>. Consequently, <b>C++</b> will <b>provide</b> default <b>copy constructor</b> and <b>default assignment operators</b> that do a <b>shallow copy.</b></font></font></font><font color="#000000" face="Times New Roman" size="3"> </font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">Now, consider the following snippet of code:</font></font></font><font color="#000000" face="Times New Roman" size="3"> </font></p>
<p style="margin:0in 0in 0pt;text-align:justify"> </p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">
</font></font></font></p><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>    <span style="color:#66d9ef;font-style:italic">void</span> <span style="color:#a6e22e">main</span>() {</div><div>        MyString <span style="color:#a6e22e">cHello</span>(<span style="color:#e6db74">"Hello, world!"</span>); </div><div>        {</div><div>            MyString cCopy <span style="color:#f92672">=</span> cHello; <span style="color:#75715e">// use default copy constructor</span></div><div>        } <span style="color:#75715e">// cCopy goes out of scope and DELETE cHello pointed memory ( very BAD )</span></div><br /><div>        <span style="color:rgb(166,226,46)">std</span>::cout <span style="color:#f92672">&lt;&lt;</span> cHello.<span style="color:#a6e22e">GetString</span>() <span style="color:#f92672">&lt;&lt;</span> <span style="color:rgb(166,226,46)">std</span>::endl; <span style="color:#75715e">// this will crash</span></div><div>    }</div></div>
 
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">While this code looks harmless enough, it contains an <b>insidious problem</b> that will cause the program to crash!. </font></font></font><font size="3"><font color="#000000"><font face="Times New Roman">Consider the line,</font></font></font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><span>    </span><b>MyString cCopy = cHello; /* use default copy constructor */</b></font></font></font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">             This line seems harmless enough as well, but it’s actually the source of our problem! When this line is evaluated, C++ will use the <b>default copy constructor</b> (because we haven’t provided our own), which does a <b>shallow pointer copy</b> on cHello.m_pchString. Because a shallow pointer copy just <b>copies the address of the pointer</b>, the address of cHello.m_pchString is copied into cCopy.m_pchString. As a result, <b>cCopy.m_pchString</b> and <b>cHello.m_pchString</b> are now <b>both pointing to the same piece of memory!</b></font></font></font><font color="#000000" face="Times New Roman" size="3"> . Consider the next line,</font></p><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre">        } <span style="color:#75715e">// cCopy goes out of scope here</span></div>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">          When cCopy goes out of scope, the MyString <b>destructor</b> is called on cCopy. The destructor deletes the dynamically allocated memory that both cCopy.m_pchString and cHello.m_pchString are pointing to! Consequently, by deleting cCopy, we’ve also <b>(inadvertently)</b> affected <b>cHello</b>. Note that the <b>destructor will set cCopy.m_pchString to 0</b>, but <b>cHello.m_pchString</b> will be left <b>pointing to the deleted (invalid) memory!</b></font></font></font><font size="3"> <font color="#000000"><font face="Times New Roman"><span>    <br /></span></font></font></font></p>
<div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre">        <span style="color:rgb(166,226,46)">std</span>::cout <span style="color:#f92672">&lt;&lt;</span> cHello.<span style="color:#a6e22e">GetString</span>() <span style="color:#f92672">&lt;&lt;</span> <span style="color:rgb(166,226,46)">std</span>::endl; <span style="color:#75715e">// this will crash</span></div>
<p style="margin:0in 0in 0pt;text-align:justify"><font color="#000000" face="Times New Roman" size="3"> </font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">     Now you can see why this crashes. We deleted the string that cHello was pointing to, and now we are trying to print the value of memory that is no longer allocated.</font></font></font><font color="#000000" face="Times New Roman" size="3"> </font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">      The root of this problem is the shallow copy done by the copy constructor — doing a shallow copy on pointer values in a copy constructor or overloaded assignment operator is almost always asking for trouble.</font></font></font><font color="#000000" face="Times New Roman" size="3"> </font></p>
<h2 style="margin:0in 0in 0pt;text-align:justify"><a name="TOC-1"></a><br /></h2><h2 style="margin:0in 0in 0pt;text-align:justify"><a name="TOC-Deep-Copying:"></a>Deep Copying:</h2>
<p style="margin:0in 0in 0pt;text-align:justify"><font color="#000000" face="Times New Roman" size="3">     </font><font size="3"><font color="#000000"><font face="Times New Roman">The answer to this problem is to do deep copying. <b>A deep copy duplicates the object or variable being pointed to so that the destination (the object being assigned to) receives its own local copy.</b> Doing deep copies requires that we write our own copy constructors and overloaded assignment operators.</font></font></font><font color="#000000" face="Times New Roman" size="3"> </font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">Let’s go ahead and show how this is done for our MyString class:</font></font></font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font color="#000000" face="Times New Roman" size="3"> </font></p>
<div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>    <span style="color:#75715e">/* Copy constructor */</span></div><div>    <span style="color:rgb(166,226,46)">Mystring</span>::<span style="color:#a6e22e">Mystring</span>(<span style="color:#f92672">const</span> Mystring<span style="color:#f92672">&amp;</span><span style="color:#fd971f;font-style:italic"> cSource</span>) {</div><div>        </div><div>        m_nLength <span style="color:#f92672">=</span> cSource.m_nLength; <span style="color:#75715e">/*Because m_nLength is not a pointer, we can shallow copy it */</span>      </div><div>        <span style="color:#f92672">if</span> (cSource.m_pchString) <span style="color:#75715e">/*m_pchString is a pointer, so we need to deep copy it if it is non-null*/</span></div><div>        {</div><div>            m_pchString <span style="color:#f92672">=</span> <span style="color:#f92672">new</span> <span style="color:#66d9ef;font-style:italic">char</span>[m_nLength]; <span style="color:#75715e">/* allocate memory for our copy */</span>           </div><div>            <span style="color:#a6e22e">strncpy</span>(m_pchString, cSource.m_pchString, m_nLength); <span style="color:#75715e">/* Copy the string into our newly allocated memory */</span></div><div>        }</div><div>        <span style="color:#f92672">else</span> m_pchString <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;</div><div>    } </div></div><p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><font face="monospace">
<br /></font></font></font></font></p><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>    <span style="color:#75715e">/* Assignment operator */</span></div><div>    MyString<span style="color:#f92672">&amp;</span> <span style="color:rgb(166,226,46)">Mystring</span>::<span style="color:#f92672">operator</span>=(<span style="color:#f92672">const</span> Mystring<span style="color:#f92672">&amp;</span><span style="color:#fd971f;font-style:italic"> cSource</span>)</div><div>    {</div><div>        <span style="color:#75715e">/* check for self-assignment */</span></div><div>        <span style="color:#f92672">if</span> (<span style="color:#fd971f">this</span> <span style="color:#f92672">==</span> <span style="color:#f92672">&amp;</span>cSource) <span style="color:#f92672">return</span> <span style="color:#f92672">*</span><span style="color:#fd971f">this</span>;</div><br /><div>        <span style="color:#f92672">delete[]</span> m_pchString; <span style="color:#75715e">/* first we need to deallocate any value that this string is holding! */</span></div><div>        </div><div>        m_nLength <span style="color:#f92672">=</span> cSource.m_nLength; <span style="color:#75715e">/* Because m_nLength is not a pointer, we can shallow copy it */</span></div><div>        <span style="color:#75715e">/* Now we need to deep copy m_pchString */</span></div><div>        <span style="color:#f92672">if</span> (cSource.m_pchString) {</div><div>            <span style="color:#75715e">/* allocate memory for our copy */</span></div><div>            m_pchString <span style="color:#f92672">=</span> <span style="color:#f92672">new</span> <span style="color:#66d9ef;font-style:italic">char</span>[m_nLength]; </div><div>            <span style="color:#75715e">/* Copy the parameter the newly allocated memory */</span></div><div>            <span style="color:#a6e22e">strncpy</span>(m_pchString, cSource.m_pchString, m_nLength);</div><div>        }</div><div>        <span style="color:#f92672">else</span> m_pchString <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; </div><br /><div>        <span style="color:#f92672">return</span> <span style="color:#f92672">*</span><span style="color:#fd971f">this</span>;</div><div>    }</div></div>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><br />
</font></font></font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">When the <b>overloaded assignment operator</b> is called, the item being assigned to may already contain a previous value, which we need to <b>make sure we clean up before we assign memory for new values</b>. <b>For non-dynamically allocated variables</b> (which are a fixed size), we don’t have to bother because the new value just overwrites the old one.</font></font></font></p><p style="margin:0in 0in 0pt;text-align:justify"><br /></p><p style="margin:0in 0in 0pt;text-align:justify"><font size="4"><b><font color="#000000"><font face="Times New Roman">Overloaded Assignment Operator implementation has 3 basic problems:</font></font></b></font></p><p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">1.  </font></font></font><font size="3"><font color="#000000"><font face="Times New Roman">self-assignment test:</font></font></font></p><p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">         Even though it's very useful but it occurs very rarely so most of the time going to useless test and slow the program performance. It should be removed by a better alternate.</font></font></font></p><p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">2. </font></font></font>No Exception guarantee:</p><p style="margin:0in 0in 0pt;text-align:justify">         <font size="3"><font color="#000000"><font face="Times New Roman"><font face="monospace">m_pchString = <font color="#804040"><b>new</b></font> <font color="#2e8b57"><b>char</b></font>[m_nLength]; <br /></font></font></font></font></p><p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><font face="monospace">    There is no guarantee for memory allocation. May through the exception due to out of memory problem. Also, it corrupts the state of *this.<br /></font></font></font></font></p><p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><font face="monospace">3. Code Duplication: <br /></font></font></font></font></p><p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><font face="monospace">   More or less it has the same code as the copy constructor.</font></font></font></font></p><p style="margin:0in 0in 0pt;text-align:justify"><br /></p><p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><font face="monospace">Solution: <b>Copy and Swap Idiom.</b></font></font></font></font></p><p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><font face="monospace">1. Reuse the same copy constructor code for making a copy. So there's is no need for duplicate code which avoids self-assignment test. </font></font></font></font>Additionally, we no longer have a performance penalty on non-self-assignments.</p><p style="margin:0in 0in 0pt;text-align:justify"><br /></p><p style="margin:0in 0in 0pt;text-align:justify">2. This Idiom gives us a strong exception guarantee for free: we won't even enter the 
function if the construction of the copy fails, and it's therefore not 
possible to alter the state of <code>*this</code>.</p><p style="margin:0in 0in 0pt;text-align:justify"><br /></p><p style="margin:0in 0in 0pt;text-align:justify">3. <code>swap</code> is non-throwing guaranteed. So we can swap our current data with the copied data, safely altering our state, and the old data gets put into the temporary. The old data is then released when the function returns. 
(Whereupon the parameter's scope ends and its destructor is called.)</p><p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><br /></font></font></font></p><p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><span style="color:rgb(255,0,0)"><b>Copy and Swap Idiom [ The Big Three and A Half Rule] / Copy Constructor and Swap Method]</b></span><br /></font></font></font></p>
<h3 style="margin:0in 0in 0pt;text-align:justify"><a name="TOC-Idiom-help-to-create-an-exception-safe-implementation-for-the-overloaded-assignment-operator."></a> Idiom help to create an exception-safe implementation for the overloaded assignment operator.<br /></h3><ol><li>avoiding code duplication with copy constructor;</li><li>providing a strong exception guarantee;</li></ol><p><u>Method 1:</u></p><pre><code><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px"><div>    <span style="color:#75715e">// Traditional</span></div><div>    T<span style="color:#f92672">&amp;</span> <span style="color:#f92672">operator</span>=(<span style="color:#f92672">const</span> T<span style="color:#f92672">&amp;</span><span style="color:#fd971f;font-style:italic"> rhs</span>) {</div><div>        T <span style="color:#a6e22e">temp</span>(rhs);       <span style="color:#75715e">// create temporary local data of the data, may throw exception</span></div><div>        <span style="color:#a6e22e">swap</span>(<span style="color:#f92672">*</span><span style="color:#fd971f">this</span>, temp); <span style="color:#75715e">// swap the old data with the local new data</span></div><div>        <span style="color:#f92672">return</span> <span style="color:#f92672">*</span><span style="color:#fd971f">this</span>;                         </div><div>    }                      <span style="color:rgb(117,113,94)">// temporay local data destructs with old data destruct</span></div></div></code><br /><u>Method 2:</u><br /><br /><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px"><div>    <span style="color:#75715e">// Better Method - copy constructor: the pass-by-value parameter serves as a temporary</span></div><div>    T<span style="color:#f92672">&amp;</span> <span style="text-align:justify;color:rgb(249,38,114)">operator</span><span style="text-align:justify">=</span>(<span style="color:rgb(249,38,114)">const</span> T rhs)     <span style="color:rgb(117,113,94)">// don't need to enter the function if construction of the copy fails</span></div><div>    {</div><div>        <span style="color:#a6e22e">swap</span>(<span style="color:#f92672">*</span><span style="color:#fd971f">this</span>, rhs); <span style="color:#75715e">// Non-throwing swap</span></div><div>        <span style="color:#f92672">return</span> <span style="color:#f92672">*</span><span style="color:#fd971f">this</span>;</div><div>    }                     <span style="color:#75715e">//  Old resources released when destructor is called.</span></div></div></pre><pre><code><b>Example:</b><br /></code></pre><h3 style="margin:0in 0in 0pt;text-align:justify"><a name="TOC-Assignment-operator-MyString-Mystring::operator-const-Mystring-cSource-swap-this-cSource-return-this-"></a><div style="color:#f8f8f2;background-color:#272822;font-family:Consolas,Courier New,monospace;font-weight:normal;font-size:15px;line-height:20px;white-space:pre"><div>    <span style="color:#75715e">/* Assignment operator */</span></div><div>    MyString<span style="color:#f92672">&amp;</span> <span style="color:rgb(166,226,46)">Mystring</span>::<span style="color:#f92672">operator</span>=(<span style="color:#f92672">const</span> Mystring <span style="color:#fd971f;font-style:italic">cSource</span>) {</div><div>        <span style="color:#a6e22e">swap</span>(<span style="color:#f92672">*</span><span style="color:#fd971f">this</span>, cSource); </div><div>        <span style="color:#f92672">return</span> <span style="color:#f92672">*</span><span style="color:#fd971f">this</span>; </div><div>    }</div></div></h3><h3 style="margin:0in 0in 0pt;text-align:justify"><a name="TOC-Ref:-http:-stackoverflow.com-questions-3279543-what-is-the-copy-and-swap-idiom-"></a><font size="3"><font color="#000000"><font face="Times New Roman"><font face="monospace">
Ref: http://stackoverflow.com/questions/3279543/what-is-the-copy-and-swap-idiom    </font></font></font></font></h3><h3 style="margin:0in 0in 0pt;text-align:justify"><a name="TOC-2"></a><br /></h3><h3 style="margin:0in 0in 0pt;text-align:justify"><a name="TOC-Preventing-Copying-Preventing-inheritance:"></a>Preventing Copying / Preventing inheritance:</h3>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">     Sometimes we simply don’t want our classes to be copied at all. The best way to do this is to <b>add the prototypes of the copy constructor and overloaded operator= to the private section of your class. </b>If you <b>add the default constructor in the private section then this class will not be inherited by other class.<br /></b></font></font></font></p>
<div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>    <span style="color:#66d9ef;font-style:italic">class</span> <span style="color:rgb(166,226,46)">MyString</span> {</div><div>        <span style="color:#66d9ef;font-style:italic">private:</span></div><div>            <span style="color:#66d9ef;font-style:italic">char</span> <span style="color:#f92672">*</span>m_pchString;</div><div>            <span style="color:#66d9ef;font-style:italic">int</span> m_nLength;</div><div>            <span style="color:#a6e22e">MyString</span>(<span style="color:#f92672">const</span> MyString<span style="color:#f92672">&amp;</span><span style="color:#fd971f;font-style:italic"> cSource</span>);</div><div>            MyString<span style="color:#f92672">&amp;</span> <span style="color:#f92672">operator</span>=(<span style="color:#f92672">const</span> MyString<span style="color:#f92672">&amp;</span><span style="color:#fd971f;font-style:italic"> cSource</span>);</div><div>        <span style="color:#66d9ef;font-style:italic">public:</span></div><div>            <span style="color:#a6e22e">MyString</span>();  <span style="color:#75715e">// Class can be inherited but not allow copying </span></div><div>    };</div><br /><div>    <span style="color:#66d9ef;font-style:italic">class</span> <span style="color:rgb(166,226,46)">Derived</span>: <span style="color:#66d9ef;font-style:italic">public</span> <span style="color:rgb(166,226,46)">MyString</span> {</div><div>        <span style="color:#66d9ef;font-style:italic">public:</span></div><div>            <span style="color:#a6e22e">Derived</span>();</div><div>    }; </div><br /><div>    <span style="color:#66d9ef;font-style:italic">int</span> <span style="color:#a6e22e">main</span>() {</div><div>        MyString my;         <span style="color:#75715e">// Valid</span></div><div>        MyString other <span style="color:#f92672">=</span> my; <span style="color:#75715e">// Error:  base class copy constructor and overloaded operator are in private</span></div><div>        Derived d;           <span style="color:#75715e">// OK: Base class default constructor is in public</span></div><div>    }</div></div><p style="margin:0in 0in 0pt;text-align:justify"><br /></p><p style="margin:0in 0in 0pt;text-align:justify"><b>Creating Utility Class / Private inheritance :</b><br /></p><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>    <span style="color:#66d9ef;font-style:italic">class</span> <span style="color:rgb(166,226,46)">A</span> {</div><div>        <span style="color:#66d9ef;font-style:italic">private:</span></div><div>            <span style="color:#a6e22e">A</span>() { cout<span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">" A Private null argument constructor"</span>; }</div><div>        <span style="color:#66d9ef;font-style:italic">public:</span>    </div><div>            <span style="color:#75715e">/* Note: Public Static function */</span></div><div>            <span style="color:#f92672">static</span> <span style="color:#66d9ef;font-style:italic">void</span> <span style="color:#a6e22e">show</span>() { </div><div><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span>cout<span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">" Act as a single copy of Utility function and can be accessed without any object"</span>; }</div><div>    }; </div><br /><div>    <span style="color:#75715e">// Error: Cannot inherit the class having private null argument constructor</span></div><div>    <span style="color:#66d9ef;font-style:italic">class</span> <span style="color:rgb(166,226,46)">B</span>: <span style="color:#66d9ef;font-style:italic">public</span> <span style="color:rgb(166,226,46)">A</span> {</div><div>        <span style="color:#66d9ef;font-style:italic">public:</span></div><div>            <span style="color:#a6e22e">B</span>() { cout<span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">" B public null argument constructor"</span>; } </div><div>    }; </div><br /><div>    <span style="color:#66d9ef;font-style:italic">int</span> <span style="color:#a6e22e">main</span>() {</div><div>        A a;        <span style="color:#75715e">// Error: Object cannot be created for the class having a private null argument constructor (ie., default constuctor)</span></div><div>        B b;        <span style="color:#75715e">// Error: Derived class cannot inherit the Base class having private null argument constructor.</span></div><div>        <span style="color:rgb(166,226,46)">A</span>::<span style="color:#a6e22e">show</span>()   <span style="color:#75715e">// OK: Same copy of the static function can be used throughout a file. </span></div><div>    }</div></div><br /><font size="3"><font color="#000000"><font face="Times New Roman">In this case, <b>C++
 will not automatically create a default copy constructor and default assignment operator, because we’ve told the compiler we’re defining our own functions.</b> Furthermore, any code located outside the class will not be able to access these functions because they’re private.</font></font></font><font color="#000000" face="Times New Roman" size="3"> </font><br /><br /><b>Private Static Function:</b><br /><b>Private static function</b> cannot be accessed from outside but it can be used as a helper function for another <b>Public static function</b> which can be accessed from outside without the use of object instance - just by class name.<font size="3"><font color="#000000"><font face="Times New Roman">      <br /><br /><b>Passing object by value/ reference - copy constructor/destructor:</b><br /></font></font></font><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>    <span style="color:#66d9ef;font-style:italic">class</span> <span style="color:rgb(166,226,46)">B</span> {</div><div>        <span style="color:#66d9ef;font-style:italic">public:</span></div><div>            <span style="color:rgb(166,226,46)">~B</span>()    { cout <span style="color:rgb(249,38,114)">&lt;&lt;</span> <span style="color:rgb(230,219,116)">"Destructor</span><span style="color:rgb(174,129,255)">\n</span><span style="color:rgb(230,219,116)">"</span>; }</div><div>            <span style="color:#a6e22e">B</span>()     { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">"Constructor</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">"</span>; }</div><div>            <span style="color:#a6e22e">B</span>(B <span style="color:#f92672">&amp;</span><span style="color:#fd971f;font-style:italic">b</span>) { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">"Copy Constructor"</span> <span style="color:#f92672">&lt;&lt;</span> endl; }</div><div><br /></div><div>            <span style="color:#75715e">// &amp; is missing : Calls the user defined or default copy constructor</span></div><div>            <span style="color:#66d9ef;font-style:italic">void</span> <span style="color:#a6e22e">show</span>(B <span style="color:#fd971f;font-style:italic">b</span>)  { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">"Show function"</span> <span style="color:#f92672">&lt;&lt;</span> endl; }</div><div>            <span style="color:#75715e">// &amp; is defined: Don't call any copy consturctor</span></div><div>            <span style="color:#66d9ef;font-style:italic">void</span> <span style="color:#a6e22e">disp</span>(B <span style="color:#f92672">&amp;</span><span style="color:#fd971f;font-style:italic">b</span>) { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">"Disp function"</span> <span style="color:#f92672">&lt;&lt;</span> endl; }</div><div>    };</div><br /><div>    <span style="color:#66d9ef;font-style:italic">int</span> <span style="color:#a6e22e">main</span>() {</div><div>        B b;       <span style="color:#75715e">// Constructor , (finally - Destructor)</span></div><div>        b.<span style="color:#a6e22e">show</span>(b); <span style="color:#75715e">// Copy Constructor, Show function, Destructor</span></div><div>        b.<span style="color:rgb(166,226,46)">disp</span>(b); <span style="color:rgb(117,113,94)">// Disp function (do NOT call any destructor)</span></div><div>    }</div></div><font size="3"><font color="#000000"><font face="Times New Roman"><br /></font></font></font><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>Output:</div><div>        Constructor</div><div>        Copy Constructor</div><div>        Show function</div><div>        Disp function</div><div>        Destructor</div><div>        Destructor  </div></div>
<p style="margin:0in 0in 0pt;text-align:justify"> </p>
<h2 style="margin:0in 0in 0pt;text-align:justify"><a name="TOC-Summary"></a>Summary</h2>
<p style="margin:0in 0in 0pt;text-align:justify"><font color="#000000" face="Times New Roman" size="3"> </font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><span>    </span>* The <b>default copy constructor</b> and <b>default assignment operators</b> do <b>shallow copies</b>, which is fine for classes that contain no dynamically allocated</font></font></font></p><p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman">       variables.</font></font></font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><span>    </span>* Classes with dynamically allocated variables <b>need</b> to have a copy constructor and assignment operator that do a deep copy.</font></font></font></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><span>    </span>* The <b>assignment operator</b> is usually implemented using the same code as the copy constructor, but it checks for<b> 1. self-assignment,  </b></font></font></font><b style="background-color:transparent;color:rgb(0,0,0);font-family:Times New Roman;font-size:medium">2. deallocates any</b></p><p style="margin:0in 0in 0pt;text-align:justify"><b style="background-color:transparent;color:rgb(0,0,0);font-family:Times New Roman;font-size:medium">       previously allocated memory</b><span style="background-color:transparent;color:rgb(0,0,0);font-family:Times New Roman;font-size:medium"> before deep copying. </span><b style="font-family:Times New Roman;color:rgb(0,0,0);font-size:medium;background-color:transparent">3. returns *this, and </b></p>
<p style="margin:0in 0in 0pt;text-align:justify"><font size="3"><font color="#000000"><font face="Times New Roman"><span>    </span>* If you don’t want a class to be copyable, use a <b>private copy constructor and assignment operator prototype</b> in the class header.</font></font></font></p></div></td></tr></tbody></table><div class="sites-layout-tile sites-tile-name-footer"><div dir="ltr"> </div></div></div>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div id="sites-attachments-container">
</div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/site/sridharkritha/shallowvs.deepcopying&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../../ssl.gstatic.com/sites/p/a71eef/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('_/tz.html', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, '../../../gg.google.com/csi.gif');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>

<!-- Mirrored from sites.google.com/site/sridharkritha/shallowvs.deepcopying by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Jul 2021 10:31:36 GMT -->
</html>
