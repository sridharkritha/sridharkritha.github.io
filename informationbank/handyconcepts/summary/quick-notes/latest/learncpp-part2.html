<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="../../../../../../../schema.org/WebPage.html">

<!-- Mirrored from sites.google.com/site/sridharkritha/handyconcepts/summary/quick-notes/latest/learncpp-part2 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Jul 2021 10:31:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="../../../../../../../www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="../../../../../../../ssl.gstatic.com/sites/p/a71eef/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/site/sridharkritha/handyconcepts","deleted":false,"title":"handyconcepts","dir":"ltr"},{"path":"/site/sridharkritha/handyconcepts/summary","deleted":false,"title":"summary","dir":"ltr"},{"path":"/site/sridharkritha/handyconcepts/summary/quick-notes","deleted":false,"title":"quick notes","dir":"ltr"},{"path":"/site/sridharkritha/handyconcepts/summary/quick-notes/latest","deleted":false,"title":"Learn C++ (Full Summary)","dir":"ltr"},{"path":"/site/sridharkritha/handyconcepts/summary/quick-notes/latest/learncpp-part2","deleted":false,"title":"LearnCpp - Part2","dir":"ltr"}];
  var JOT_clearDotPath = '../../../../../../../ssl.gstatic.com/sites/p/a71eef/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":false,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://1135735444-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"sridharkritha","experiments":{"enableSubpagesGadgetInTakeout":true,"DisableSiteEditingFeature__disable_site_editing":true,"disableDomainEditing":false},"jot2atari":{"eligibility":"INELIGIBLE"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":true,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/site/sridharkritha/handyconcepts/summary/quick-notes/latest/learncpp-part2\u0026service\u003djotspot","analyticsAccountId":"","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/a71eef/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/a71eef/system/js/codemirror.js","../../../../../../../ssl.gstatic.com/sites/p/a71eef/system/app/css/codemirror_css.css","../../../../../../../ssl.gstatic.com/sites/p/a71eef/system/js/trog_edit__en.js","../../../../../../../ssl.gstatic.com/sites/p/a71eef/system/app/css/trogedit.css","../../../../_/rsrc/1624520311000/system/app/css/editor.css","../../../../../../../ssl.gstatic.com/sites/p/a71eef/system/app/css/codeeditor.css","/site/sridharkritha/_/rsrc/1624520311000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"defaultdomain","baseUri":"/site/sridharkritha","name":"sridharkritha","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/handyconcepts/summary/quick-notes/latest","parentWuid":"wuid:gx:6e862cfe2ef39ff4","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"LearnCpp - Part2","locale":"en","wuid":"wuid:gx:5df9232320c7ce30","revision":26,"path":"/handyconcepts/summary/quick-notes/latest/learncpp-part2","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"learncpp-part2","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/site/sridharkritha/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="LearnCpp - Part2 - sridharkritha" />
<meta itemprop="name" content="LearnCpp - Part2 - sridharkritha" />
<meta property="og:title" content="LearnCpp - Part2 - sridharkritha" />
<meta name="description" content="Information Bank - Computer Science" />
<meta itemprop="description" content="Information Bank - Computer Science" />
<meta id="meta-tag-description" property="og:description" content="Information Bank - Computer Science" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="../../../../../../../ssl.gstatic.com/sites/p/a71eef/system/app/themes/ember/standard-css-ember-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../../../../_/rsrc/1624520311000/system/app/css/overlaydd2a.css?cb=ember150goog-ws-noside" />
<link rel="stylesheet" type="text/css" href="../../../../_/rsrc/1624520311000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/site/sridharkritha/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>LearnCpp - Part2 - sridharkritha</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><h2></h2></div></td><td class="sites-layout-searchbox  "></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left" style="display: none; width: 150px">
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../../../../handyconcepts.html" dir="ltr">handyconcepts</A>‎ &gt; ‎<A href="../../../summary.html" dir="ltr">summary</A>‎ &gt; ‎<A href="../../quick-notes.html" dir="ltr">quick notes</A>‎ &gt; ‎<A href="../latest.html" dir="ltr">Learn C++ (Full Summary)</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">LearnCpp - Part2</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-left-sidebar-hf sites-layout-vbox"><div class="sites-layout-tile sites-tile-name-header sites-layout-empty-tile"><div dir="ltr"><br /></div></div><table cellspacing="0" class="sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1 sites-canvas-sidebar sites-layout-empty-tile"><div dir="ltr"><br /></div></td><td class="sites-layout-tile sites-tile-name-content-2"><div dir="ltr"><div><div><span style="background-color:transparent"><b>Memory Segments: </b>The memory that a program uses is typically divided into <b>5 different areas,</b> called segments:</span></div><div>    1. <b>Code segment</b> (also called a <b>text </b>segment), where the <b>compiled program </b>sits in memory. The code segment is typically <b>read-only.</b></div><div>    2. <b>bss segment </b>(also called the <b>uninitialized </b>data segment), where <b>zero-initialized global </b>and <b>static </b>variables are stored.</div><div>    3. <b>Data segment </b>(also called the <b>initialized </b>data segment), where <b>initialized global</b> and <b>static </b>variables are stored.</div><div>    4. <b>Heap segment,</b> where <b>dynamically </b>allocated variables are allocated from.</div><div>    5. <b>Call stack segment,</b> where <b>function parameters, local variables </b>and other <b>function-related information are stored.</b></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div></div><div><b>Measure the function speed using chrono:</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:rgb(86,156,214)">    </span><span style="color:rgb(197,134,192)">#include</span><span style="color:rgb(86,156,214)"> </span><span style="color:rgb(206,145,120)">&lt;chrono&gt;</span><span style="color:rgb(86,156,214)"> </span><span style="color:rgb(106,153,85)">// for std::chrono functions </span></div><div>    <span style="color:rgb(86,156,214)">class</span> <span style="color:rgb(78,201,176)">Timer</span></div><div>    {</div><div>    <span style="color:rgb(86,156,214)">private:</span></div><div><span style="color:rgb(106,153,85)">        // Type aliases to make accessing nested type easier</span></div><div>        <span style="color:rgb(197,134,192)">using</span> <span style="color:rgb(86,156,214)">clock_t </span> = <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">chrono</span>::<span style="color:rgb(78,201,176)">high_resolution_clock</span>;</div><div>        <span style="color:rgb(197,134,192)">using</span> <span style="color:rgb(78,201,176)">second_t</span> = <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">chrono</span>::<span style="color:rgb(78,201,176)">duration</span>&lt;<span style="color:rgb(86,156,214)">double</span>, <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ratio</span>&lt;<span style="color:rgb(181,206,168)">1</span>&gt;&gt;;</div><div>        </div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">chrono</span>::time_point&lt;<span style="color:rgb(86,156,214)">clock_t</span>&gt; m_beg;</div><div>    </div><div>    <span style="color:rgb(86,156,214)">public:</span></div><div>        <span style="color:rgb(220,220,170)">Timer</span>() : <span style="color:rgb(220,220,170)">m_beg</span>(<span style="color:rgb(86,156,214)">clock_t</span>::<span style="color:rgb(220,220,170)">now</span>())</div><div>        {</div><div>        }</div><div>        </div><div>        <span style="color:rgb(86,156,214)">void</span> <span style="color:rgb(220,220,170)">reset</span>()</div><div>        {</div><div>            m_beg = <span style="color:rgb(86,156,214)">clock_t</span>::<span style="color:rgb(220,220,170)">now</span>();</div><div>        }</div><div>        </div><div>        <span style="color:rgb(86,156,214)">double</span> <span style="color:rgb(220,220,170)">elapsed</span>() <span style="color:rgb(86,156,214)">const</span></div><div>        {</div><div>            <span style="color:rgb(197,134,192)">return</span> <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">chrono</span>::<span style="color:rgb(220,220,170)">duration_cast</span>&lt;<span style="color:rgb(78,201,176)">second_t</span>&gt;(<span style="color:rgb(86,156,214)">clock_t</span>::<span style="color:rgb(220,220,170)">now</span>() - m_beg).<span style="color:rgb(220,220,170)">count</span>();</div><div>        }</div><div>    };</div></div></div><div><br /></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(220,220,170)">main</span>()</div><div>    {</div><div>        Timer t;</div><div><span style="color:rgb(106,153,85)">        ///////////////////////////// </span></div><div><div style="line-height:22px"><div><span style="color:#6a9955">    <span>    </span>// some complex time consuming task</span></div><div>    <span>    </span><span style="color:#c586c0">for</span> (<span style="color:#569cd6">int</span> i = <span style="color:#b5cea8">0</span>; i &lt; <span style="color:#b5cea8">1e5</span>; ++i) cout &lt;&lt; <span style="color:#ce9178">"hello sridhar"</span>;</div></div></div><div><span style="color:rgb(106,153,85)">        ///////////////////////////// </span></div><div>        <span style="color:rgb(78,201,176)">std</span>::cout &lt;&lt; <span style="color:rgb(206,145,120)">"Time elapsed: "</span> &lt;&lt; <span style="color:rgb(156,220,254)">t</span>.<span style="color:rgb(220,220,170)">elapsed</span>() &lt;&lt; <span style="color:rgb(206,145,120)">" seconds</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">"</span>;</div><div>    }</div></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>operator overloading: </b><span style="background-color:transparent;font-size:10pt">In C++, </span><b style="background-color:transparent;font-size:10pt">operators are implemented as functions. </b><span style="background-color:transparent;font-size:10pt">By using function overloading on the operator functions, you can define your own versions of the operators </span><span style="background-color:transparent;font-size:10pt">that work with different data types (including classes that you’ve written).</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">int</span> x = <span style="color:rgb(181,206,168)">2</span>;</div><div>    <span style="color:rgb(86,156,214)">int</span> y = <span style="color:rgb(181,206,168)">3</span>;</div><div>    <span style="color:rgb(78,201,176)">std</span>::cout &lt;&lt; x + y &lt;&lt; <span style="color:rgb(206,145,120)">'</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">'</span>;<span style="color:rgb(106,153,85)"> //  operator+(x, y) (where operator+ is the name of the function).</span></div><br /><div>    <span style="color:rgb(86,156,214)">double</span> z = <span style="color:rgb(181,206,168)">2.0</span>;</div><div>    <span style="color:rgb(86,156,214)">double</span> w = <span style="color:rgb(181,206,168)">3.0</span>;</div><div>    <span style="color:rgb(78,201,176)">std</span>::cout &lt;&lt; w + z &lt;&lt; <span style="color:rgb(206,145,120)">'</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">'</span>;<span style="color:rgb(106,153,85)"> //  operator+(x, y) (where operator+ is the name of the function).</span></div></div></div><div><span style="background-color:transparent;font-size:10pt"><b>function overloading</b> is used to determine that the compiler should be calling the double version (or) integer version.</span></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>What are the limitations on operator overloading?</b></div><div><span>    </span>1. Almost any <b>existing </b>operator in C++ can be overloaded. </div><div>   <span>     </span>The <b>exceptions </b>are: conditional (<b>?:</b>), <b>sizeof</b>, scope (<b>::</b>), member selector (<b>.</b>), member pointer selector (<b>.*</b>), <b>typeid</b>, and the <b>casting operators.</b></div><div><span>    </span>2. You can only overload the operators that exist. You can not create new operators or rename existing operators. </div><div>   <span>     </span>For example, you could <b>not create</b> an operator<b> ** </b>to do exponents.</div><div><span>    </span>3. <b>At least one</b> of the <b>operands </b>in an overloaded operator must be a <b>user-defined type.</b> </div><div>   <span>     </span>This means you can <b>not</b> <b>overload </b>the plus operator to work with one <b>integer </b>and one <b>double. </b></div><div>   <span>     </span>However, you <b>could </b>overload the plus operator to work with an <b>integer </b>and a <b>Mystring.</b></div><div><span>    </span>4. All operators <b>keep their default precedence and associativity</b> (regardless of what they’re used for) and this can not be changed.</div><div>    <span>    </span>Some new programmers attempt to <b>overload </b>the <b>bitwise XOR operator (^) </b>to do exponentiation. </div><div>    <span>    </span>However, in C++, <b>operator^ </b>has a <b>lower precedence</b> level <b>than </b>the <b>basic arithmetic operators,</b><span style="background-color:transparent;font-size:10pt">which causes expressions to evaluate incorrectly.</span></div><div><span>    </span>5. It is <b>not possible to change</b> the <b>number of operands</b> an operator supports.</div><div>    <span>    </span>Ex: overloaded <b>division </b>also should use 2 operands <b>NOT 3 </b>operands.</div><div>//////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Best practice: </b><span style="background-color:transparent;font-size:10pt">When overloading operators, it’s best to keep the function of the operators as close to the original intent of the operators as possible.</span></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>1. operator overloading</b> using -  <b>friend function:</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">class</span> <span style="color:rgb(78,201,176)">Cents</span></div><div>    {</div><div>    <span style="color:rgb(86,156,214)">private:</span></div><div>        <span style="color:rgb(86,156,214)">int</span> m_cents{};    </div><div>    <span style="color:rgb(86,156,214)">public:</span></div><div>        <span style="color:rgb(220,220,170)">Cents</span>(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(156,220,254)">cents</span>) : <span style="color:rgb(220,220,170)">m_cents</span>{ cents }</div><div>        { }</div><div>        </div><div><span style="color:rgb(106,153,85)">        // add Cents + Cents using a friend function</span></div><div>        <span style="color:rgb(86,156,214)">friend</span> <span style="color:rgb(78,201,176)">Cents</span> <span style="color:rgb(197,134,192)">operator+</span>(<span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Cents</span><span style="color:rgb(86,156,214)">&amp; </span><span style="color:rgb(156,220,254)">c1</span>, <span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Cents</span><span style="color:rgb(86,156,214)">&amp; </span><span style="color:rgb(156,220,254)">c2</span>);</div><div>        </div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(220,220,170)">getCents</span>() <span style="color:rgb(86,156,214)">const</span> { <span style="color:rgb(197,134,192)">return</span> m_cents; }</div><div>    };</div><div>    </div><div><span style="color:rgb(106,153,85)">    // note: this function is not a member function!</span></div><div>    <span style="color:rgb(78,201,176)">Cents</span> <span style="color:rgb(197,134,192)">operator+</span>(<span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Cents</span><span style="color:rgb(86,156,214)">&amp; </span><span style="color:rgb(156,220,254)">c1</span>, <span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Cents</span><span style="color:rgb(86,156,214)">&amp; </span><span style="color:rgb(156,220,254)">c2</span>)</div><div>    {</div><div><span style="color:rgb(106,153,85)">        // use the Cents constructor and operator+(int, int)</span></div><div><span style="color:rgb(106,153,85)">        // we can access m_cents directly because this is a friend function</span></div><div>        <span style="color:rgb(197,134,192)">return</span> { <span style="color:rgb(156,220,254)">c1</span>.<span style="color:rgb(156,220,254)">m_cents</span> + <span style="color:rgb(156,220,254)">c2</span>.<span style="color:rgb(156,220,254)">m_cents</span> };</div><div>    }</div><div>    </div><div>    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(220,220,170)">main</span>()</div><div>    {</div><div>        Cents cents1{ <span style="color:rgb(181,206,168)">6</span> };</div><div>        Cents cents2{ <span style="color:rgb(181,206,168)">8</span> };</div><div>        Cents centsSum{ cents1 + cents2 };</div><div>        <span style="color:rgb(78,201,176)">std</span>::cout &lt;&lt; <span style="color:rgb(206,145,120)">"I have "</span> &lt;&lt; <span style="color:rgb(156,220,254)">centsSum</span>.<span style="color:rgb(220,220,170)">getCents</span>() &lt;&lt; <span style="color:rgb(206,145,120)">" cents.</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">"</span>;</div><div>    }</div></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>2. operator overloading </b>using -  <b>normal function:</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">class</span> <span style="color:rgb(78,201,176)">Cents</span></div><div>    {</div><div>    <span style="color:rgb(86,156,214)">private:</span></div><div>        <span style="color:rgb(86,156,214)">int</span> m_cents{};    </div><div>    <span style="color:rgb(86,156,214)">public:</span></div><div>        <span style="color:rgb(220,220,170)">Cents</span>(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(156,220,254)">cents</span>) : <span style="color:rgb(220,220,170)">m_cents</span>{ cents }</div><div>        { }</div><div>        </div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(220,220,170)">getCents</span>() <span style="color:rgb(86,156,214)">const</span> { <span style="color:rgb(197,134,192)">return</span> m_cents; }</div><div>    };</div><div>    </div><div><span style="color:rgb(106,153,85)">    // note: this function is not a member function nor a friend function!</span></div><div>    <span style="color:rgb(78,201,176)">Cents</span> <span style="color:rgb(197,134,192)">operator+</span>(<span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Cents</span> <span style="color:rgb(86,156,214)">&amp;</span><span style="color:rgb(156,220,254)">c1</span>, <span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Cents</span> <span style="color:rgb(86,156,214)">&amp;</span><span style="color:rgb(156,220,254)">c2</span>)</div><div>    {</div><div><span style="color:rgb(106,153,85)">        // use the Cents constructor and operator+(int, int)</span></div><div><span style="color:rgb(106,153,85)">        // we don't need direct access to private members here</span></div><div>        <span style="color:rgb(197,134,192)">return</span> Cents{ <span style="color:rgb(156,220,254)">c1</span>.<span style="color:rgb(220,220,170)">getCents</span>() + <span style="color:rgb(156,220,254)">c2</span>.<span style="color:rgb(220,220,170)">getCents</span>() };</div><div>    }</div></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Rule: Prefer</b> overloading operators <b>as normal functions </b>instead of friends if it’s possible to do so without adding additional functions.</div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Overloading operator&lt;&lt;</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre">    <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(78,201,176)">point</span>;<span style="color:rgb(106,153,85)"> // The left operand is the std::cout obj, and the right operand is your Point class obj. </span></div></div><div><br /></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:rgb(106,153,85)">    // std::ostream is the data type of std::cout </span><span style="color:rgb(106,153,85)">object </span></div><div>    friend <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ostream</span>&amp; operator&lt;&lt; (<span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ostream</span>&amp; <span style="color:rgb(78,201,176)">out</span>, <span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Point</span>&amp; <span style="color:rgb(78,201,176)">point</span>);</div></div></div><div><br /></div><div>Example:</div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ostream</span>&amp; operator&lt;&lt; (<span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ostream</span>&amp; <span style="color:rgb(78,201,176)">out</span>, <span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Point</span>&amp; <span style="color:rgb(78,201,176)">point</span>)</div><div>    {</div><div><span style="color:rgb(106,153,85)">        // Since operator&lt;&lt; is a friend of the Point class, we can access Point's members directly.</span></div><div>        <span style="color:rgb(78,201,176)">out</span> &lt;&lt; <span style="color:rgb(206,145,120)">"Point("</span> &lt;&lt; point.<span style="color:rgb(78,201,176)">m_x</span> &lt;&lt; <span style="color:rgb(206,145,120)">", "</span> &lt;&lt; point.<span style="color:rgb(78,201,176)">m_y</span> &lt;&lt; <span style="color:rgb(206,145,120)">", "</span> &lt;&lt; point.<span style="color:rgb(78,201,176)">m_z</span> &lt;&lt; <span style="color:rgb(206,145,120)">')'</span>;<span style="color:rgb(106,153,85)"> // actual output done here</span></div><div>        return <span style="color:rgb(78,201,176)">out</span>;<span style="color:rgb(106,153,85)"> // return std::ostream so we can chain calls to operator&lt;&lt;</span></div><div>    }</div></div></div><div><span style="background-color:transparent;font-size:10pt"><b>Note: </b></span><span style="background-color:transparent;font-size:10pt">1. If you try to <b>return std::ostream by value, </b>you’ll get a <b>compiler error. </b>T</span><span style="background-color:transparent;font-size:10pt">his happens because std::ostream specifically <b>disallows </b>being <b>copied.</b></span></div><div>         2. In this case, we return the left-hand parameter as a <b>reference.</b> This not only prevents <span style="background-color:transparent;font-size:10pt">a copy of std::ostream from being made, but it also allows</span></div><div><span style="background-color:transparent;font-size:10pt">             us to “chain” output commands together, such as <b>std::cout &lt;&lt; point &lt;&lt; std::endl;</b></span></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>3. operator overloading</b> using -  <b>member function:</b></div><div>    a). Overloaded operator must be added as a member function of the left operand.</div><div>    b). The <b>left </b>operand becomes the <b>implicit *this object.</b></div><div>    c). <b>All other</b> operands become function <b>parameters.</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">class</span> <span style="color:rgb(78,201,176)">Cents</span></div><div>    {</div><div>    private:</div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">m_cents</span>;    </div><div>    public:</div><div>        <span style="color:rgb(78,201,176)">Cents</span>(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">cents</span>) { <span style="color:rgb(78,201,176)">m_cents</span> = <span style="color:rgb(78,201,176)">cents</span>; }</div><div>    </div><div><span style="color:rgb(106,153,85)">        // Overload Cents + int</span></div><div>        <span style="color:rgb(78,201,176)">Cents</span> operator+(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">value</span>);</div><div>    </div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">getCents</span>() <span style="color:rgb(86,156,214)">const</span> { return <span style="color:rgb(78,201,176)">m_cents</span>; }</div><div>    };</div><div>    </div><div><span style="color:rgb(106,153,85)">    // note: this function is a member function!</span></div><div><span style="color:rgb(106,153,85)">    // the cents parameter in the friend version is now the implicit *this parameter</span></div><div>    <span style="color:rgb(78,201,176)">Cents</span> <span style="color:rgb(78,201,176)">Cents</span>::operator+(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">value</span>)</div><div>    {</div><div>        return <span style="color:rgb(78,201,176)">Cents</span>(<span style="color:rgb(78,201,176)">m_cents</span> + <span style="color:rgb(78,201,176)">value</span>);</div><div>    }</div><div>    </div><div>    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">main</span>()</div><div>    {</div><div>        <span style="color:rgb(78,201,176)">Cents</span> <span style="color:rgb(78,201,176)">cents1</span>(<span style="color:rgb(181,206,168)">6</span>);</div><div>        <span style="color:rgb(78,201,176)">Cents</span> <span style="color:rgb(78,201,176)">cents2</span> = <span style="color:rgb(78,201,176)">cents1</span> + <span style="color:rgb(181,206,168)">2</span>;</div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(206,145,120)">"I have "</span> &lt;&lt; cents2.<span style="color:rgb(78,201,176)">getCents</span>() &lt;&lt; <span style="color:rgb(206,145,120)">" cents.</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">"</span>;</div><div>    }</div></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div> <b>overloaded as a friend function (or) member function ?:</b></div><div> 1. <b>Not everything </b>can be overloaded <b>as a friend function.</b></div><div>    a). The assignment (<b>=</b>), subscript (<b>[]</b>), function call (<b>()</b>), and member selection (<b>-&gt;</b>) operators <b>must </b><span style="background-color:transparent;font-size:10pt">be overloaded as <b>member functions</b> because the</span></div><div><span style="background-color:transparent;font-size:10pt">         <b>language requires them to be.</b></span></div><div>    b). <b>Unary operators</b> are usually overloaded as member functions as well</div><div><br /></div><div> 2. <b>Not everything</b> can be overloaded <b>as a member function:</b></div><div><span style="background-color:transparent;font-size:10pt">    a). <b>operator&lt;&lt;</b> be overloaded as a <b>normal </b>function (preferred) or a <b>friend</b>(<b>NOT </b>by <b>member </b>function).</span></div><div>    b). Similarly, although we can overload <b>operator+(Cents, int) as a member function</b> (as we did above), </div><div>         we <b>can’t </b>overload <b>operator+(int, Cents) </b>as a member function, because int isn’t a class we can add members to.</div><div>    c). Typically, we <b>won’t</b> be able to use a member overload if the <b>left operand </b>is either <b>not a class</b> (e.g. int), </div><div>         or it is a <b>class that we can’t modify</b> (e.g. std::ostream).</div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Overloading unary operators +, -, and !:</b> Typically unary operator overloads are implemented as <b>member functions. </b></div><div>All 3 operands are implemented in an <b>identical manner.</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:rgb(86,156,214)">    </span><span style="color:rgb(197,134,192)">#include</span><span style="color:rgb(86,156,214)"> </span><span style="color:rgb(206,145,120)">&lt;iostream&gt;</span><span style="color:rgb(86,156,214)"> </span></div><div>    <span style="color:rgb(86,156,214)">class</span> <span style="color:rgb(78,201,176)">Cents</span></div><div>    {</div><div>    private:</div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">m_cents</span>;</div><div>    </div><div>    public:</div><div>        <span style="color:rgb(78,201,176)">Cents</span>(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">cents</span>) { <span style="color:rgb(78,201,176)">m_cents</span> = <span style="color:rgb(78,201,176)">cents</span>; }</div><div>    </div><div><span style="color:rgb(106,153,85)">        // Overload -Cents as a member function</span></div><div>        <span style="color:rgb(78,201,176)">Cents</span> operator-() <span style="color:rgb(86,156,214)">const</span>;</div><div>    </div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">getCents</span>() <span style="color:rgb(86,156,214)">const</span> { return <span style="color:rgb(78,201,176)">m_cents</span>; }</div><div>    };</div><div>    </div><div><span style="color:rgb(106,153,85)">    // note: this function is a member function!</span></div><div>    <span style="color:rgb(78,201,176)">Cents</span> <span style="color:rgb(78,201,176)">Cents</span>::operator-() <span style="color:rgb(86,156,214)">const</span><span style="color:rgb(106,153,85)"> // const bcos it is NOT going to change the object</span></div><div>    {</div><div>        return <span style="color:rgb(78,201,176)">Cents</span>(-<span style="color:rgb(78,201,176)">m_cents</span>);</div><div>    }</div><div>    </div><div>    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">main</span>()</div><div>    {</div><div>        <span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Cents</span> <span style="color:rgb(78,201,176)">nickle</span>(<span style="color:rgb(181,206,168)">5</span>);</div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(206,145,120)">"A nickle of debt is worth "</span> &lt;&lt; (-<span style="color:rgb(78,201,176)">nickle</span>).<span style="color:rgb(78,201,176)">getCents</span>() &lt;&lt; <span style="color:rgb(206,145,120)">" cents</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">"</span>;</div><div>    }</div></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Overloading the subscript operator []:</b></div><div><b>Problem:</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">class</span> <span style="color:rgb(78,201,176)">IntList</span></div><div>    {</div><div>    private:</div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">m_list</span>[<span style="color:rgb(181,206,168)">10</span>]{};</div><div>    };</div><div>    </div><div>    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">main</span>()</div><div>    {</div><div>        <span style="color:rgb(78,201,176)">IntList</span> <span style="color:rgb(78,201,176)">list</span>{};</div><div><span style="color:rgb(106,153,85)">        // how do we access elements from m_list without explicit public function setValue() &amp; getValue()?</span></div><div>        return <span style="color:rgb(181,206,168)">0</span>;</div><div>    }</div></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Solution:</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">class</span> <span style="color:rgb(78,201,176)">IntList</span></div><div>    {</div><div>    private:</div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">m_list</span>[<span style="color:rgb(181,206,168)">10</span>]{};</div><div>    </div><div>    public:</div><div>        <span style="color:rgb(86,156,214)">int</span>&amp; operator[] (<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">index</span>);</div><div>    };</div><div>    </div><div>    <span style="color:rgb(86,156,214)">int</span>&amp; <span style="color:rgb(78,201,176)">IntList</span>::operator[] (<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">index</span>)<span style="color:rgb(106,153,85)">  // should return reference NOT rValue</span></div><div>    {</div><div>        <span style="color:rgb(78,201,176)">assert</span>(<span style="color:rgb(78,201,176)">index</span> &gt;= <span style="color:rgb(181,206,168)">0</span> &amp;&amp; <span style="color:rgb(78,201,176)">index</span> &lt; <span style="color:rgb(181,206,168)">10</span>);<span style="color:rgb(106,153,85)"> // extra bound check can be supported </span></div><div>        return <span style="color:rgb(78,201,176)">m_list</span>[<span style="color:rgb(78,201,176)">index</span>];</div><div>    }</div><br /><div>    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">main</span>()</div><div>    {</div><div><span style="color:rgb(106,153,85)">    // Works for normal array!</span></div><div>        <span style="color:rgb(78,201,176)">IntList</span> <span style="color:rgb(78,201,176)">list</span>{};</div><div>        <span style="color:rgb(78,201,176)">list</span>[<span style="color:rgb(181,206,168)">2</span>] = <span style="color:rgb(181,206,168)">3</span>;<span style="color:rgb(106,153,85)">    // set a value</span></div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(78,201,176)">list</span>[<span style="color:rgb(181,206,168)">2</span>] &lt;&lt; <span style="color:rgb(206,145,120)">'</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">'</span>;<span style="color:rgb(106,153,85)"> // get a value</span></div><br /><div><span style="color:rgb(106,153,85)">    // Problem: Pointers to objects </span></div><div>        <span style="color:rgb(78,201,176)">IntList</span>* <span style="color:rgb(78,201,176)">list</span>{ new <span style="color:rgb(78,201,176)">IntList</span>{} };</div><div>        <span style="color:rgb(78,201,176)">list</span>[<span style="color:rgb(181,206,168)">2</span>] = <span style="color:rgb(181,206,168)">3</span>;<span style="color:rgb(106,153,85)">    // Error: this will assume we're accessing index 2 of an array of IntLists</span></div><div>        delete <span style="color:rgb(78,201,176)">list</span>;</div><div><span style="color:rgb(106,153,85)">    // Solution:</span></div><div>        <span style="color:rgb(78,201,176)">IntList</span>* <span style="color:rgb(78,201,176)">list</span>{ new <span style="color:rgb(78,201,176)">IntList</span>{} };</div><div>        (*<span style="color:rgb(78,201,176)">list</span>)[<span style="color:rgb(181,206,168)">2</span>] = <span style="color:rgb(181,206,168)">3</span>;<span style="color:rgb(106,153,85)"> // get our IntList object, then call overloaded operator[]</span></div><div>        delete <span style="color:rgb(78,201,176)">list</span>;</div><div>    }</div></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Overloading the parenthesis operator():</b></div><div>The parenthesis operator (operator()) is a particularly interesting operator in that it allows you <span style="background-color:transparent;font-size:10pt">to<b> vary both</b> the <b>type </b>AND <b>number of parameters </b>it takes.</span></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>functors: </b><span style="background-color:transparent;font-size:10pt"><b>operator()</b> is commonly <b>overloaded to implement functors</b> (or function object), which are <b>classes </b></span><span style="background-color:transparent;font-size:10pt"><b>that operate like functions.</b> The advantage of a functor over a normal function is that <b>functors can </b></span><span style="background-color:transparent;font-size:10pt"><b>store data</b> in member variables (since they are classes).</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">class</span> <span style="color:rgb(78,201,176)">Accumulator</span></div><div>    {</div><div>    private:</div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">m_counter</span>{ <span style="color:rgb(181,206,168)">0</span> };    </div><div>    public:</div><div>        <span style="color:rgb(86,156,214)">int</span> operator()(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">i</span>) { return (<span style="color:rgb(78,201,176)">m_counter</span> += <span style="color:rgb(78,201,176)">i</span>); }</div><div>    };</div><div>    </div><div>    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">main</span>()</div><div>    {</div><div>        <span style="color:rgb(78,201,176)">Accumulator</span> <span style="color:rgb(78,201,176)">acc</span>{};</div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(78,201,176)">acc</span>(<span style="color:rgb(181,206,168)">10</span>) &lt;&lt; <span style="color:rgb(206,145,120)">'</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">'</span>;<span style="color:rgb(106,153,85)"> // prints 10</span></div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(78,201,176)">acc</span>(<span style="color:rgb(181,206,168)">20</span>) &lt;&lt; <span style="color:rgb(206,145,120)">'</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">'</span>;<span style="color:rgb(106,153,85)"> // prints 30</span></div><div>    }</div></div></div><div><b>Note:</b> <b>Accumulator </b>looks just <b>like </b>making a <b>normal function</b> call, but our <span style="background-color:transparent;font-size:10pt"><b>Accumulator object</b> is <b>storing </b>an accumulated value.</span></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Overloading typecasts / User-defined typecast by overloading:</b></div><div>There are 3 things to note:</div><div>    1). To overload the function that <b>casts our class to an int,</b> we write a new function in our class <span style="background-color:transparent;font-size:10pt">called <b>'operator int()'.</b> </span></div><div><span style="background-color:transparent;font-size:10pt">         Note that there is a space between </span><span style="background-color:transparent;font-size:10pt">the word operator and the type we are casting to.</span></div><div>    2). User-defined conversions<b> do not take parameters,</b> as there is no way to pass arguments to them.</div><div>    3). User-defined conversions <b>do not have a return type. </b>C++ assumes you will be returning the correct type.</div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">class</span> <span style="color:rgb(78,201,176)">Cents</span></div><div>    {</div><div>    private:</div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">m_cents</span>;</div><div>    public:</div><div>        <span style="color:rgb(78,201,176)">Cents</span>(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">cents</span>=<span style="color:rgb(181,206,168)">0</span>) : <span style="color:rgb(78,201,176)">m_cents</span>{ <span style="color:rgb(78,201,176)">cents</span> }<span style="color:rgb(106,153,85)"> // Converts int =&gt; Cents</span></div><div>        {</div><div>        }</div><div>    </div><div><span style="color:rgb(106,153,85)">        // Overloaded int cast</span></div><div>        operator <span style="color:rgb(86,156,214)">int</span>() <span style="color:rgb(86,156,214)">const</span> { return <span style="color:rgb(78,201,176)">m_cents</span>; }<span style="color:rgb(106,153,85)"> // Convert Cents =&gt; int</span></div><div>    </div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">getCents</span>() <span style="color:rgb(86,156,214)">const</span> { return <span style="color:rgb(78,201,176)">m_cents</span>; }<span style="color:rgb(106,153,85)"> // NO need for explicit call for the conversion Cents =&gt; int</span></div><div>    };</div><br /><div>    <span style="color:rgb(86,156,214)">void</span> <span style="color:rgb(78,201,176)">printInt</span>(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">value</span>)</div><div>    {</div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(78,201,176)">value</span>;</div><div>    }</div><br /><div>    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">main</span>()</div><div>    {</div><div>        <span style="color:rgb(78,201,176)">Cents</span> <span style="color:rgb(78,201,176)">cents</span>{ <span style="color:rgb(181,206,168)">7</span> };</div><div>        <span style="color:rgb(78,201,176)">printInt</span>(<span style="color:rgb(78,201,176)">cents</span>);<span style="color:rgb(106,153,85)"> // print 7</span></div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">c</span>{ static_cast&lt;<span style="color:rgb(86,156,214)">int</span>&gt;(<span style="color:rgb(78,201,176)">cents</span>) };<span style="color:rgb(106,153,85)"> // also works</span></div><div>    }</div></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Convert one user-defined type to another:</b> <span>    </span><span>    </span><b>Dollar =&gt; Cents</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">class</span> <span style="color:rgb(78,201,176)">Dollars</span></div><div>    {</div><div>    private:</div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">m_dollars</span>;</div><div>    public:</div><div>        <span style="color:rgb(78,201,176)">Dollars</span>(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">dollars</span>=<span style="color:rgb(181,206,168)">0</span>) : <span style="color:rgb(78,201,176)">m_dollars</span>{ <span style="color:rgb(78,201,176)">dollars</span> }</div><div>        {</div><div>        }</div><div>    </div><div><span style="color:rgb(106,153,85)">        // Allow us to convert Dollars into Cents</span></div><div>        operator <span style="color:rgb(78,201,176)">Cents</span>() <span style="color:rgb(86,156,214)">const</span> { return <span style="color:rgb(78,201,176)">Cents</span>{ <span style="color:rgb(78,201,176)">m_dollars</span> * <span style="color:rgb(181,206,168)">100</span> }; }</div><div>    };</div></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre">    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">x</span> = <span style="color:rgb(181,206,168)">5</span>;<span style="color:rgb(106,153,85)"> // copy initialization to initialize newly created integer variable x to the value of 5.</span></div></div><div><br /></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(78,201,176)">Fraction</span> <span style="color:rgb(78,201,176)">six</span> = <span style="color:rgb(78,201,176)">Fraction</span>(<span style="color:rgb(181,206,168)">6</span>); </div><div>    <span style="color:rgb(78,201,176)">Fraction</span> <span style="color:rgb(78,201,176)">six</span>(<span style="color:rgb(78,201,176)">Fraction</span>(<span style="color:rgb(181,206,168)">6</span>));</div></div></div><div><br /></div><div><b>Rule: </b>Avoid using copy initialization, and use uniform initialization instead.</div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Places copy initialization is helpful: </b><span style="background-color:transparent;font-size:10pt">There are a few other places copy initialization is used, but two of them are worth mentioning explicitly. </span></div><div>When you <b>pass </b>or <b>return </b>a <b>class by value, </b>that process uses copy initialization.</div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Converting constructors: </b><span style="background-color:transparent;font-size:10pt"><b>Prior </b>to C++11, only constructors taking <b>one parameter</b> could be <b>converting constructors. </b></span><span style="background-color:transparent;font-size:10pt">However, <b>with the new uniform initialization syntax in C++11,</b> this restriction<b> was lifted, </b>and <b>constructors </b></span><span style="background-color:transparent;font-size:10pt"><b>taking multiple parameters</b> can now be <b>converting constructors.</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">class</span> <span style="color:rgb(78,201,176)">Fraction</span></div><div>    {</div><div>    private:</div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">m_numerator</span>;</div><div>        <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">m_denominator</span>;</div><div>    public:</div><div><span style="color:rgb(106,153,85)">        // Default constructor - multi argument implicit conversion constructor</span></div><div>        <span style="color:rgb(78,201,176)">Fraction</span>(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">numerator</span> = <span style="color:rgb(181,206,168)">0</span>, <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">denominator</span> = <span style="color:rgb(181,206,168)">1</span>) : <span style="color:rgb(78,201,176)">m_numerator</span>(<span style="color:rgb(78,201,176)">numerator</span>), <span style="color:rgb(78,201,176)">m_denominator</span>(<span style="color:rgb(78,201,176)">denominator</span>)</div><div>        {</div><div>            <span style="color:rgb(78,201,176)">assert</span>(<span style="color:rgb(78,201,176)">denominator</span> != <span style="color:rgb(181,206,168)">0</span>);</div><div>            <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(206,145,120)">"Default constructor called</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">"</span>;</div><div>        }</div><br /><div><span style="color:rgb(106,153,85)">        // Copy constructor - NOT get called !</span></div><div>        <span style="color:rgb(78,201,176)">Fraction</span>(<span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Fraction</span>&amp; <span style="color:rgb(78,201,176)">copy</span>) : <span style="color:rgb(78,201,176)">m_numerator</span>(copy.<span style="color:rgb(78,201,176)">m_numerator</span>), <span style="color:rgb(78,201,176)">m_denominator</span>(copy.<span style="color:rgb(78,201,176)">m_denominator</span>)</div><div>        {</div><div><span style="color:rgb(106,153,85)">            // no need to check for a denominator of 0 here since copy must already be a valid Fraction</span></div><div>            <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(206,145,120)">"Copy constructor called</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">"</span>;<span style="color:rgb(106,153,85)"> // just to prove it works</span></div><div>        }</div><br /><div>        friend <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ostream</span>&amp; operator&lt;&lt;(<span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ostream</span>&amp; <span style="color:rgb(78,201,176)">out</span>, <span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Fraction</span>&amp; <span style="color:rgb(78,201,176)">f1</span>);</div><div>    };</div><br /><div>    <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ostream</span>&amp; operator&lt;&lt;(<span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ostream</span>&amp; <span style="color:rgb(78,201,176)">out</span>, <span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Fraction</span>&amp; <span style="color:rgb(78,201,176)">f1</span>)</div><div>    {</div><div>        <span style="color:rgb(78,201,176)">out</span> &lt;&lt; f1.<span style="color:rgb(78,201,176)">m_numerator</span> &lt;&lt; <span style="color:rgb(206,145,120)">"/"</span> &lt;&lt; f1.<span style="color:rgb(78,201,176)">m_denominator</span>;</div><div>        return <span style="color:rgb(78,201,176)">out</span>;</div><div>    }</div><br /><div>    <span style="color:rgb(86,156,214)">void</span> <span style="color:rgb(78,201,176)">printFraction</span>(<span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">Fraction</span>&amp; <span style="color:rgb(78,201,176)">f</span>)<span style="color:rgb(106,153,85)"> // 'int =&gt; fraction' implicit conversion done by the default constructor</span></div><div>    {</div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(78,201,176)">f</span>;</div><div>    }</div><br /><div>    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">main</span>()</div><div>    {</div><div>        <span style="color:rgb(78,201,176)">printFraction</span>(<span style="color:rgb(181,206,168)">6</span>);<span style="color:rgb(106,153,85)"> // Default constructor called         6/1</span></div><div>    }</div></div></div><div><span style="background-color:transparent;font-size:10pt">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">class</span> <span style="color:rgb(78,201,176)">MyString</span></div><div>    {</div><div>    private:</div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">string</span> <span style="color:rgb(78,201,176)">m_string</span>;</div><div>    public:</div><div>        <span style="color:rgb(78,201,176)">MyString</span>(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">x</span>)<span style="color:rgb(106,153,85)">              // implicitly convert the 'char =&gt; MyString'</span></div><div>        {</div><div>            m_string.<span style="color:rgb(78,201,176)">resize</span>(<span style="color:rgb(78,201,176)">x</span>);</div><div>        }</div><div>    </div><div>        <span style="color:rgb(78,201,176)">MyString</span>(<span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(86,156,214)">char</span> *<span style="color:rgb(78,201,176)">string</span>)<span style="color:rgb(106,153,85)"> // allocate string to hold string value</span></div><div>        {</div><div>            <span style="color:rgb(78,201,176)">m_string</span> = <span style="color:rgb(78,201,176)">string</span>;</div><div>        }</div><div>    </div><div>        friend <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ostream</span>&amp; operator&lt;&lt;(<span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ostream</span>&amp; <span style="color:rgb(78,201,176)">out</span>, <span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">MyString</span> &amp;<span style="color:rgb(78,201,176)">s</span>);</div><div>    </div><div>    };</div><div>    </div><div>    <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ostream</span>&amp; operator&lt;&lt;(<span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">ostream</span>&amp; <span style="color:rgb(78,201,176)">out</span>, <span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">MyString</span> &amp;<span style="color:rgb(78,201,176)">s</span>)</div><div>    {</div><div>        <span style="color:rgb(78,201,176)">out</span> &lt;&lt; s.<span style="color:rgb(78,201,176)">m_string</span>;</div><div>        return <span style="color:rgb(78,201,176)">out</span>;</div><div>    }</div><div>    </div><div>    <span style="color:rgb(86,156,214)">void</span> <span style="color:rgb(78,201,176)">printString</span>(<span style="color:rgb(86,156,214)">const</span> <span style="color:rgb(78,201,176)">MyString</span> &amp;<span style="color:rgb(78,201,176)">s</span>)</div><div>    {</div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(78,201,176)">s</span>;</div><div>    }</div><div>    </div><div>    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">main</span>()</div><div>    {</div><div>        <span style="color:rgb(78,201,176)">MyString</span> <span style="color:rgb(78,201,176)">mine</span> = <span style="color:rgb(206,145,120)">'x'</span>;<span style="color:rgb(106,153,85)"> // Will compile and use MyString(int)</span></div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(78,201,176)">mine</span> &lt;&lt; <span style="color:rgb(206,145,120)">'</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">'</span>;</div><div>    </div><div>        <span style="color:rgb(78,201,176)">printString</span>(<span style="color:rgb(206,145,120)">'x'</span>);<span style="color:rgb(106,153,85)"> // Will compile and use MyString(int)</span></div><div>    }</div></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Prevent 'implicit conversion' or 'copy initialization' by explicit:</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:rgb(106,153,85)">    // explicit keyword makes this constructor ineligible for implicit conversions</span></div><div>    explicit <span style="color:rgb(78,201,176)">MyString</span>(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">x</span>)<span style="color:rgb(106,153,85)"> //  prevent implicit convertion from char =&gt; MyString</span></div><div>    {</div><div>        m_string.<span style="color:rgb(78,201,176)">resize</span>(<span style="color:rgb(78,201,176)">x</span>);</div><div>    }</div><br /><div>    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">main</span>()</div><div>    {</div><div>        <span style="color:rgb(78,201,176)">MyString</span> <span style="color:rgb(78,201,176)">mine</span> = <span style="color:rgb(206,145,120)">'x'</span>;<span style="color:rgb(106,153,85)"> // compile error, since MyString(int) is now explicit and nothing will match this</span></div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(78,201,176)">mine</span>;</div><div>    </div><div>        <span style="color:rgb(78,201,176)">printString</span>(<span style="color:rgb(206,145,120)">'x'</span>);<span style="color:rgb(106,153,85)">   // compile error, since MyString(int) can't be used for implicit conversions</span></div><div>    }</div></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>Note </b>that making a constructor explicit only prevents implicit conversions. <span style="background-color:transparent;font-size:10pt"><b>Explicit conversions </b>(via casting) are still <b>allowed.</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div style="line-height:22px">    <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; static_cast&lt;<span style="color:rgb(78,201,176)">MyString</span>&gt;(<span style="color:rgb(181,206,168)">5</span>);<span style="color:rgb(106,153,85)"> // Allowed: explicit cast of 5 to MyString(int)</span></div></div></div><div><b>Direct or uniform initialization </b>will also still convert parameters to match (uniform initialization <span style="background-color:transparent;font-size:10pt">will <b>not do narrowing conversions</b>, <b>but </b>it will happily <b>do other types of conversions</b>).</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre">    <span style="color:rgb(78,201,176)">MyString</span> <span style="color:rgb(78,201,176)">str</span>{<span style="color:rgb(206,145,120)">'x'</span>};<span style="color:rgb(106,153,85)"> // Allowed: initialization parameters may still be implicitly converted to match</span></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><b>= delete; Prevents both implicit and explict conversion:</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(78,201,176)">MyString</span>(<span style="color:rgb(86,156,214)">char</span>) = delete;<span style="color:rgb(106,153,85)"> // any use of this constructor gives error</span></div><div> </div><div><span style="color:rgb(106,153,85)">    // explicit keyword makes this constructor ineligible for implicit conversions</span></div><div>    explicit <span style="color:rgb(78,201,176)">MyString</span>(<span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">x</span>)<span style="color:rgb(106,153,85)"> // allocate string of size x </span></div><div>    {</div><div>        m_string.<span style="color:rgb(78,201,176)">resize</span>(<span style="color:rgb(78,201,176)">x</span>);</div><div>    }</div><br /><div>    <span style="color:rgb(86,156,214)">int</span> <span style="color:rgb(78,201,176)">main</span>()</div><div>    {</div><div>        <span style="color:rgb(78,201,176)">MyString</span> <span style="color:rgb(78,201,176)">mine</span>(<span style="color:rgb(206,145,120)">'x'</span>);<span style="color:rgb(106,153,85)"> // compile error, since MyString(char) is deleted</span></div><div>    }</div></div></div><div>///////////////////////////////////////////////////////////////////////////////////////////////////</div><div><div><span style="font-size:13.3333px"><b>Smart pointer classes(i.e., destructor - called when is going out of scope) to the rescue ?</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">void</span> <span style="color:#dcdcaa">someFunction</span>()</div><div>    {</div><div>        Resource *ptr = <span style="color:#c586c0">new</span> <span style="color:#dcdcaa">Resource</span>();</div><div>    </div><div>        <span style="color:#569cd6">int</span> x;</div><div>        <span style="color:#4ec9b0">std</span>::cin &gt;&gt; x; </div><div>        <span style="color:#c586c0">if</span> (x == -<span style="color:#b5cea8">1</span>)     <span style="color:rgb(197,134,192)">return</span>;<span style="color:rgb(106,153,85)">  // the function returns early, and ptr won’t be deleted!</span></div><div>        <span style="color:#c586c0">else</span> <span style="color:#c586c0">if</span> (x == <span style="color:#b5cea8">0</span>) <span style="color:rgb(197,134,192)">throw</span> <span style="color:rgb(181,206,168)">0</span>;<span style="color:rgb(106,153,85)"> // the function throws(Exception), and ptr won’t be deleted!</span></div><br /><div>        <span style="color:#c586c0">delete</span> ptr;</div><div>    }</div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    template&lt;class T&gt;</div><div>    class Auto_ptr1</div><div>    {</div><div>        T* m_ptr;</div><div>    public:</div><div><span style="color:#6a9955">        // Pass in a pointer to "own" via the constructor</span></div><div>        <span style="color:#dcdcaa">Auto_ptr1</span>(T* ptr=<span style="color:#569cd6">nullptr</span>) :<span style="color:#dcdcaa">m_ptr</span>(ptr)</div><div>        {</div><div>        }</div><div>        </div><div><span style="color:#6a9955">        // The destructor will make sure it gets deallocated</span></div><div>        ~<span style="color:#dcdcaa">Auto_ptr1</span>()</div><div>        {</div><div>            <span style="color:#c586c0">delete</span> m_ptr;</div><div>        }</div><div>    </div><div><span style="color:#6a9955">        // Overload 'dereference(&amp;)' and 'operator-&gt;' so we can use Auto_ptr1 like m_ptr.</span></div><div>        <span style="color:#4ec9b0">T</span><span style="color:#569cd6">&amp;</span> <span style="color:#c586c0">operator*</span>()  <span style="color:#569cd6">const</span> { <span style="color:#c586c0">return</span> *m_ptr; }</div><div>        <span style="color:#4ec9b0">T</span><span style="color:#569cd6">*</span> <span style="color:#c586c0">operator-&gt;</span>() <span style="color:#569cd6">const</span> { <span style="color:#c586c0">return</span>  m_ptr; }</div><div>    };</div><div>    </div><div><span style="color:#6a9955">    // A sample class to prove the above works</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Resource</span></div><div>    {</div><div>    <span style="color:#569cd6">public:</span></div><div>        <span style="color:#dcdcaa">Resource</span>()  { <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Resource acquired</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>; }</div><div>        <span style="color:#dcdcaa">~Resource</span>() { <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Resource destroyed</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>; }</div><div>    };</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        Auto_ptr1&lt;<span style="color:#4ec9b0">Resource</span>&gt; <span style="color:#dcdcaa">res</span>(<span style="color:#c586c0">new</span> <span style="color:#4ec9b0">Resource</span>());<span style="color:#6a9955"> // Memory allocated here </span></div><div><span style="color:#6a9955">    // ... but no explicit delete needed </span></div><div><span style="color:#6a9955">    // Also note that the Resource in angled braces doesn't need a * symbol, since that's supplied by the template</span></div><div>    }<span style="color:#6a9955"> // 'res' goes out of scope here, and destroys the allocated Resource for us</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>But above has 2 Problems:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#6a9955">    // #1 Problem:</span></div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        Auto_ptr1&lt;Resource&gt; <span style="color:#dcdcaa">res1</span>(<span style="color:#c586c0">new</span> <span style="color:#dcdcaa">Resource</span>());</div><div>        Auto_ptr1&lt;Resource&gt; <span style="color:#dcdcaa">res2</span>(res1);<span style="color:#6a9955"> // or assignment </span></div><div>    }</div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    Resource acquired</div><div>    Resource destroyed</div><div>    Resource destroyed</div><div>    CRASH<span style="color:#6a9955">            &lt;= we haven’t supplied a copy constructor or an assignment operator, C++ provides one for us.</span></div></div></div><div><span style="font-size:13.3333px">And the functions it provides do shallow copies. So when we initialize res2 with res1, both </span><span style="background-color:transparent">Auto_ptr1 variables are pointed at the same Resource. When res2 goes out of the scope, it deletes the </span><span style="background-color:transparent">resource, leaving res1 with a dangling pointer. When res1 goes to delete its (already deleted) Resource, crash!</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#6a9955">    // #2 Problem:</span></div><div>    <span style="color:#569cd6">void</span> <span style="color:#dcdcaa">passByValue</span>(<span style="color:#4ec9b0">Auto_ptr1</span>&lt;<span style="color:#4ec9b0">Resource</span>&gt; <span style="color:#9cdcfe">res</span>)</div><div>    {</div><div>    }</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        Auto_ptr1&lt;Resource&gt; <span style="color:#dcdcaa">res1</span>(<span style="color:#c586c0">new</span> <span style="color:#dcdcaa">Resource</span>());</div><div>        <span style="color:#dcdcaa">passByValue</span>(res1)</div><div>    }</div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">res1 will be copied by value into passByValue’s parameter res, leading to duplication of the Resource pointer. Crash!</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Solution:</b> delete the copy constructor and assignment operator. But then how would we return an </span><span style="background-color:transparent">Auto_ptr1 from a function back to the caller?</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    ??? <span style="color:#dcdcaa">generateResource</span>()</div><div>    {</div><div>        Resource *r = <span style="color:#c586c0">new</span> <span style="color:#dcdcaa">Resource</span>();</div><div>        <span style="color:#c586c0">return</span> <span style="color:#dcdcaa">Auto_ptr1</span>(r);</div><div>    }</div></div></div><div><span style="background-color:transparent">We can’t <b>return our Auto_ptr1 by reference,</b> because the local Auto_ptr1 will be destroyed at the end </span><span style="background-color:transparent">of the function, and the caller will be left with a dangling reference. Return by address <b>has the same problem.</b> </span><span style="background-color:transparent">We could <b>return pointer r by address, </b>but then we <b>might forget to delete r later, </b>which is the whole point </span><span style="background-color:transparent">of using smart pointers in the first place. So that’s out. </span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Returning the Auto_ptr1 by value</b> is the only option that <b>makes sense</b> -- but then we <b>end up with shallow copies</b>, duplicated pointers, and crashes.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">Another option would be to override the <b>copy constructor and assignment operator to make deep copies.</b> </span><span style="background-color:transparent">In this way, we’d at <b>least </b>guarantee to <b>avoid duplicate pointers to the same object</b>. But copying can be <b>expensive</b>, </span><span style="background-color:transparent">and we don’t want to make needless copies of objects just to return an Auto_ptr1 from a function. </span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Best Solution: Move semantics: </b></span><span style="background-color:transparent">What if, <b>instead </b>of having our <b>copy constructor and assignment operator f</b>or the copy pointer &amp; object (“copy semantics”), </span><span style="background-color:transparent">we instead <b>transfer/move ownership of the pointer</b> from the source to the destination <b>object? </b></span><span style="background-color:transparent;font-size:10pt">This is the core idea behind "move semantics".</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Move semantics</b> means the class will <b>transfer the ownership of an object rather than making a copy.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    template&lt;class T&gt;</div><div>    class Auto_ptr2</div><div>    {</div><div>        T* m_ptr;</div><div>    public:</div><div>        <span style="color:#dcdcaa">Auto_ptr2</span>(T* ptr=<span style="color:#569cd6">nullptr</span>) :<span style="color:#dcdcaa">m_ptr</span>(ptr)</div><div>        {</div><div>        }</div><div>        </div><div>        ~<span style="color:#dcdcaa">Auto_ptr2</span>()</div><div>        {</div><div>            <span style="color:#c586c0">delete</span> m_ptr;</div><div>        }</div><div>    </div><div><span style="color:#6a9955">        // A 'copy constructor' that implements 'move semantics' --- NOT a good solution</span></div><div>        <span style="color:#dcdcaa">Auto_ptr2</span>(Auto_ptr2&amp; a)<span style="color:#6a9955"> // note: not const</span></div><div>        {</div><div><span style="color:#6a9955">            // NOT deep copy. Memory ownership has to be changed!!</span></div><div><span style="color:#6a9955">            // m_ptr = new T;</span></div><div><span style="color:#6a9955">            // *m_ptr = *a.m_ptr;</span></div><br /><div>            m_ptr = <span style="color:#9cdcfe">a</span>.<span style="color:#9cdcfe">m_ptr</span>;<span style="color:#6a9955">   // transfer our dumb pointer from the source to our local object</span></div><div>            <span style="color:#9cdcfe">a</span>.<span style="color:#9cdcfe">m_ptr</span> = <span style="color:#569cd6">nullptr</span>;<span style="color:#6a9955"> // make sure the source no longer owns the pointer</span></div><div>        }</div><div>        </div><div><span style="color:#6a9955">        // An assignment operator that implements move semantics --- NOT a good solution</span></div><div>        <span style="color:rgb(220,220,170)">Auto_ptr2</span>&amp; operator=(Auto_ptr2&amp; a)<span style="color:#6a9955"> // note: not const</span></div><div>        {</div><div>            <span style="color:#c586c0">if</span> (&amp;a == <span style="color:#569cd6">this</span>) <span style="color:rgb(197,134,192)">return</span> *<span style="color:rgb(86,156,214)">this</span>;</div><div>    </div><div>            <span style="color:#c586c0">delete</span> m_ptr;<span style="color:#6a9955">      // make sure we deallocate any pointer the destination is already holding first</span></div><div>            m_ptr = <span style="color:#9cdcfe">a</span>.<span style="color:#9cdcfe">m_ptr</span>;<span style="color:#6a9955">   // then transfer our dumb pointer from the source to the local object</span></div><div>            <span style="color:#9cdcfe">a</span>.<span style="color:#9cdcfe">m_ptr</span> = <span style="color:#569cd6">nullptr</span>;<span style="color:#6a9955"> // make sure the source no longer owns the pointer</span></div><div>            <span style="color:#c586c0">return</span> *<span style="color:#569cd6">this</span>;</div><div>        }</div><div>    </div><div>        T&amp; operator*()  <span style="color:#569cd6">const</span> { <span style="color:#c586c0">return</span> *m_ptr; }</div><div>        T* operator-&gt;() <span style="color:#569cd6">const</span> { <span style="color:#c586c0">return</span> m_ptr; }</div><div>        <span style="color:#569cd6">bool</span> <span style="color:#dcdcaa">isNull</span>()   <span style="color:#569cd6">const</span> { <span style="color:#c586c0">return</span> m_ptr == <span style="color:#569cd6">nullptr</span>;  }</div><div>    };</div><div>    </div><div>    class <span style="color:#4ec9b0">Resource</span></div><div>    {</div><div>    public:</div><div>        <span style="color:#dcdcaa">Resource</span>() { <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Resource acquired</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>; }</div><div>        <span style="color:#dcdcaa">~</span><span style="color:#dcdcaa">Resource</span>() { <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Resource destroyed</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>; }</div><div>    };</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        Auto_ptr2&lt;<span style="color:#4ec9b0">Resource</span>&gt; <span style="color:#dcdcaa">res1</span>(<span style="color:#c586c0">new</span> <span style="color:#4ec9b0">Resource</span>());</div><div>        Auto_ptr2&lt;<span style="color:#4ec9b0">Resource</span>&gt; res2;<span style="color:#6a9955"> // Start as nullptr</span></div><div>    </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"res1 is "</span> &lt;&lt; (<span style="color:#9cdcfe">res1</span>.<span style="color:#dcdcaa">isNull</span>() ? <span style="color:#ce9178">"null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span> : <span style="color:#ce9178">"not null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>);</div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"res2 is "</span> &lt;&lt; (<span style="color:#9cdcfe">res2</span>.<span style="color:#dcdcaa">isNull</span>() ? <span style="color:#ce9178">"null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span> : <span style="color:#ce9178">"not null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>);</div><div>    </div><div>        res2 = res1;<span style="color:#6a9955"> // res2 assumes ownership, res1 is set to null</span></div><div><span style="color:#6a9955">        // our overloaded operator= gave ownership of m_ptr from res1 to res2! Consequently, </span></div><div><span style="color:#6a9955">        // we don’t end up with duplicate copies of the pointer, and everything gets tidily cleaned up.</span></div><div>    </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Ownership transferred</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>    </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"res1 is "</span> &lt;&lt; (<span style="color:#9cdcfe">res1</span>.<span style="color:#dcdcaa">isNull</span>() ? <span style="color:#ce9178">"null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span> : <span style="color:#ce9178">"not null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>);</div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"res2 is "</span> &lt;&lt; (<span style="color:#9cdcfe">res2</span>.<span style="color:#dcdcaa">isNull</span>() ? <span style="color:#ce9178">"null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span> : <span style="color:#ce9178">"not null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>);</div><div>    }</div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">This program prints:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    Resource acquired</div><div>    res1 is not null</div><div>    res2 is null</div><div>    Ownership transferred</div><div>    res1 is null</div><div>    res2 is not null</div><div>    Resource destroyed</div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>std::auto_ptr,</b> and <b>why it was a bad idea ?</b>  std::auto_ptr, introduced in C++98 and deprecated in C++11 and <b>removed in C++17.</b></span></div><div><b style="background-color:transparent">Above Auto_ptr2 </b><span style="background-color:transparent">is the idea('<b>copy </b>constructor/<b>Assignment </b>operator' <b>used </b>to <b>implement </b>'move semantics') used in the std::auto_ptr</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">1. std::auto_ptr implements <b>move semantics through the copy constructor and assignment operator,</b> </span><span style="background-color:transparent"><b>passing a std::auto_ptr by value to a function </b>will cause your resource to get moved to the function parameter </span><span style="background-color:transparent">(and be <b>destroyed at the end of the function</b> when the function parameters go out of scope). </span><span style="background-color:transparent">Then when you go to <b>access your auto_ptr argument from the caller </b>(not realizing it was transferred and deleted), </span><span style="background-color:transparent;font-size:10pt">you’re suddenly dereferencing a null pointer.<b> Crash!</b></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">2. std::auto_ptr always deletes its contents using <b>non-array delete. </b>This means auto_ptr <b>won’t work</b> correctly </span><span style="background-color:transparent">with <b>dynamically allocated arrays,</b> because it uses the wrong kind of deallocation. <b>Worse, it won’t prevent you</b> </span><span style="background-color:transparent">from <b>passing it a dynamic array,</b> which it will then mismanage, leading to memory leaks.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">3. auto_ptr <b>doesn’t play nice</b> with a lot of the other classes in the <b>standard library,</b> including most of the containers </span><span style="background-color:transparent">and algorithms. This occurs because those <b>standard library classes assume that when they copy an item, it actually makes a copy, not a move.</b></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">In<b> C++11,</b> <b>std::auto_ptr</b> has been <b>replaced </b>by a bunch of other types of “move-aware” smart pointers: <b>std::unique_ptr, std::weak_ptr, </b>and </span></div><div><span style="font-size:13.3333px"><b>std::shared_ptr. </b></span><span style="background-color:transparent">We’ll also explore the two most popular of these: <b>unique_ptr</b> (which is a <b>direct replacement</b> for <b>auto_ptr</b>) and shared_ptr.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">For example, you can write<b> res1 = res2</b> and have no idea whether res2 will be changed or not!. </span><span style="background-color:transparent">Prior to C++11, the C++ language simply had no <b>mechanism to differentiate “copy semantics” from “move semantics”.</b> </span><span style="background-color:transparent">Because of this, in C++11, the concept of “move” was formally defined, and “move semantics” were added </span><span style="background-color:transparent;font-size:10pt">to the language to properly differentiate copying from moving.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">How C++11 resolves these problems via <b>move constructors</b> and <b>move assignment ?</b></span></div><div><span style="font-size:13.3333px"><b>L-values and r-values:</b></span></div><div><span style="font-size:13.3333px"><span>    - </span>All <b>L-values</b>(as a <b>function </b>or an <b>object </b>[or an <b>expression that evaluates to a function or object</b>]) have assigned <b>memory addresses.</b></span></div><div><span style="font-size:13.3333px"><b><span>    - </span>“Values</b> that are suitable to be on the <b>left-hand side</b> of an <b>assignment</b> expression”.</span></div><div><span style="font-size:13.3333px">However, later, the <b>const keyword</b> was added to the language, and L-values were split into <b>two sub-categories: </b></span></div><div><span style="font-size:13.3333px"><b><span>    - </span>modifiable L-values</b>, which can be changed, and <b>non-modifiable L-values, </b>which are const.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>L-value references:</b></span></div><div><span style="font-size:13.3333px"><span>    </span>1. L-value references can only be initialized with modifiable L-values.</span></div><div><span style="font-size:13.3333px"><span>    </span>2.<b> L-value references to const objects</b> are particularly useful because they allow us <b>to pass any type of argument</b> (L-value or R-value) </span><span style="background-color:transparent">into a function</span></div><div><span style="background-color:transparent">        <b>without making a copy </b>of the argument.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>R-values:</b></span></div><div><span style="font-size:13.3333px"><span>    1. </span>R-value as <b>“everything that is not an l-value”. </b>This notably includes <b>literals </b>(e.g. 5), </span></div><div><span style="font-size:13.3333px">    2. <b>T</b><b>emporary values </b>(e.g. <b>x+1</b>), and <b>anonymous objects</b> (e.g. <b>Fraction(5, 2)</b>). </span></div><div><span style="font-size:13.3333px"><span>    3. </span>R-values are typically evaluated </span><span style="background-color:transparent">for their values, have <b>expression scope</b> (they <b>die at the end</b> of the <b>expression</b>), and cannot be assigned to. </span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>R-value references: </b></span><span style="background-color:transparent">C++11 adds a new type of reference called an R-value reference.</span></div><div><span style="font-size:13.3333px">While an <b>L-value reference</b> is created using a <b>single ampersand,</b> an <b>R-value reference</b> is created using a <b>double ampersand.</b></span></div><div><span style="font-size:13.3333px">An R-value reference is a reference that is designed to be<b> initialized with an R-value (only). </b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">int</span> x{ <span style="color:#b5cea8">5</span> };</div><div>    <span style="color:#569cd6">int</span>&amp; <span style="color:#9cdcfe">lref</span>{ x };<span style="color:#6a9955">     // L-value reference initialized with L-value x</span></div><div>    <span style="color:#569cd6">int</span>&amp;&amp; <span style="color:#9cdcfe">rref</span>{ <span style="color:#b5cea8">5</span> };<span style="color:#6a9955">    // R-value reference initialized with R-value 5</span></div><div><span style="color:#6a9955">    // int&amp;&amp; rref{ x }; // Error: R-values references cannot be initialized with L-values.</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>R-value references</b> have <b>2 properties</b> that are useful. </span></div><div><span style="font-size:13.3333px"><span>    </span>1) <b>R-value references extend the lifespan</b> of the object they are initialized with to the lifespan of the R-value reference </span></div><div><span style="font-size:13.3333px">  <span>    </span> (<b>L-value references to const objects can do this too</b>). </span></div><div><span style="font-size:13.3333px"><span>    </span>2) non-const R-value references allow you to modify the R-value!</span></div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div></div><div><span style="color:rgb(106,153,85)">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div>L-value reference                   Can be initialized with         Can modify</div><div>---------------------------------------------------------------------------------</div><div>Modifiable l-values                         <span style="color:rgb(197,134,192)">Yes</span>                         <span style="color:rgb(197,134,192)">Yes</span></div><div>Non-modifiable l-values                     No                          No</div><div>R-values                                    No                          No</div><div><span style="color:#6a9955">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div>L-value reference to <span style="color:#569cd6">const</span>          Can be initialized with         Can modify</div><div>---------------------------------------------------------------------------------</div><div>Modifiable l-values                         <span style="color:rgb(197,134,192)">Yes</span>                         No</div><div>Non-modifiable l-values                     <span style="color:rgb(197,134,192)">Yes</span>                         No</div><div>R-values                                    <span style="color:rgb(197,134,192)">Yes</span>                         No</div><div><span style="color:#6a9955">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div>R-value reference                   Can be initialized with         Can modify</div><div>---------------------------------------------------------------------------------</div><div>Modifiable l-values                         No                          No</div><div>Non-modifiable l-values                     No                          No</div><div>R-values                                    <span style="color:rgb(197,134,192)">Yes</span>                         <span style="color:rgb(197,134,192)">Yes</span></div><div><span style="color:rgb(106,153,85)">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div>R-value reference to <span style="color:rgb(86,156,214)">const</span>          Can be initialized with         Can modify</div><div>---------------------------------------------------------------------------------</div><div>Modifiable l-values                         No                          No</div><div>Non-modifiable l-values                     No                          No</div><div>R-values                                    <span style="color:rgb(197,134,192)">Yes</span>                         No</div></div><div><span style="color:rgb(106,153,85)">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div></div><div><span style="font-size:13.3333px"><b>Examples Rvalue Reference:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Fraction</span></div><div>    {</div><div>    <span style="color:#569cd6">private:</span></div><div>        <span style="color:#569cd6">int</span> m_numerator;</div><div>        <span style="color:#569cd6">int</span> m_denominator;</div><div>    </div><div>    <span style="color:#569cd6">public:</span></div><div>        <span style="color:#dcdcaa">Fraction</span>(<span style="color:#569cd6">int</span> <span style="color:#9cdcfe">numerator</span> = <span style="color:#b5cea8">0</span>, <span style="color:#569cd6">int</span> <span style="color:#9cdcfe">denominator</span> = <span style="color:#b5cea8">1</span>) : <span style="color:rgb(220,220,170)">m_numerator</span>{ numerator }, <span style="color:rgb(220,220,170)">m_denominator</span>{ denominator }</div><div>        {</div><div>        }</div><div>    </div><div>        <span style="color:#569cd6">friend</span> <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ostream</span><span style="color:#569cd6">&amp;</span> <span style="color:#c586c0">operator&lt;&lt;</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ostream</span><span style="color:#569cd6">&amp;</span> <span style="color:#9cdcfe">out</span>, <span style="color:#569cd6">const</span> <span style="color:#4ec9b0">Fraction</span><span style="color:#569cd6">&amp; </span><span style="color:#9cdcfe">f1</span>)</div><div>        {</div><div>            out &lt;&lt; <span style="color:#9cdcfe">f1</span>.<span style="color:#9cdcfe">m_numerator</span> &lt;&lt; <span style="color:#ce9178">'/'</span> &lt;&lt; <span style="color:#9cdcfe">f1</span>.<span style="color:#9cdcfe">m_denominator</span>;</div><div>            <span style="color:#c586c0">return</span> out;</div><div>        }</div><div>    };</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">auto</span> &amp;&amp;<span style="color:#9cdcfe">rref</span>{ Fraction{ <span style="color:#b5cea8">3</span>, <span style="color:#b5cea8">5</span> } };<span style="color:#6a9955"> // r-value reference to temporary Fraction</span></div><div>        </div><div><span style="color:#6a9955">        // rref of operator&lt;&lt; binds to the temporary, no copies are created.</span></div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#9cdcfe">rref</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;</div><div>    }<span style="color:#6a9955"> // rref (and the temporary Fraction) goes out of scope here</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">As an <b>anonymous object, Fraction(3, 5)</b> would normally <b>go out of scope at the end of the expression</b> </span><span style="background-color:transparent">in which it is defined. <b>However,</b> since we’re initializing an <b>r-value reference with it, its duration </b></span><span style="background-color:transparent"><b>is extended until the end of the block.</b> We can then use that r-value reference to print the Fraction’s value.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">int</span> &amp;&amp;rref{ <span style="color:#b5cea8">5</span> };<span style="color:#6a9955"> // initializing an r-value reference with a literal, a temporary with </span><span style="color:rgb(106,153,85)">value 5 is created</span></div><div>        rref = <span style="color:#b5cea8">10</span>;</div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; rref;<span style="color:#6a9955"> // 10</span></div><div>    }</div></div></div><div><span style="font-size:13.3333px">Initializing an r-value with a literal, a temporary is constructed from the literal so that the </span><span style="background-color:transparent">reference is </span><b style="background-color:transparent">referencing a temporary object, not a literal value.</b></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>R-value references as function parameters: </b></span><span style="background-color:transparent">R-value references are <b>more often used as function parameters.</b> This is most useful for function <b>overloads </b></span><span style="background-color:transparent;font-size:10pt">when you want to have d<b>ifferent behaviour</b> for <b>L-value</b> and <b>R-value arguments.</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">void</span> <span style="color:#dcdcaa">fun</span>(<span style="color:#569cd6">const</span> <span style="color:#569cd6">int</span> <span style="color:#569cd6">&amp;</span><span style="color:#9cdcfe">lref</span>)<span style="color:#6a9955"> // L-value arguments will select this function</span></div><div>    {</div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"L-value reference to const</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>    }</div><div>    </div><div>    <span style="color:#569cd6">void</span> <span style="color:#dcdcaa">fun</span>(<span style="color:#569cd6">int</span> <span style="color:#569cd6">&amp;&amp;</span><span style="color:#9cdcfe">rref</span>)<span style="color:#6a9955"> // R-value arguments will select this function</span></div><div>    {</div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"R-value reference</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>    }</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">int</span> x{ <span style="color:#b5cea8">5</span> };</div><div>        <span style="color:#dcdcaa">fun</span>(x);<span style="color:#6a9955">   // L-value argument calls L-value version of function</span></div><div>        <span style="color:#dcdcaa">fun</span>(<span style="color:#b5cea8">5</span>);<span style="color:#6a9955">   // R-value argument calls R-value version of function</span></div><br /><div>        <span style="color:#569cd6">int</span> &amp;&amp;ref{ <span style="color:#b5cea8">5</span> };</div><div>        <span style="color:#dcdcaa">fun</span>(ref);<span style="color:#6a9955"> //  L-value version of the function called !!! </span></div><div><span style="color:#6a9955">        // Although variable ref has type R-value reference to an integer, it is actually an L-value itself </span></div><div><span style="color:#6a9955">        // (as are all named variables).</span></div><div>    }</div></div></div><div><span style="background-color:transparent"><b>Note: </b></span><span style="background-color:transparent">Think of it this way: <b>Named objects</b> </span><b style="background-color:transparent">are L-values.</b><span style="background-color:transparent"> </span></div><div><b style="background-color:transparent"><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span>Anonymous objects are R-values. </b></div><div><span style="font-size:13.3333px">The type of the named object or anonymous object is independent from whether it’s an L-value or R-value.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Returning an R-value reference:</b></span></div><div><span style="font-size:13.3333px">You should <b>almost never return an r-value reference, </b>for the <b>same reason</b> you should <b>almost never return an l-value reference. </b></span></div><div><span style="font-size:13.3333px">In most cases, you’ll end up returning a hanging reference when the referenced object goes out of scope at the end of the function.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>State which of the following lettered statements will NOT compile:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">int</span> x{};</div><div>    </div><div><span style="color:#6a9955">        // L-value references</span></div><div>        <span style="color:#569cd6">int</span> &amp;ref1{ x };<span style="color:#6a9955"> // A</span></div><div>        <span style="color:#569cd6">int</span> &amp;ref2{ <span style="color:#b5cea8">5</span> };<span style="color:#6a9955"> // B</span></div><div>    </div><div>        <span style="color:#569cd6">const</span> <span style="color:#569cd6">int</span> &amp;ref3{ x };<span style="color:#6a9955"> // C</span></div><div>        <span style="color:#569cd6">const</span> <span style="color:#569cd6">int</span> &amp;ref4{ <span style="color:#b5cea8">5</span> };<span style="color:#6a9955"> // D</span></div><div>    </div><div><span style="color:#6a9955">        // R-value references</span></div><div>        <span style="color:#569cd6">int</span> &amp;&amp;ref5{ x };<span style="color:#6a9955"> // E</span></div><div>        <span style="color:#569cd6">int</span> &amp;&amp;ref6{ <span style="color:#b5cea8">5</span> };<span style="color:#6a9955"> // F</span></div><div>    </div><div>        <span style="color:#569cd6">const</span> <span style="color:#569cd6">int</span> &amp;&amp;ref7{ x };<span style="color:#6a9955"> // G</span></div><div>        <span style="color:#569cd6">const</span> <span style="color:#569cd6">int</span> &amp;&amp;ref8{ <span style="color:#b5cea8">5</span> };<span style="color:#6a9955"> // H</span></div><div>    }</div><div><br /></div><div><div style="line-height:22px"><span style="color:#6a9955">    // Solution: B, E, and G won’t compile.</span></div></div></div></div><div><span style="background-color:transparent">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="background-color:transparent"><b>Finally back to our SMART POINTER problem &amp; solution: </b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">template</span>&lt;<span style="color:#569cd6">class</span> <span style="color:#4ec9b0">T</span>&gt;</div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Auto_ptr3</span></div><div>    {</div><div>        T* m_ptr;</div><div>    <span style="color:#569cd6">public:</span></div><div>        <span style="color:#dcdcaa">Auto_ptr3</span>(<span style="color:#4ec9b0">T</span><span style="color:#569cd6">*</span> <span style="color:#9cdcfe">ptr</span> = <span style="color:#569cd6">nullptr</span>):<span style="color:#dcdcaa">m_ptr</span>(ptr)</div><div>        {</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Auto_ptr3: Default constructor called</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>        }</div><br /><div>        <span style="color:#dcdcaa">~Auto_ptr3</span>()</div><div>        {</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Auto_ptr3: Default destructor called</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>            <span style="color:#c586c0">delete</span> m_ptr;</div><div>        }</div><br /><div><span style="color:#6a9955">        // Copy constructor</span></div><div><span style="color:#6a9955">        // Do deep copy of a.m_ptr to m_ptr</span></div><div>        <span style="color:#dcdcaa">Auto_ptr3</span>(<span style="color:#569cd6">const</span> <span style="color:#4ec9b0">Auto_ptr3</span><span style="color:#569cd6">&amp;</span> <span style="color:#9cdcfe">a</span>)</div><div>        {</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Copy Constructor: Auto_ptr3</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><br /><div>            m_ptr = <span style="color:#c586c0">new</span> T;</div><div>            *m_ptr = *<span style="color:#9cdcfe">a</span>.<span style="color:#9cdcfe">m_ptr</span>;</div><div>        }</div><br /><div><span style="color:#6a9955">        // Copy assignment</span></div><div><span style="color:#6a9955">        // Do deep copy of a.m_ptr to m_ptr</span></div><div>        <span style="color:#4ec9b0">Auto_ptr3</span><span style="color:#569cd6">&amp;</span> <span style="color:#c586c0">operator=</span>(<span style="color:#569cd6">const</span> <span style="color:#4ec9b0">Auto_ptr3</span><span style="color:#569cd6">&amp;</span> <span style="color:#9cdcfe">a</span>)</div><div>        {</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Copy Assignment: Auto_ptr3</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div><span style="color:#6a9955">            // Self-assignment detection</span></div><div>            <span style="color:#c586c0">if</span> (&amp;a == <span style="color:#569cd6">this</span>) <span style="color:rgb(197,134,192)">return</span> *<span style="color:rgb(86,156,214)">this</span>;</div><br /><div><span style="color:#6a9955">            // Release any resource we're holding</span></div><div>            <span style="color:#c586c0">delete</span> m_ptr;</div><br /><div><span style="color:#6a9955">            // Copy the resource</span></div><div>            m_ptr = <span style="color:#c586c0">new</span> T;</div><div>            *m_ptr = *<span style="color:#9cdcfe">a</span>.<span style="color:#9cdcfe">m_ptr</span>;</div><br /><div>            <span style="color:#c586c0">return</span> *<span style="color:#569cd6">this</span>;</div><div>        }</div><br /><div>        <span style="color:#4ec9b0">T</span><span style="color:#569cd6">&amp;</span> <span style="color:#c586c0">operator*</span>()  <span style="color:#569cd6">const</span> { <span style="color:rgb(197,134,192)">return</span> *m_ptr; }</div><div>        <span style="color:#4ec9b0">T</span><span style="color:#569cd6">*</span> <span style="color:#c586c0">operator-&gt;</span>() <span style="color:#569cd6">const</span> { <span style="color:rgb(197,134,192)">return</span> m_ptr; }</div><div>        <span style="color:#569cd6">bool</span> <span style="color:#dcdcaa">isNull</span>()   <span style="color:#569cd6">const</span> { <span style="color:rgb(197,134,192)">return</span> m_ptr == <span style="color:rgb(86,156,214)">nullptr</span>; }</div><div>    };</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Resource</span></div><div>    {</div><div>    <span style="color:#569cd6">public:</span></div><div>        <span style="color:#dcdcaa">Resource</span>()  { <span style="color:rgb(78,201,176)">std</span>::cout &lt;&lt; <span style="color:rgb(206,145,120)">"Resource acquired</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">"</span>;  }</div><div>        <span style="color:#dcdcaa">~Resource</span>() { <span style="color:rgb(78,201,176)">std</span>::cout &lt;&lt; <span style="color:rgb(206,145,120)">"Resource destroyed</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">"</span>; }</div><div>    };</div><br /><div>    <span style="color:#9cdcfe">Auto_ptr3</span>&lt;<span style="color:#4ec9b0">Resource</span>&gt; <span style="color:#dcdcaa">generateResource</span>()</div><div>    {</div><div>        Auto_ptr3&lt;Resource&gt; <span style="color:#dcdcaa">res</span>(<span style="color:#c586c0">new</span> Resource);<span style="color:#6a9955"> // 1. </span><span style="color:rgb(106,153,85)">Default </span><span style="color:#6a9955">constructor of Resource</span></div><div><span style="color:#6a9955">                                               // 2. Default constructor of Auto_ptr3 (NOT Resource)</span></div><div><span style="color:#6a9955">                                               // 3. NOT "copy constructor" gets called for res(new Resource)</span></div><div>        <span style="color:#c586c0">return</span> res;<span style="color:#6a9955"> // 1. </span><span style="color:rgb(106,153,85)">"copy constructor" of Auto_ptr3  invoked by </span><span style="color:rgb(106,153,85)">this return value</span></div><div><span style="color:#6a9955">                    // 2. </span><span style="color:rgb(106,153,85)">Resource  </span><span style="color:rgb(106,153,85)">Deault constructor gets called (bcos of m_ptr = new T;)</span></div><div><span style="color:#6a9955">                    // 3. Auto_ptr3: Default destructor called (bcos of return type - Auto_ptr3)</span></div><div><span style="color:#6a9955">                    // 4. Resource destroyed</span></div><div>    }</div><br /><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        Auto_ptr3&lt;Resource&gt; mainres;<span style="color:#6a9955">  // default constrctor - Auto_ptr3(Resource is NOT called at all)</span></div><div>        mainres = <span style="color:#dcdcaa">generateResource</span>();<span style="color:#6a9955"> // After return of generateResource()</span></div><div><span style="color:#6a9955">                                      // 1. '=' assignment will invoke the "copy assignment"</span></div><div><span style="color:#6a9955">                                      // 2. Deault constructor of Resource (bcos of m_ptr = new T;)</span></div><div><span style="color:#6a9955">                                      // 3. Auto_ptr3: Default destructor called (on out of scope by below '{' )</span></div><div><span style="color:#6a9955">                                      // 4. Resource destroyed</span></div><div>    }</div></div></div><div><span style="font-size:13.3333px">Output:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    Auto_ptr3: Default constructor called</div><div>    Resource acquired</div><div>    Auto_ptr3: Default constructor called</div><div>    Copy Constructor: Auto_ptr3</div><div>    Resource acquired</div><div>    Auto_ptr3: Default destructor called</div><div>    Resource destroyed</div><div>    Copy Assignment: Auto_ptr3</div><div>    Resource acquired</div><div>    Auto_ptr3: Default destructor called</div><div>    Resource destroyed</div><div>    Auto_ptr3: Default destructor called</div><div>    Resource destroyed</div></div></div><div><span style="background-color:transparent"><b>Inefficient,</b> but at least it <b>doesn’t crash!. </b>However, with move semantics, <b>we can do better.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Copy </b>Constructor and Copy Assignment =&gt; functions take a <b>const l-value reference </b>parameter</span></div><div><span style="font-size:13.3333px"><b>Move </b>Constructor and Move Assignment =&gt; functions take a<b> non-const r-value reference</b> parameters</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">template</span>&lt;<span style="color:#569cd6">class</span> <span style="color:#4ec9b0">T</span>&gt;</div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Auto_ptr3</span></div><div>    {</div><div>        T* m_ptr;</div><div>    <span style="color:#569cd6">public:</span></div><div>        <span style="color:#dcdcaa">Auto_ptr3</span>(<span style="color:#4ec9b0">T</span><span style="color:#569cd6">*</span> <span style="color:#9cdcfe">ptr</span> = <span style="color:#569cd6">nullptr</span>):<span style="color:#dcdcaa">m_ptr</span>(ptr)</div><div>        {</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Auto_ptr3: Default constructor called</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>        }</div><br /><div>        <span style="color:#dcdcaa">~Auto_ptr3</span>()</div><div>        {</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Auto_ptr3: Default destructor called</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>            <span style="color:#c586c0">delete</span> m_ptr;</div><div>        }</div><br /><div><span style="color:#6a9955">        // Copy constructor -- no copying allowed!</span></div><div><span style="color:#6a9955">        // Auto_ptr5(const Auto_ptr5&amp; a) = delete;</span></div><br /><div><span style="color:#6a9955">        // Copy constructor</span></div><div><span style="color:#6a9955">        // Do deep copy of a.m_ptr to m_ptr</span></div><div>        <span style="color:#dcdcaa">Auto_ptr3</span>(<span style="color:#569cd6">const</span> <span style="color:#4ec9b0">Auto_ptr3</span><span style="color:#569cd6">&amp;</span> <span style="color:#9cdcfe">a</span>)</div><div>        {</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Copy Constructor: Auto_ptr3</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><br /><div>            <span style="color:#9cdcfe">m_ptr</span> = <span style="color:#c586c0">new</span> T;</div><div>            *<span style="color:#9cdcfe">m_ptr</span> = *<span style="color:#9cdcfe">a</span>.<span style="color:#9cdcfe">m_ptr</span>;</div><div>        }</div><br /><div><span style="color:#6a9955">        // Copy assignment -- no copying allowed!</span></div><div><span style="color:#6a9955">        // Auto_ptr5&amp; operator=(const Auto_ptr5&amp; a) = delete;</span></div><br /><div><span style="color:#6a9955">        // Move constructor</span></div><div><span style="color:#6a9955">        // Transfer ownership of a.m_ptr to m_ptr</span></div><div>        <span style="color:#dcdcaa">Auto_ptr3</span>(<span style="color:#4ec9b0">Auto_ptr3</span><span style="color:#569cd6">&amp;&amp;</span> <span style="color:#9cdcfe">a</span>) <span style="color:#569cd6">noexcept</span> : <span style="color:#dcdcaa">m_ptr</span>(<span style="color:#9cdcfe">a</span>.<span style="color:#9cdcfe">m_ptr</span>)</div><div>        {</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Move Constructor: Auto_ptr3</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>            <span style="color:#9cdcfe">a</span>.<span style="color:#9cdcfe">m_ptr</span> = <span style="color:#569cd6">nullptr</span>;<span style="color:#6a9955"> // MUST otherwise When “a” goes out of scope, a’s destructor will be called, </span></div><div><span style="color:#6a9955">            // and a.m_ptr will be deleted. If at that point, a.m_ptr is still pointing to the same object </span></div><div><span style="color:#6a9955">            // as m_ptr, then m_ptr will be left as a dangling pointer</span></div><div>        }</div><br /><div><span style="color:#6a9955">        // Copy assignment</span></div><div><span style="color:#6a9955">        // Do deep copy of a.m_ptr to m_ptr</span></div><div>        <span style="color:#4ec9b0">Auto_ptr3</span><span style="color:#569cd6">&amp;</span> <span style="color:#c586c0">operator=</span>(<span style="color:#569cd6">const</span> <span style="color:#4ec9b0">Auto_ptr3</span><span style="color:#569cd6">&amp;</span> <span style="color:#9cdcfe">a</span>)</div><div>        {</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Copy Assignment: Auto_ptr3</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div><span style="color:#6a9955">            // Self-assignment detection</span></div><div>            <span style="color:#c586c0">if</span> (&amp;a == <span style="color:#569cd6">this</span>) <span style="color:rgb(197,134,192)">return</span> *<span style="color:rgb(86,156,214)">this</span>;</div><br /><div><span style="color:#6a9955">            // Release any resource we're holding</span></div><div>            <span style="color:#c586c0">delete</span> m_ptr;</div><br /><div><span style="color:#6a9955">            // Copy the resource</span></div><div>            m_ptr = <span style="color:#c586c0">new</span> T;</div><div>            *m_ptr = *<span style="color:#9cdcfe">a</span>.<span style="color:#9cdcfe">m_ptr</span>;</div><br /><div>            <span style="color:#c586c0">return</span> *<span style="color:#569cd6">this</span>;</div><div>        }</div><div>        </div><div><span style="color:#6a9955">        // Move assignment</span></div><div><span style="color:#6a9955">        // Transfer ownership of a.m_ptr to m_ptr</span></div><div>        <span style="color:#4ec9b0">Auto_ptr3</span><span style="color:#569cd6">&amp;</span> <span style="color:#c586c0">operator=</span>(<span style="color:#4ec9b0">Auto_ptr3</span><span style="color:#569cd6">&amp;&amp;</span> <span style="color:#9cdcfe">a</span>) <span style="color:#569cd6">noexcept</span></div><div>        {</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Move Assignment: Auto_ptr3</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div><span style="color:#6a9955">            // Self-assignment detection</span></div><div>            <span style="color:#c586c0">if</span> (&amp;a == <span style="color:#569cd6">this</span>) <span style="color:rgb(197,134,192)">return</span> *<span style="color:rgb(86,156,214)">this</span>;</div><br /><div><span style="color:#6a9955">            // Release any resource we're holding</span></div><div>            <span style="color:#c586c0">delete</span> m_ptr;</div><br /><div><span style="color:#6a9955">            // Transfer ownership of a.m_ptr to m_ptr</span></div><div>            m_ptr = <span style="color:#9cdcfe">a</span>.<span style="color:#9cdcfe">m_ptr</span>;</div><div>            <span style="color:#9cdcfe">a</span>.<span style="color:#9cdcfe">m_ptr</span> = <span style="color:#569cd6">nullptr</span>;<span style="color:#6a9955"> // we'll talk more about this line below</span></div><br /><div>            <span style="color:#c586c0">return</span> *<span style="color:#569cd6">this</span>;</div><div>        }</div><br /><br /><div>        <span style="color:#4ec9b0">T</span><span style="color:#569cd6">&amp;</span> <span style="color:#c586c0">operator*</span>()  <span style="color:#569cd6">const</span> { <span style="color:rgb(197,134,192)">return</span> *m_ptr; }</div><div>        <span style="color:#4ec9b0">T</span><span style="color:#569cd6">*</span> <span style="color:#c586c0">operator-&gt;</span>() <span style="color:#569cd6">const</span> { <span style="color:rgb(197,134,192)">return</span> m_ptr; }</div><div>        <span style="color:#569cd6">bool</span> <span style="color:#dcdcaa">isNull</span>()   <span style="color:#569cd6">const</span> { <span style="color:rgb(197,134,192)">return</span> m_ptr == <span style="color:rgb(86,156,214)">nullptr</span>; }</div><div>    };</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Resource</span></div><div>    {</div><div>    <span style="color:#569cd6">public:</span></div><div>        <span style="color:#dcdcaa">Resource</span>()  { <span style="color:rgb(78,201,176)">std</span>::cout &lt;&lt; <span style="color:rgb(206,145,120)">"Resource acquired</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">"</span>; }</div><div>        <span style="color:#dcdcaa">~Resource</span>() { <span style="color:rgb(78,201,176)">std</span>::cout &lt;&lt; <span style="color:rgb(206,145,120)">"Resource destroyed</span><span style="color:rgb(215,186,125)">\n</span><span style="color:rgb(206,145,120)">"</span>; }</div><div>    };</div><br /><div>    <span style="color:#9cdcfe">Auto_ptr3</span>&lt;<span style="color:#4ec9b0">Resource</span>&gt; <span style="color:#dcdcaa">generateResource</span>()</div><div>    {</div><div>        Auto_ptr3&lt;Resource&gt; <span style="color:#dcdcaa">res</span>(<span style="color:#c586c0">new</span> Resource);<span style="color:#6a9955"> // 1. Deault constructor of Resource</span></div><div><span style="color:#6a9955">                                            // 2. Default constructor of Auto_ptr3 (NOT Resource)</span></div><div><span style="color:#6a9955">                                            // 3. NOT "copy constructor" gets called for res(new Resource)</span></div><div>        <span style="color:#c586c0">return</span> res;<span style="color:#6a9955"> // 1. this return value will invoke the "Move constructor" of Auto_ptr3 </span></div><div><span style="color:#6a9955">                    // 2. Auto_ptr3: Default destructor called</span></div><br /><div>    }</div><br /><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        Auto_ptr3&lt;Resource&gt; mainres;<span style="color:#6a9955">  // default constrctor - Auto_ptr3(NOT Resource)</span></div><div>        mainres = <span style="color:#dcdcaa">generateResource</span>();<span style="color:#6a9955"> // After return of generateResource()</span></div><div><span style="color:#6a9955">                                    // 1. '=' assignment will invoke the "move assignment"</span></div><div><span style="color:#6a9955">                                    // 2. Auto_ptr3: Default destructor called (on out of scope by below '{' )</span></div><div><span style="color:#6a9955">                                    // 3. Auto_ptr3: Default destructor called (on out of scope by below '{' )</span></div><div><span style="color:#6a9955">                                    // 4. Resource destroyed</span></div><div>    }</div><br /></div></div><div><span style="font-size:13.3333px"><b>Output:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    Auto_ptr3: Default constructor called</div><div>    Resource acquired</div><div>    Auto_ptr3: Default constructor called</div><div>    Move Constructor: Auto_ptr3</div><div>    Auto_ptr3: Default destructor called</div><div>    Move Assignment: Auto_ptr3</div><div>    Auto_ptr3: Default destructor called</div><div>    Auto_ptr3: Default destructor called</div><div>    Resource destroyed</div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>When are the move constructor and move assignment called?</b></span></div><div><span style="font-size:13.3333px">The <b>move constructor</b> and <b>move assignment</b> are called when those functions have been defined, and </span><span style="background-color:transparent">the <b>argument </b>for construction or assignment is an <b>R-value. </b>Most typically, this R-value will be a <b>literal </b>or <b>temporary value.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>'Automatic' L-values(object)</b> returned by <b>value </b>may be <b>moved instead of copied </b>even if they are<b> L-values. </b></span></div><div><span style="font-size:13.3333px">In some cases, the <b>compiler </b>may be able to do even better by simply <b>eliding the copy</b> altogether </span><span style="background-color:transparent">(<b>neither </b>the <b>copy</b> constructor <b>nor move </b>constructor would be called.). </span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">Default move constructor and move assignment do the same thing as the default copy constructor and copy assignment (make copies, not do moves).</span></div><div><span style="font-size:13.3333px">Rule: If you want a move constructor and move assignment that do moves, you’ll need to write them yourself.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>std::move:</b> #include &lt;utility&gt; - </span><span style="background-color:transparent"> function that casts (using <b>static_cast</b>) its argument from <b>'Lvalue' reference into an 'Rvalue' reference.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">template</span>&lt;<span style="color:#569cd6">class</span> <span style="color:#4ec9b0">T</span>&gt;</div><div>    <span style="color:#569cd6">void</span> <span style="color:#dcdcaa">myswap</span>(<span style="color:#4ec9b0">T</span><span style="color:#569cd6">&amp;</span> <span style="color:#9cdcfe">a</span>, <span style="color:#4ec9b0">T</span><span style="color:#569cd6">&amp;</span> <span style="color:#9cdcfe">b</span>) </div><div>    { </div><div><span style="color:#6a9955">    <span>    </span>// Inefficient 3 copies happens below</span></div><div>    <span>    </span>T tmp { a };<span style="color:#6a9955"> // invokes copy constructor</span></div><div>    <span>    </span>a = b;<span style="color:#6a9955">       // invokes copy assignment</span></div><div>    <span>    </span>b = tmp;<span style="color:#6a9955">     // invokes copy assignment</span></div><div>    }</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#4ec9b0">std</span>::string x{ <span style="color:#ce9178">"sridhar"</span> };</div><div>        <span style="color:#4ec9b0">std</span>::string y{ <span style="color:#ce9178">"krishnan"</span> };</div><div>    </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"x: "</span> &lt;&lt; x &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // sridhar</span></div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"y: "</span> &lt;&lt; y &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // krishnan</span></div><div>    </div><div>        <span style="color:#dcdcaa">myswap</span>(x, y);</div><div>    </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"x: "</span> &lt;&lt; x &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // krishnan</span></div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"y: "</span> &lt;&lt; y &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // sridhar</span></div><div>    }</div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Switch from Copy semantics to Move semantics:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;utility&gt;</span><span style="color:#569cd6"> </span><span style="color:#6a9955">// for std::move</span></div><div>    <span style="color:#569cd6">template</span>&lt;<span style="color:#569cd6">class</span> <span style="color:#4ec9b0">T</span>&gt;</div><div>    <span style="color:#569cd6">void</span> <span style="color:#dcdcaa">myswap</span>(<span style="color:#4ec9b0">T</span><span style="color:#569cd6">&amp;</span> <span style="color:#9cdcfe">a</span>, <span style="color:#4ec9b0">T</span><span style="color:#569cd6">&amp;</span> <span style="color:#9cdcfe">b</span>) </div><div>    { </div><div><span style="color:#6a9955">        // std::move to convert our l-values into r-values. </span></div><div><span style="color:#6a9955">        // So it can invoke move semantics instead of copy semantics</span></div><div>        T tmp { <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">move</span>(a) };<span style="color:#6a9955"> // invokes move constructor (x is moved to temp)</span></div><div>        a = <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">move</span>(b);<span style="color:#6a9955">       // invokes move assignment</span></div><div>        b = <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">move</span>(tmp);<span style="color:#6a9955">     // invokes move assignment</span></div><div>    }</div></div></div><div><span style="background-color:transparent">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>std::vector </b>and<b> L-values:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;utility&gt;</span><span style="color:#569cd6"> </span><span style="color:#6a9955">// for std::move</span></div><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;vector&gt;</span></div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {    </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Copying str</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div><div>        <span style="color:rgb(78,201,176)">std</span>::vector&lt;<span style="color:rgb(78,201,176)">std</span>::string&gt; v;</div><div>        <span style="color:rgb(78,201,176)">std</span>::string str = <span style="color:rgb(206,145,120)">"Knock"</span>;</div></div><div>        <span style="color:#9cdcfe">v</span>.<span style="color:#dcdcaa">push_back</span>(str);<span style="color:#6a9955"> // calls l-value version of push_back, which 'copies' str into the array element</span></div><div>        </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"str: "</span> &lt;&lt; str &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">     // str: Knock</span></div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"vector: "</span> &lt;&lt; <span style="color:#9cdcfe">v</span>[<span style="color:#b5cea8">0</span>] &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // vector: Knock</span></div><div>    </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">Moving str</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;    </div><div>        <span style="color:#9cdcfe">v</span>.<span style="color:#dcdcaa">push_back</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">move</span>(str));<span style="color:#6a9955"> // calls r-value version of push_back, which moves str into the array element</span></div><div>        </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"str: "</span> &lt;&lt; str &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">                   // str: &lt;empty&gt;</span></div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"vector:"</span> &lt;&lt; <span style="color:#9cdcfe">v</span>[<span style="color:#b5cea8">0</span>] &lt;&lt; <span style="color:#ce9178">' '</span> &lt;&lt; <span style="color:#9cdcfe">v</span>[<span style="color:#b5cea8">1</span>] &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // vector: Knock Knock</span></div><div>    }</div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b> std::move()</b> gives a <b>hint </b>to the compiler that the <b>programmer doesn’t need </b>this object any more.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">Move functions should always leave your objects in a well-defined state.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">In the above example, string <b>str </b>is set to the <b>empty </b>string <b>after being moved</b> (which is what </span><span style="background-color:transparent">std::string always does after a successful move). </span></div><div><span style="background-color:transparent">This <b>allows </b>us to <b>reuse variable str</b> if we wish </span><span style="background-color:transparent">(or we can ignore it if we no longer have a use for it).</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Smart Pointers: </b></span><span style="background-color:transparent">smart pointers are used <b>to manage any dynamically allocated object.</b> <b>But </b>smart pointer <b>itself </b>should </span><span style="background-color:transparent;font-size:10pt"><b>never be dynamically allocated themselves  </b>(otherwise, there is the risk that the smart pointer may </span><span style="background-color:transparent;font-size:10pt">not be properly deallocated, which means the object it owns would not be deallocated, </span><span style="background-color:transparent">causing a memory leak). By <b>always allocating smart pointers on the stack </b>(as local variables or composition </span><span style="background-color:transparent;font-size:10pt">members of a class), we’re guaranteed that the smart pointer will properly go out of scope when the </span><span style="background-color:transparent;font-size:10pt">function or object is contained within ends, ensuring the object the smart pointer owns is properly deallocated.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>std::unique_ptr</b> Vs <b>std::auto_ptr : </b></span><span style="background-color:transparent">std::unique_ptr is the C++11 replacement for std::auto_ptr. </span><b style="background-color:transparent">Unlike std::auto_ptr, std::unique_ptr properly implements move semantics. </b><span style="background-color:transparent">Unlike std::auto_ptr, std::unique_ptr is smart enough to know whether to use scalar delete or array delete, </span><span style="background-color:transparent;font-size:10pt">so std::unique_ptr is okay to use with both scalar(sigle element) objects and arrays.</span></div><div><span style="font-size:13.3333px"><b>Rule: </b>Favor <b>std::array, std::vector,</b> or <b>std::string</b> over a smart pointer managing a fixed array, dynamic array, or C-style string</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>std::unique_ptr</b></span></div><div><span style="font-size:13.3333px">It should be used <b>to manage any dynamically allocated object </b>that is <b>not shared by multiple objects.</b> </span><span style="background-color:transparent">That is, std::unique_ptr should completely own the object it manages, not share that ownership with </span><span style="background-color:transparent">other classes. std::unique_ptr lives in the <b>&lt;memory&gt;</b> header.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;memory&gt;</span><span style="color:#569cd6"> </span><span style="color:#6a9955">// for std::unique_ptr and std::make_unique</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Resource</span></div><div>    {</div><div>    <span style="color:#569cd6">public:</span></div><div>        <span style="color:#dcdcaa">Resource</span>()  { <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Resource acquired</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>; }</div><div>        <span style="color:#dcdcaa">~Resource</span>() { <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Resource destroyed</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>; }</div><div>    };</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#4ec9b0">std</span>::unique_ptr&lt;<span style="color:#4ec9b0">Resource</span>&gt; res1{ <span style="color:#c586c0">new</span> Resource{} };<span style="color:#6a9955"> // Resource acquired - constructor called.</span></div><div>        <span style="color:#4ec9b0">std</span>::unique_ptr&lt;<span style="color:#4ec9b0">Resource</span>&gt; res2{};<span style="color:#6a9955">                 // Start as nullptr - NO constructor is called</span></div><div>    </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"res1 is "</span> &lt;&lt; (<span style="color:#569cd6">static_cast</span>&lt;<span style="color:#569cd6">bool</span>&gt;(res1) ? <span style="color:#ce9178">"not null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span> : <span style="color:#ce9178">"null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>);<span style="color:#6a9955"> // res1 is not null</span></div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"res2 is "</span> &lt;&lt; (<span style="color:#569cd6">static_cast</span>&lt;<span style="color:#569cd6">bool</span>&gt;(res2) ? <span style="color:#ce9178">"not null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span> : <span style="color:#ce9178">"null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>);<span style="color:#6a9955"> // res2 is null</span></div><div>    </div><div><span style="color:#6a9955">        // res2 = res1;         // Error: won't compile bcos copy assignment is disabled</span></div><div>        res2 = <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">move</span>(res1);<span style="color:#6a9955"> // converts res1 into an r-value, which triggers a move assignment.</span></div><div><span style="color:#6a9955">                                // res2 gets ownership of the resource, res1 is set to null</span></div><div>    </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Ownership transferred</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>    </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"res1 is "</span> &lt;&lt; (<span style="color:#569cd6">static_cast</span>&lt;<span style="color:#569cd6">bool</span>&gt;(res1) ? <span style="color:#ce9178">"not null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span> : <span style="color:#ce9178">"null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>);<span style="color:#6a9955"> // res1 is null</span></div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"res2 is "</span> &lt;&lt; (<span style="color:#569cd6">static_cast</span>&lt;<span style="color:#569cd6">bool</span>&gt;(res2) ? <span style="color:#ce9178">"not null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span> : <span style="color:#ce9178">"null</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>);<span style="color:#6a9955"> // res2 is not null</span></div><div>    }<span style="color:#6a9955"> // Resource destroyed -  here when res2 goes out of scope</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Accessing the managed object: </b></span><span style="background-color:transparent">std::unique_ptr <b>has an overloaded</b> 'operator*' and 'operator-&gt;' that can be </span><b style="background-color:transparent">used to return the resource being managed. </b></div><div><span style="font-size:13.3333px"><b><span>    </span>operator* <span>    </span><span>  </span></b>returns a 'reference' to the managed resource, and </span></div><div><span style="font-size:13.3333px"><b><span>    </span>operator-&gt;<span>    </span></b>returns a 'pointer'.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Resource</span></div><div>    {</div><div>    <span style="color:#569cd6">public:</span></div><div>        <span style="color:#dcdcaa">Resource</span>()  { <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Resource acquired</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>; }</div><div>        <span style="color:#dcdcaa">~Resource</span>() { <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Resource destroyed</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>; }</div><div>        <span style="color:#569cd6">friend</span> <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ostream</span><span style="color:#569cd6">&amp;</span> <span style="color:#c586c0">operator&lt;&lt;</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ostream</span><span style="color:#569cd6">&amp;</span> <span style="color:#9cdcfe">out</span>, <span style="color:#569cd6">const</span> <span style="color:#4ec9b0">Resource</span><span style="color:#569cd6">&amp; </span><span style="color:#9cdcfe">res</span>)</div><div>        {</div><div>            out &lt;&lt; <span style="color:#ce9178">"I am a resource</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>            <span style="color:#c586c0">return</span> out;</div><div>        }</div><div>    };</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#4ec9b0">std</span>::unique_ptr&lt;<span style="color:#4ec9b0">Resource</span>&gt; res{ <span style="color:#c586c0">new</span> Resource{} };<span style="color:#6a9955"> // Resource acquired</span></div><div>    </div><div>        <span style="color:#c586c0">if</span> (res)<span style="color:#6a9955"> // MUST - It uses implicit cast to bool to ensure 'res' contains a Resource</span></div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; *res &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // I am a resource</span></div><div>    }<span style="color:#6a9955"> // Resource destroyed</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>std::make_unique: </b></span><span style="background-color:transparent"><b>C++14</b> comes with an additional function named std::make_unique(). This <b>templated function</b> constructs </span><span style="background-color:transparent;font-size:10pt">an object of the template type and initializes it with the arguments passed into the function.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div><span style="color:#6a9955">        // std::unique_ptr&lt;Resource&gt; res{ new Resource{} }; // Resource acquired</span></div><div>        <span style="color:#569cd6">auto</span> res{ <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">make_unique</span>&lt;<span style="color:#4ec9b0">Resource</span>&gt;() };<span style="color:#6a9955">           // Resource acquired - NOTE: auto and removed 'new'</span></div><div><span style="color:#6a9955">        // auto res{ std::make_unique&lt;Resource[]&gt;(4) };     // Creates array of 4 - Resource acquired</span></div><br /><div>        <span style="color:#c586c0">if</span> (res)<span style="color:#6a9955"> // MUST - It uses implicit cast to bool to ensure res contains a Resource</span></div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; *res &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // I am a resource</span></div><div>    }<span style="color:#6a9955"> // Resource destroyed</span></div></div></div><div><b style="background-color:transparent">Rule: </b><span style="background-color:transparent">use </span><b style="background-color:transparent">std::make_unique() </b><span style="background-color:transparent">instead of creating std::unique_ptr and using 'new' yourself</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Returning std::unique_ptr from a function: </b></span><span style="background-color:transparent">std::unique_ptr can be <b>safely returned</b> from a function <b>'by value'. </b></span><span style="background-color:transparent">In general, you <b>should not return</b> std::unique_ptr <b>by pointer (ever) or reference </b>(unless you have a specific compelling reason to).</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">unique_ptr</span>&lt;<span style="color:#4ec9b0">Resource</span>&gt; <span style="color:#dcdcaa">createResource</span>() <span style="color:rgb(106,153,85)">// return by value (NEVER by pointer/reference)</span></div><div>    {</div><div>        <span style="color:#c586c0">return</span> <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">make_unique</span>&lt;<span style="color:#4ec9b0">Resource</span>&gt;();</div><div>    }</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">auto</span> ptr{ <span style="color:#dcdcaa">createResource</span>() };</div><div>    </div><div><span style="color:#6a9955">        // do whatever</span></div><div>    </div><div>        <span style="color:#c586c0">return</span> <span style="color:#b5cea8">0</span>;</div><div>    }</div></div></div><div><span style="font-size:13.3333px">In the above code, createResource() returns a std::unique_ptr <b>by value.</b> If this value is not assigned </span><span style="background-color:transparent">to anything, the temporary return value will go out of scope and the Resource will be cleaned up. </span><span style="background-color:transparent">If it is assigned (as shown in main()), in <b>C++14 or earlier, move semantics </b>will be employed to transfer </span><span style="background-color:transparent">the Resource from the return value to the object assigned to (in the above example, ptr), and </span><span style="background-color:transparent"><b>in C++17 or newer, the return will be elided.</b> This makes returning a resource by std::unique_ptr much safer than returning raw pointers!</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Passing std::unique_ptr to a function: </b></span><span style="background-color:transparent">Pass the std::unique_ptr <b>by std::move(ptr). </b></span></div><div><span style="background-color:transparent">Note that because <b>copy </b>semantics have been <b>disabled,</b> you’ll need </span><span style="background-color:transparent">to </span><b style="background-color:transparent">use std::move to actually pass the variable in.</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">void</span> <span style="color:#dcdcaa">takeOwnership</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">unique_ptr</span>&lt;<span style="color:#4ec9b0">Resource</span>&gt; <span style="color:#9cdcfe">res</span>)</div><div>    {</div><div>        <span style="color:#c586c0">if</span> (res)</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; *res &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // I am a resource</span></div><div>    }<span style="color:#6a9955"> // Resource destroyed -  here</span></div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">auto</span> ptr{ <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">make_unique</span>&lt;<span style="color:#4ec9b0">Resource</span>&gt;() };<span style="color:#6a9955"> // Resource acquired</span></div><div>    </div><div><span style="color:#6a9955">    <span>    </span>// takeOwnership(ptr);         // This doesn't work, need to use move semantics</span></div><div>        <span style="color:#dcdcaa">takeOwnership</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">move</span>(ptr));<span style="color:#6a9955"> // ok: use move semantics</span></div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Ending program</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>    } <span style="color:rgb(106,153,85)">// Resource is NOT destroyed here - it is already destroyed by takeOwnership() function</span></div></div></div><div><span style="background-color:transparent">Note that in this case, ownership of the Resource was transferred to takeOwnership(), so the </span><span style="background-color:transparent"><b>Resource was destroyed at the end of takeOwnership() rather </b>than the <b>end of main().</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">However, <b>most of the time, you won’t want the function to take ownership of the resource. </b></span><span style="background-color:transparent">Instead, it’s better to just <b>pass the resource core content </b>(by pointer or reference, depending on whether null is a valid argument). </span><span style="background-color:transparent"><b>To get a raw resource pointer</b> from a std::unique_ptr, you can use the <b>get() </b>member function:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#6a9955">    // The function only uses the resource, so we'll accept a pointer to the resource, not a reference to the whole std::unique_ptr&lt;Resource&gt;</span></div><div>    <span style="color:#569cd6">void</span> <span style="color:#dcdcaa">useResource</span>(<span style="color:#4ec9b0">Resource</span> <span style="color:#569cd6">*</span><span style="color:#9cdcfe">res</span>)</div><div>    {</div><div>        <span style="color:#c586c0">if</span> (res)</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; *res &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // I am a resource</span></div><div>    }</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">auto</span> ptr{ <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">make_unique</span>&lt;<span style="color:#4ec9b0">Resource</span>&gt;() };<span style="color:#6a9955"> // Resource acquired</span></div><div>    </div><div>        <span style="color:#dcdcaa">useResource</span>(<span style="color:#9cdcfe">ptr</span>.<span style="color:#dcdcaa">get</span>());<span style="color:#6a9955"> // get() used here to get a 'pointer' to the Resource core content</span></div><div>    </div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Ending program</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>    }<span style="color:#6a9955"> // The Resource is destroyed here NOT at the 'useResource(Resource *res)'</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Misusing std::unique_ptr:</b></span></div><div><span style="font-size:13.3333px">There are <b>2 easy ways to misuse</b> std::unique_ptrs, both of which are easily avoided. </span><span style="background-color:transparent"><b>First,</b> don’t let <b>multiple classes manage the same resource. </b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    Resource *res{ <span style="color:#c586c0">new</span> <span style="color:#dcdcaa">Resource</span>() };</div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">::uniqu</span>e_ptr&lt;Resource&gt; res1{ res };</div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">::uniqu</span>e_ptr&lt;Resource&gt; res2{ res };</div></div></div><div><span style="font-size:13.3333px">While this is legal syntactically, the end result will be that both <b>res1 </b>and <b>res2 </b>will <b>try to delete </b></span><b style="background-color:transparent">the Resource,</b><span style="background-color:transparent"> which will lead to </span><b style="background-color:transparent">undefined behaviour.</b></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Second,</b> <b>don’t manually delete the resource</b> out from underneath the std::unique_ptr.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    Resource *res{ <span style="color:#c586c0">new</span> <span style="color:#dcdcaa">Resource</span>() };</div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">::uniqu</span>e_ptr&lt;Resource&gt; res1{ res };</div><div>    <span style="color:#c586c0">delete</span> res;</div></div></div><div><span style="font-size:13.3333px">If you do, the <b>std::unique_ptr will try to delete an already deleted resource,</b> again leading to undefined behaviour.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Note</b> that <b>std::make_unique()</b> <b>prevents both of the above cases by default </b>from happening inadvertently.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>std::shared_ptr (simplest garbage collector):</b> Unlike std::unique_ptr,<b> multiple smart pointers co-owning a single same resource.</b> </span><span style="background-color:transparent">Internally, std::shared_ptr keeps track of how many std::shared_ptr are sharing the resource. </span><span style="background-color:transparent"><b>Only when the last std::shared_ptr managing the resource goes out of scope</b> (or is reassigned to point at something else),<b> </b></span><span style="background-color:transparent"><b>the resource will be deallocated.</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;memory&gt;</span><span style="color:#569cd6"> </span><span style="color:#6a9955">// for std::shared_ptr </span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Resource</span></div><div>    {</div><div>    <span style="color:#569cd6">public:</span></div><div>        <span style="color:#dcdcaa">Resource</span>()  { <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Resource acquired</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>; }</div><div>        <span style="color:#dcdcaa">~Resource</span>() { <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Resource destroyed</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>; }</div><div>    };</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div><span style="color:#6a9955">        // allocate a Resource object and have it owned by std::shared_ptr</span></div><div>        <span style="color:#4ec9b0">Resource</span> *<span style="color:#9cdcfe">res</span> = <span style="color:#c586c0">new</span> <span style="color:#4ec9b0">Resource</span>;</div><div>        <span style="color:#4ec9b0">std</span>::shared_ptr&lt;<span style="color:#4ec9b0">Resource</span>&gt; <span style="color:#dcdcaa">ptr1</span>(<span style="color:#9cdcfe">res</span>);<span style="color:#6a9955"> // Resource acquired</span></div><div>        {</div><div><span style="color:#6a9955">            // Wrong: creating ptr2 directly from res (instead of ptr1) - pointers aren’t aware of each other.</span></div><div><span style="color:#6a9955">            // std::shared_ptr&lt;Resource&gt; ptr2(res); // Crash at main- resource already deallocated after inner '}'</span></div><br /><div><span style="color:#6a9955">            // MUST: use copy initialization to make another std::shared_ptr pointing to the same thing</span></div><div>            <span style="color:#4ec9b0">std</span>::shared_ptr&lt;<span style="color:#4ec9b0">Resource</span>&gt; <span style="color:#dcdcaa">ptr2</span>(ptr1);<span style="color:#6a9955"> // Resource acquired </span></div><div>        }<span style="color:#6a9955"> // ptr2 goes out of scope here, but Resource will NOT be deallocated</span></div><br /><div>    }<span style="color:#6a9955"> // Resource is destroyed - when ptr1 goes out of scope here</span></div></div></div><div><b style="background-color:transparent">Rule: </b><span style="background-color:transparent">Always make a copy of an existing std::shared_ptr if you need more than one std::shared_ptr pointing to the same resource.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>std::make_shared: </b></span><span style="background-color:transparent">Much like std::make_unique() can be used to create a std::unique_ptr in <b>C++14, </b>std::make_shared() </span><span style="background-color:transparent;font-size:10pt">can (and should) be used to make a std::shared_ptr. std::make_shared() is available in C++11.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div><span style="color:#6a9955">        // allocate a Resource object and have it owned by std::shared_ptr</span></div><div>        <span style="color:#569cd6">auto</span> ptr1 = <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">make_shared</span>&lt;<span style="color:#4ec9b0">Resource</span>&gt;();</div><div>        {</div><div>            <span style="color:#569cd6">auto</span> ptr2 = ptr1;<span style="color:#6a9955"> // create ptr2 using copy initialization of ptr1</span></div><div>        }<span style="color:#6a9955"> // ptr2 goes out of scope here, but nothing happens</span></div><div>    }<span style="color:#6a9955"> // ptr1 goes out of scope here, and the allocated Resource is destroyed</span></div></div></div><div><span style="background-color:transparent">The reasons for using std::make_shared() are the same as std::make_unique() -- <b>std::make_shared() is </b></span><span style="background-color:transparent;font-size:10pt"><b>simpler and safer</b> (there’s <b>no way</b> to directly <b>create two std::shared_ptr pointing to the same resource</b> using this method). </span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Digging into std::shared_ptr: </b></span><span style="background-color:transparent">Unlike <b>std::unique_ptr</b>, which uses a <b>single pointer internally,</b> <b>std::shared_ptr</b> uses <b>two pointers internally. </b></span></div><div><span style="font-size:13.3333px"><b>One </b>pointer points at the <b>resource being managed. </b>The <b>other </b>points at a <b>“control block”,</b> which is a </span><span style="background-color:transparent">dynamically allocated object that tracks of a bunch of stuff, including <b>how many std::shared_ptr are </b></span><span style="background-color:transparent"><b>pointing at the resource. </b>When a std::shared_ptr is created via a std::shared_ptr constructor, the memory </span></div><div><span style="font-size:13.3333px">for the managed object (which is usually passed in) and control block (which the constructor creates) </span><span style="background-color:transparent">are allocated <b>separately.</b> However, when using <b>std::make_shared(),</b> this can be <b>optimized </b>into a <b>single memory allocation,</b> </span><span style="background-color:transparent">which leads to better performance.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Shared pointers can be created from unique pointers: </b></span></div><div><span style="background-color:transparent">A <b>std::unique_ptr can be converted into a std::shared_ptr</b> via a special std::shared_ptr constructor </span><span style="background-color:transparent">that accepts a <b>std::unique_ptr R-value.</b> The contents of the std::unique_ptr will be moved to the std::shared_ptr. </span><span style="background-color:transparent;font-size:10pt">However, <b>std::shared_ptr can not be safely converted to a std::unique_ptr. </b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Circular dependency issues with std::shared_ptr:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Person</span></div><div>    {</div><div>        <span style="color:#4ec9b0">std</span>::string m_name;</div><div>        <span style="color:#4ec9b0">std</span>::shared_ptr&lt;Person&gt; m_partner;<span style="color:#6a9955"> // Must - Another internal shared pointer</span>    </div><div>    <span style="color:#569cd6">public:</span>            </div><div>        <span style="color:#dcdcaa">Person</span>(<span style="color:#569cd6">const</span> <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span><span style="color:#569cd6">&amp; </span><span style="color:#9cdcfe">name</span>): <span style="color:#dcdcaa">m_name</span>(name)</div><div>        { </div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; m_name &lt;&lt; <span style="color:#ce9178">" created</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>        }</div><div>        <span style="color:#dcdcaa">~Person</span>()</div><div>        {</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; m_name &lt;&lt; <span style="color:#ce9178">" destroyed</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>        }</div><div>    </div><div>        <span style="color:#569cd6">friend</span> <span style="color:#569cd6">bool</span> <span style="color:#dcdcaa">partnerUp</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">shared_ptr</span>&lt;<span style="color:#4ec9b0">Person</span>&gt; <span style="color:#569cd6">&amp;</span><span style="color:#9cdcfe">p1</span>, <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">shared_ptr</span>&lt;<span style="color:#4ec9b0">Person</span>&gt; <span style="color:#569cd6">&amp;</span><span style="color:#9cdcfe">p2</span>)</div><div>        {</div><div>            <span style="color:#c586c0">if</span> (!p1 || !p2)  <span style="color:rgb(197,134,192)">return</span> <span style="color:rgb(86,156,214)">false</span>;</div><div>    </div><div>            <span style="color:#9cdcfe">p1</span>-&gt;<span style="color:#9cdcfe">m_partner</span> = p2;</div><div>            <span style="color:#9cdcfe">p2</span>-&gt;<span style="color:#9cdcfe">m_partner</span> = p1;</div><div>    </div><div>            <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:cout &lt;&lt; <span style="color:#9cdcfe">p1</span>-&gt;<span style="color:#9cdcfe">m_name</span> &lt;&lt; <span style="color:#ce9178">" is now partnered with "</span> &lt;&lt; <span style="color:#9cdcfe">p2</span>-&gt;<span style="color:#9cdcfe">m_name</span> &lt;&lt; <span style="color:#ce9178">"</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>    </div><div>            <span style="color:#c586c0">return</span> <span style="color:#569cd6">true</span>;</div><div>        }</div><div>    };</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">auto</span> <span style="color:#9cdcfe">murali</span>  { <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">make_shared</span>&lt;<span style="color:#4ec9b0">Person</span>&gt;(<span style="color:#ce9178">"Murali"</span>) };<span style="color:#6a9955"> // create a Person named "Murali"</span></div><div>        <span style="color:#569cd6">auto</span> <span style="color:#9cdcfe">ramanan</span> { <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">make_shared</span>&lt;<span style="color:#4ec9b0">Person</span>&gt;(<span style="color:#ce9178">"Ramanan"</span>) };<span style="color:#6a9955"> // create a Person named "Ramanan"</span></div><div>    </div><div>        <span style="color:#dcdcaa">partnerUp</span>(<span style="color:#9cdcfe">murali</span>, <span style="color:#9cdcfe">ramanan</span>);<span style="color:#6a9955"> // Make "Murali" point to "Ramanan" and vice-versa</span></div><div>    }</div></div></div><div><span style="font-size:13.3333px">Output:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    Murali created</div><div>    Ramanan created</div><div>    Murali is now partnered with Ramanan</div></div></div><div><span style="background-color:transparent"><b>Note: </b>Resource <b>never gets deallocated</b> bcos of <b>circular reference</b> -  <b>“Murali” points at “Ramanan”, and “Ramanan” points at “Murali”.</b></span></div><div><span style="font-size:13.3333px">Thus, no objects in the series can be deallocated because <b>they all think some other object still needs it!</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>cyclical reference</b> issue can even happen with a <b>single std::shared_ptr:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Resource</span></div><div>    {</div><div>    <span style="color:#569cd6">public:</span></div><div>        <span style="color:#4ec9b0">std</span>::shared_ptr&lt;Resource&gt; m_ptr;<span style="color:#6a9955"> // initially created empty</span></div><div>        </div><div>        <span style="color:#dcdcaa">Resource</span>()  { <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Resource acquired</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>; }</div><div>        <span style="color:#dcdcaa">~Resource</span>() { <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#ce9178">"Resource destroyed</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>; }</div><div>    };</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">auto</span> <span style="color:#9cdcfe">ptr1</span> { <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">make_shared</span>&lt;<span style="color:#4ec9b0">Resource</span>&gt;() };</div><div>    </div><div>        <span style="color:#9cdcfe">ptr1</span>-&gt;<span style="color:#9cdcfe">m_ptr</span> = <span style="color:#9cdcfe">ptr1</span>;<span style="color:#6a9955"> // both ptr1 and m_ptr is now sharing the Resource</span></div><div>    }</div></div></div><div><b style="background-color:transparent">Output: </b><span style="background-color:transparent">Resource acquired    &lt;= never deallocated</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Solution: std::weak_ptr: </b></span><span style="background-color:transparent">std::weak_ptr was designed to solve the “cyclical ownership” problem described above. A <b>std::weak_ptr </b></span><span style="background-color:transparent"><b>is an observer</b> -- it can observe and access the same object as a std::shared_ptr (or other std::weak_ptrs) </span><span style="background-color:transparent"><b>but it is not considered an owner.</b></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Remember, when a <b>std::shared pointer goes out of scope,</b> it only considers/<b>count </b>whether other std::shared_ptr(NOT std::weak_ptr) </span></div><div><span style="font-size:13.3333px">are co-owning the object. <b>It does NOT count std::weak_ptr!</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Person</span></div><div>    {</div><div>        <span style="color:#4ec9b0">std</span>::string m_name;</div><div>        <span style="color:#4ec9b0">std</span>::weak_ptr&lt;Person&gt; m_partner;<span style="color:#6a9955"> // note: This is now a std::weak_ptr</span></div><div>    </div><div>    <span style="color:#569cd6">public:</span></div><div>            </div><div>        <span style="color:#dcdcaa">Person</span>(<span style="color:#569cd6">const</span> <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#569cd6">&amp;</span><span style="color:#9cdcfe">name</span>): <span style="color:#dcdcaa">m_name</span>(name)</div><div>        { </div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; m_name &lt;&lt; <span style="color:#ce9178">" created</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>        }</div><div>        <span style="color:#dcdcaa">~Person</span>()</div><div>        {</div><div>            <span style="color:#4ec9b0">std</span>::cout &lt;&lt; m_name &lt;&lt; <span style="color:#ce9178">" destroyed</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>        }</div><div>    </div><div>        <span style="color:#569cd6">friend</span> <span style="color:#569cd6">bool</span> <span style="color:#dcdcaa">partnerUp</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">shared_ptr</span>&lt;<span style="color:#4ec9b0">Person</span>&gt; <span style="color:#569cd6">&amp;</span><span style="color:#9cdcfe">p1</span>, <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">shared_ptr</span>&lt;<span style="color:#4ec9b0">Person</span>&gt; <span style="color:#569cd6">&amp;</span><span style="color:#9cdcfe">p2</span>)</div><div>        {</div><div>            <span style="color:#c586c0">if</span> (!p1 || !p2)</div><div>                <span style="color:#c586c0">return</span> <span style="color:#569cd6">false</span>;</div><div>    </div><div>            <span style="color:#9cdcfe">p1</span>-&gt;<span style="color:#9cdcfe">m_partner</span> = p2;</div><div>            <span style="color:#9cdcfe">p2</span>-&gt;<span style="color:#9cdcfe">m_partner</span> = p1;</div><div>    </div><div>            <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:cout &lt;&lt; <span style="color:#9cdcfe">p1</span>-&gt;<span style="color:#9cdcfe">m_name</span> &lt;&lt; <span style="color:#ce9178">" is now partnered with "</span> &lt;&lt; <span style="color:#9cdcfe">p2</span>-&gt;<span style="color:#9cdcfe">m_name</span> &lt;&lt; <span style="color:#ce9178">"</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>;</div><div>    </div><div>            <span style="color:#c586c0">return</span> <span style="color:#569cd6">true</span>;</div><div>        }</div><div>    };</div><br /><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">auto</span> <span style="color:#9cdcfe">murali</span>  { <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">make_shared</span>&lt;<span style="color:#4ec9b0">Person</span>&gt;(<span style="color:#ce9178">"Murali"</span>) };</div><div>        <span style="color:#569cd6">auto</span> <span style="color:#9cdcfe">ramanan</span> { <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">make_shared</span>&lt;<span style="color:#4ec9b0">Person</span>&gt;(<span style="color:#ce9178">"Ramanan"</span>) };</div><div>    </div><div>        <span style="color:#dcdcaa">partnerUp</span>(<span style="color:#9cdcfe">murali</span>, <span style="color:#9cdcfe">ramanan</span>);</div><div>    }</div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    Murali created</div><div>    Ramanan created</div><div>    Murali is now partnered with Ramanan</div><div>    Ramanan destroyed</div><div>    Murali destroyed</div></div></div><div><span style="background-color:transparent">when<b> ramanan goes out of scope,</b> it sees that there are <b>no other std::shared_ptr pointing at “Ramanan” </b></span><span style="background-color:transparent">(the std::weak_ptr from “Murali” doesn’t count). Therefore, it will deallocate “Ramanan”. The same occurs for murali.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Problem with std::weak_ptr: </b></span><span style="background-color:transparent">The downside of std::weak_ptr is that std::weak_ptr are <b>not directly usable</b> (they have <b>NO operator-&gt;</b>). </span></div><div><span style="font-size:13.3333px"><b>To use a std::weak_ptr,</b> you must<b> first convert it into a std::shared_ptr. </b>Then you <b>can use the std::shared_ptr. </b></span></div><div><span style="font-size:13.3333px"><b>To convert</b> a std::weak_ptr into a std::shared_ptr, you can use the <b>lock() </b>member function. </span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>  <span style="color:rgb(86,156,214)">  const</span> <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">shared_ptr</span>&lt;<span style="color:rgb(78,201,176)">Person</span>&gt; <span style="color:rgb(220,220,170)">getPartner</span>() <span style="color:rgb(86,156,214)">const</span> {  <span style="color:rgb(106,153,85)">// use lock() to convert </span><span style="color:rgb(106,153,85)">weak_ptr to shared_ptr</span></div><div><span style="color:#c586c0"><span>    </span><span>    </span>return</span> <span style="color:#9cdcfe">m_partner</span>.<span style="color:#dcdcaa">lock</span>(); </div><div><span>    </span>}<span style="color:#6a9955">  </span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span><span style="color:#569cd6">&amp;</span> <span style="color:#dcdcaa">getName</span>() <span style="color:#569cd6">const</span> { <span style="color:#c586c0">return</span> m_name; }</div><br /><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">auto</span> murali  { <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">make_shared</span>&lt;<span style="color:#4ec9b0">Person</span>&gt;(<span style="color:#ce9178">"Murali"</span>) };</div><div>        <span style="color:#569cd6">auto</span> ramanan { <span style="color:#4ec9b0">std</span>::<span style="color:#dcdcaa">make_shared</span>&lt;<span style="color:#4ec9b0">Person</span>&gt;(<span style="color:#ce9178">"Ramanan"</span>) };</div><div>    </div><div>        <span style="color:#dcdcaa">partnerUp</span>(murali, ramanan);</div><div>    </div><div>        <span style="color:#569cd6">auto</span> partner = <span style="color:#9cdcfe">ramanan</span>-&gt;<span style="color:#dcdcaa">getPartner</span>();<span style="color:#6a9955"> // Convert weak =&gt; shared ptr. Got shared_ptr to Ramanan's partner</span></div><div>        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#9cdcfe">ramanan</span>-&gt;<span style="color:#dcdcaa">getName</span>() &lt;&lt; <span style="color:#ce9178">"'s partner is: "</span> &lt;&lt; <span style="color:#9cdcfe">partner</span>-&gt;<span style="color:#dcdcaa">getName</span>() &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;</div><div>    }</div></div></div><div><span style="font-size:13.3333px">Output:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    Murali created</div><div>    Ramanan created</div><div>    Murali is now partnered with Ramanan</div><div>    Ramanan partner is: Murali</div><div>    Ramanan destroyed</div><div>    Murali destroyed</div></div></div><div><span style="background-color:transparent">Here we <b>don’t have to worry about circular dependencies</b> with <b>std::shared_ptr</b> variable <b>“partner” </b>since </span><span style="background-color:transparent">it’s<b> just a local variable inside the function. </b>It will eventually go out of scope at the end of the </span><span style="background-color:transparent">function and the reference count will be decremented by 1.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Container Classes: </b></span><span style="background-color:transparent">Container classes fall into <b>3</b> basic categories:<b> Sequence containers, Associative containers, </b>and <b>Container adapters.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Sequence Containers:</b> </span></div><div><span style="font-size:13.3333px"><b>You can choose where to insert your element by position. </b></span><span style="background-color:transparent">As of C++11, the STL contains <b>6 sequence containers:</b></span></div><div><span style="background-color:transparent"><b><span>    </span>std::vector, std::deque, std::array, std::list, </b></span><span style="background-color:transparent"><b>std::forward_list, </b>and <b>std::basic_string.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>deque </b>class (pronounced <b>“deck”</b>) is a <b>double-ended queue</b> class, implemented as a <b>vectors/dynamic array that can grow from both ends.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Associative Containers:</b> Automatically <b>sort their inputs</b> when those inputs are <b>inserted into the container. </b></span></div><div><span style="font-size:13.3333px">By default, associative containers compare elements using <b>operator&lt;. E</b></span><span style="background-color:transparent">x: s<b>et, multiset, map</b> and <b>multimap.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Container Adapters: </b></span><span style="background-color:transparent">Container adapters are special predefined containers that are adapted to specific uses. </span><span style="background-color:transparent">The interesting part about container adapters is that <b>you can choose which sequence container</b> you want them to use. </span><span style="background-color:transparent">Ex: <b>stack, queue</b> and <b>priority queue.</b></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b><span>    </span>stack container:   </b>Stacks <b>default to using deque </b>as their default sequence container (which seems <b>odd</b>, </span><span style="background-color:transparent">since <b>vector</b> seems like a more <b>natural fit</b>), </span></div><div><span style="background-color:transparent">                                but can use <b>vector </b>or <b>list </b>as well.</span></div><div><span style="font-size:13.3333px"><b><span>    </span>queue container: </b>Queues <b>default to using deque, </b>but can also use <b>list.</b></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b><span>    </span>priority queue:     </b>is a type of queue where the elements are kept <b>sorted </b>(via operator&lt;). </span><span style="background-color:transparent">When elements are pushed, the element is sorted in the</span></div><div><span style="background-color:transparent">                                queue. <b>Removing </b>an element from the <b>front </b></span><span style="background-color:transparent">returns the <b>highest priority</b> item in the priority queue.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>STL iterators: </b></span></div><div><span style="background-color:transparent"><span>    </span><span>    </span><span>    </span><span>    </span><span>   </span>An Iterator is an <b>object </b>that can <b>traverse </b>(iterate over) a <b>container class without </b>the user having </span><span style="background-color:transparent;font-size:10pt">to know <b>how the container is implemented. </b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>All containers</b> provide (at least) <b>2 types of iterators:</b></span><span style="background-color:transparent;white-space:pre">       <b>1. </b></span><b style="background-color:transparent">container::iterator</b><span style="background-color:transparent"> provides a read/write iterator</span></div><div><span style="font-size:13.3333px"><span style="white-space:pre">	                                                                                <b>2.</b> </span><b>container::const_iterator</b> provides a read-only iterator</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>All container</b> includes <b>4 basic member functions</b> for use with <b>Operator=</b>:</span></div><div><span style="font-size:13.3333px"><span style="white-space:pre"> </span><b>begin() </b>returns an <b>iterator </b>representing the <b>beginning </b>of the elements in the container.</span></div><div><span style="font-size:13.3333px"><span style="white-space:pre"> </span><b>end()</b> returns an iterator representing the element just <b>past the end of the elements.</b></span></div><div><span style="font-size:13.3333px"><span style="white-space:pre"> </span><b>cbegin()</b> returns a <b>const (read-only) iterator</b> representing the beginning of the elements in the container.</span></div><div><span style="font-size:13.3333px"><span style="white-space:pre"> </span><b>cend() </b>returns a const (read-only) iterator representing the element just past the end of the elements.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>STL algorithms: </b></span><span style="background-color:transparent">Algorithms are implemented as functions that <b>operate using iterators.</b> This means that each algorithm </span><span style="background-color:transparent">only needs to be implemented once, and it will generally automatically <b>work for all containers </b>that </span><span style="background-color:transparent">provide a set of iterators (<b>including your custom container classes</b>). </span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>min_element</b>  and <b>std::iota</b> (fills the given value with +1):</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;algorithm&gt;</span><span style="color:#569cd6"> </span><span style="color:#6a9955">// std::min_element and std::max_element</span></div><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;numeric&gt;</span><span style="color:#569cd6">   </span><span style="color:#6a9955">// std::iota</span></div><div><span style="color:rgb(86,156,214)">    </span><span style="color:rgb(197,134,192)">#include</span><span style="color:rgb(86,156,214)"> </span><span style="color:rgb(206,145,120)">&lt;list&gt;</span>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#4ec9b0">main</span>()</div><div>    {</div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">list</span>&lt;<span style="color:#569cd6">int</span>&gt; <span style="color:#4ec9b0">li</span>(<span style="color:#b5cea8">5</span>);</div><div>        <span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">iota</span>(li.<span style="color:rgb(78,201,176)">begin</span>(), li.<span style="color:rgb(78,201,176)">end</span>(), <span style="color:rgb(181,206,168)">3</span>);<span style="color:rgb(106,153,85)"> // 3 4 5 6 7 (NOT 8)</span></div><div>    </div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cout</span> &lt;&lt; *<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">min_element</span>(li.<span style="color:#4ec9b0">begin</span>(), li.<span style="color:#4ec9b0">end</span>()) &lt;&lt; <span style="color:#ce9178">' '</span><span style="color:#6a9955">   // 3</span></div><div>                  &lt;&lt; *<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">max_element</span>(li.<span style="color:#4ec9b0">begin</span>(), li.<span style="color:#4ec9b0">end</span>()) &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // 7</span></div><div>    }</div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>#include &lt;string&gt;</b> : There are actually <b>3 different string classes</b> in the &lt;string&gt; header. </span></div><div><span style="font-size:13.3333px">The first is a <b>templated base class </b>named <b>basic_string&lt;&gt;</b>:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    namespace <span style="color:#4ec9b0">std</span></div><div>    {</div><div>        template&lt;<span style="color:#569cd6">class</span> <span style="color:#4ec9b0">charT</span>, <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">traits</span> = <span style="color:#4ec9b0">char_traits</span>&lt;<span style="color:#4ec9b0">charT</span>&gt;, <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Allocator</span> = <span style="color:#4ec9b0">allocator</span>&lt;<span style="color:#4ec9b0">charT</span>&gt; &gt;</div><div>            <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">basic_string</span>;</div><div>    }</div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">2nd and 3rd are:</span></div><div><span style="font-size:13.3333px"><b>Two flavors of basic_string&lt;&gt; </b>provided by the standard library:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    namespace <span style="color:#4ec9b0">std</span></div><div>    {</div><div>        typedef <span style="color:#4ec9b0">basic_string</span>&lt;<span style="color:#569cd6">char</span>&gt; <span style="color:#4ec9b0">string</span>;<span style="color:#6a9955">     // for standard ascii and utf-8 strings</span></div><div>        typedef <span style="color:#4ec9b0">basic_string</span>&lt;<span style="color:#569cd6">wchar_t</span>&gt; <span style="color:#4ec9b0">wstring</span>;<span style="color:#6a9955"> // for wide-character/unicode (utf-16) strings.</span></div><div>    }</div></div></div><div><span style="font-size:13.3333px">There is <b>no built-in class </b>for <b>utf-32 strings</b> (though you should be able to extend your own from basic_string&lt;&gt; if you need one).</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>string </b>and <b>wstring </b>are able to access that all basic_string&lt;&gt; functionality directly by virtue of being templated.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#4ec9b0"><span>    </span>string</span>::<span style="color:#4ec9b0">string</span>(<span style="color:#569cd6">const</span> <span style="color:#4ec9b0">string</span>&amp; <span style="color:#4ec9b0">srcString</span>, <span style="color:#4ec9b0">size_type</span> <span style="color:#4ec9b0">srcIndex</span>)</div><div><span style="color:#4ec9b0"><span>    </span>string</span>::<span style="color:#4ec9b0">string</span>(<span style="color:#569cd6">const</span> <span style="color:#4ec9b0">string</span>&amp; <span style="color:#4ec9b0">srcString</span>, <span style="color:#4ec9b0">size_type</span> <span style="color:#4ec9b0">srcIndex</span>, <span style="color:#4ec9b0">size_type</span> <span style="color:#4ec9b0">maxLength</span>)</div></div></div><div><span style="font-size:13.3333px">This constructor <b>creates a new string from a source string </b>that contains at most <b>maxLength </b>characters from <b>srcString</b>, starting with index <b>srcIndex</b>. </span></div><div><span style="font-size:13.3333px">If a <b>NULL </b>is encountered, the <b>string copy will end,</b> even if maxLength has not been reached.</span></div><div><span style="font-size:13.3333px">If <b>no maxLength i</b>s supplied, <b>all characters</b> starting from srcIndex will be used.</span></div><div><span style="font-size:13.3333px">If <b>srcIndex </b>is larger than the size of the string, the <b>out_of_range exception</b> will be thrown.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#4ec9b0">sSource</span>{ <span style="color:#ce9178">"my string"</span> };</div><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#9cdcfe">sOutput</span>{ <span style="color:#4ec9b0">sSource</span>, <span style="color:#b5cea8">3</span> };</div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; sOutput&lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">  // string</span></div><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#9cdcfe">sOutput2</span>(<span style="color:#4ec9b0">sSource</span>, <span style="color:#b5cea8">3</span>, <span style="color:#b5cea8">4</span>);</div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">sOutput2</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // stri</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>string::string(const char *szCString)</b></span></div><div><span style="font-size:13.3333px">This constructor <b>creates a new string from the C-style</b> string szCString, up to but <b>not including</b> the <b>NULL terminator.</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">const</span> <span style="color:#569cd6">char</span>* <span style="color:#4ec9b0">szSource</span>{ <span style="color:#ce9178">"hai S</span><span style="color:#d7ba7d">\0</span><span style="color:#ce9178">ridhar"</span> };<span style="color:#6a9955"> // not including the NULL terminator.</span></div><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#9cdcfe">sOutput</span>{ <span style="color:#4ec9b0">szSource</span> };</div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">sOutput</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">            // hai S</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>string::string(const char *szCString, size_type unLength)</b></span></div><div><span style="font-size:13.3333px">This constructor <b>creates a new string </b>from the first unLength chars from the C-style string szCString.</span></div><div><span style="font-size:13.3333px">If the resulting <b>size exceeds </b>the maximum string length, the <b>length_error exception</b> will be thrown.</span></div><div><span style="font-size:13.3333px"><b>Warning:</b> <b>For this function only,</b> <b>NULLs are not treated as end-of-string characters in szCString! </b></span></div><div><span style="font-size:13.3333px">This means <b>it is possible to read off the end of your string</b> if unLength is too big. Be careful not to overflow your string buffer!</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">const</span> <span style="color:#569cd6">char</span>* <span style="color:#4ec9b0">szSource</span>{ <span style="color:#ce9178">"hai S</span><span style="color:#d7ba7d">\0</span><span style="color:#ce9178">ridhar"</span> };<span style="color:#6a9955"> // NULL is ignored - Special !!!</span></div><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#9cdcfe">sOutput</span>(<span style="color:#4ec9b0">szSource</span>, <span style="color:#b5cea8">8</span>);<span style="color:#6a9955">        // hai Sri</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">sOutput</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;</div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Constructing strings from numbers: </b>One <b>notable omission in the std::string class</b> is the lack of ability to <b>create strings from numbers.</b> </span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre">    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#4ec9b0">sFour</span>{ <span style="color:#b5cea8">4</span> };<span style="color:#6a9955"> // Error - NOT supported directly</span></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Solution: std::ostringstream</b> is already set up to <b>accept input from a variety of sources,</b> including </span><span style="background-color:transparent">characters, numbers, strings, etc…</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;sstream&gt;</span></div><div>    </div><div>    template &lt;<span style="color:#569cd6">typename</span> <span style="color:#4ec9b0">T</span>&gt;</div><div>    inline <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#4ec9b0">ToString</span>(<span style="color:#4ec9b0">T</span> <span style="color:#4ec9b0">tX</span>)</div><div>    {</div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ostringstream</span> <span style="color:#4ec9b0">oStream</span>;</div><div>        <span style="color:#4ec9b0">oStream</span> &lt;&lt; <span style="color:#4ec9b0">tX</span>;</div><div>        return oStream.<span style="color:#4ec9b0">str</span>();</div><div>    }</div><div>    <span style="color:#569cd6">int</span> <span style="color:#4ec9b0">main</span>()</div><div>    {</div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#4ec9b0">sFour</span>{ <span style="color:#4ec9b0">ToString</span>(<span style="color:#b5cea8">4</span>) };</div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#4ec9b0">sSixPointSeven</span>{ <span style="color:#4ec9b0">ToString</span>(<span style="color:#b5cea8">6.7</span>) };</div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#4ec9b0">sA</span>{ <span style="color:#4ec9b0">ToString</span>(<span style="color:#ce9178">'A'</span>) };</div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">sFour</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">          // 4 </span></div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">sSixPointSeven</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // 6.7</span></div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">sA</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">             // A</span></div><div>    }</div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Converting strings to numbers: </b>Similar to the solution above:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;iostream&gt;</span></div><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;sstream&gt;</span></div><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;string&gt;</span></div><div>    </div><div>    template &lt;<span style="color:#569cd6">typename</span> <span style="color:#4ec9b0">T</span>&gt;</div><div>    inline <span style="color:#569cd6">bool</span> <span style="color:#4ec9b0">FromString</span>(<span style="color:#569cd6">const</span> <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span>&amp; <span style="color:#4ec9b0">sString</span>, <span style="color:#4ec9b0">T</span> &amp;<span style="color:#4ec9b0">tX</span>)</div><div>    {</div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">istringstream</span> <span style="color:#4ec9b0">iStream</span>(<span style="color:#4ec9b0">sString</span>);</div><div>        return !(<span style="color:#4ec9b0">iStream</span> &gt;&gt; <span style="color:#4ec9b0">tX</span>).<span style="color:#4ec9b0">fail</span>();<span style="color:#6a9955"> // extract value into tX, return success or not</span></div><div>    }</div><div>    <span style="color:#569cd6">int</span> <span style="color:#4ec9b0">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">double</span> <span style="color:#4ec9b0">dX</span>;</div><div>        if (<span style="color:#4ec9b0">FromString</span>(<span style="color:#ce9178">"3.4"</span>, <span style="color:#4ec9b0">dX</span>))</div><div>            <span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">dX</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">  // 3.4</span></div><div>        if (<span style="color:#4ec9b0">FromString</span>(<span style="color:#ce9178">"ABC"</span>, <span style="color:#4ec9b0">dX</span>))<span style="color:#6a9955"> // fail so will not execute</span></div><div>            <span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">dX</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>; </div><div>    }</div></div></div><div><span style="background-color:transparent">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>#3 ways to convert C++ string to C string:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">const</span> <span style="color:#569cd6">char</span>* <span style="color:#4ec9b0">string</span>::<span style="color:#4ec9b0">c_str</span> () <span style="color:#569cd6">const</span><span style="color:#6a9955">            // +null - terminator appended</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#569cd6">char</span>* <span style="color:#4ec9b0">string</span>::<span style="color:#4ec9b0">data</span> () <span style="color:#569cd6">const</span><span style="color:#6a9955">             // +null - terminator appended</span></div><div>    <span style="color:#4ec9b0">size_type</span> <span style="color:#4ec9b0">string</span>::<span style="color:#4ec9b0">copy</span>(<span style="color:#569cd6">char</span> *<span style="color:#4ec9b0">szBuf</span>, <span style="color:#4ec9b0">size_type</span> <span style="color:#4ec9b0">nLength</span>) <span style="color:#569cd6">const</span><span style="color:#6a9955">  // NO 'null'</span></div></div></div><div><span style="background-color:transparent">More or less all above 3 do the same. </span><b style="background-color:transparent">Prefer 'c_str()' which is efficient and safe.</b></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#4ec9b0">sSource</span>{ <span style="color:#ce9178">"a23d"</span> };<span style="color:#6a9955">             // sSource = "a23d";</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">strlen</span>(sSource.<span style="color:#4ec9b0">c_str</span>());<span style="color:#6a9955"> // a23d\0  =&gt; 4 </span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>string&amp; string::insert (size_type srcStartindex, const string&amp; str, size_type dstStartindex, size_type num)</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#4ec9b0">string</span> <span style="color:#4ec9b0">sString</span>(<span style="color:#ce9178">"ABCDE"</span>);</div><div>    <span style="color:#569cd6">const</span> <span style="color:#4ec9b0">string</span> <span style="color:#9cdcfe">sInsert</span>(<span style="color:#ce9178">"01234567"</span>);</div><div>    <span style="color:#9cdcfe">sString</span>.<span style="color:#4ec9b0">insert</span>(<span style="color:#b5cea8">2</span>, <span style="color:#4ec9b0">sInsert</span>, <span style="color:#b5cea8">3</span>, <span style="color:#b5cea8">4</span>);<span style="color:#6a9955"> // insert substring of sInsert from index [3,7) into sString at index 2</span></div><div>    <span style="color:#9cdcfe">cout</span> &lt;&lt; <span style="color:#4ec9b0">sString</span> &lt;&lt; <span style="color:#4ec9b0">endl</span>;<span style="color:#6a9955"> // AB3456CDE</span></div></div></div><div><span style="background-color:transparent">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>iostream library:</b> When you include the &lt;iostream&gt; header, you gain access to a whole hierarchy of classes </span><span style="background-color:transparent">responsible for providing I/O functionality (including one class that is actually named iostream).</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>                                                 ┌───────────┐</div><div>                                                 │  <span style="color:#4ec9b0">ios_base</span> │</div><div>                                                 └─────▲─────┘</div><div>                                                       │</div><div>                                                    ┌──┴───┐</div><div>                                                    │ <span style="color:#4ec9b0">ios</span>  │</div><div>                                                    └─▲──▲─┘</div><div>                                                      │  │</div><div>                                                      │  │</div><div>                                  ┌──────────────┬────┘  └────────┬──────────────┐</div><div>                                  │  <span style="color:#4ec9b0">istream</span>     │                │  <span style="color:#4ec9b0">ostream</span>     │</div><div>                                  │  (<span style="color:#4ec9b0">input</span>)     │                │  (<span style="color:#4ec9b0">output</span>)    │</div><div>                                  └───▲──────▲───┘                └──▲──────▲────┘</div><div>                                      │      │                       │      │</div><div>                                      │      │                       │      │</div><div>               ┌──────────────────────┴──┐   └──────┬───────────┬────┘ ┌────┴────────────────────┐</div><div>               │ <span style="color:#4ec9b0">istream_withassign</span>      │          │ <span style="color:#4ec9b0">iostream</span>  │      │ <span style="color:#4ec9b0">ostream_withassign</span>      │</div><div>               │   (<span style="color:#4ec9b0">cin</span>)                 │          └────▲──────┘      │ (<span style="color:#4ec9b0">cout</span>, <span style="color:#4ec9b0">cerr</span>, <span style="color:#4ec9b0">clog</span>)      │</div><div>               └─────────────────────────┘               │             └─────────────────────────┘</div><div>                                              ┌──────────┴───────────┐</div><div>                                              │ <span style="color:#4ec9b0">iostream_withassign</span>  │</div><div>                                              └──────────────────────┘</div><div>      </div></div></div><div><span style="background-color:transparent"><b>istream class:</b> Is the primary class used when dealing with <b>input streams. </b></span><span style="background-color:transparent">With input streams, the extraction operator (<b>&gt;&gt;</b>) is used to <b>remove values from</b> the <b>stream.</b> </span><span style="background-color:transparent">This makes sense: when the user presses a key on the keyboard, the key code is placed in an input stream. </span><span style="background-color:transparent">Your program then extracts the value from the stream so it can be used.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>ostream class:</b> Is the primary class used when dealing with <b>output streams.</b> With output streams, </span><span style="background-color:transparent">the insertion operator (<b>&lt;&lt;</b>) is used to <b>put values in </b>the <b>stream.</b> This also makes sense: you insert </span><span style="background-color:transparent">your values into the stream, and the data consumer (eg. monitor) uses them.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>iostream class</b> can handle <b>both input and output,</b> allowing<b> bidirectional I/O.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>std::cin &gt;&gt; ch : </b></span><span style="background-color:transparent"><b>Swallows </b>all the <b>white space</b>(blank, tabs and newlines) will read the user input</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div style="line-height:22px"><div>    <span style="color:#569cd6">int</span> <span style="color:#4ec9b0">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">char</span> <span style="color:#4ec9b0">ch</span>;</div><div>        while (<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cin</span> &gt;&gt; <span style="color:#4ec9b0">ch</span>)<span style="color:#6a9955"> // cin takes and store "My name is Sri" until &lt;enter&gt; or newline and then ch reads </span></div><div><span style="color:#6a9955"> </span><span style="color:rgb(78,201,176)">std</span>::<span style="color:rgb(78,201,176)">cout</span> &lt;&lt; <span style="color:rgb(78,201,176)">ch</span>;<span style="color:rgb(106,153,85)">     // 1 char </span><span style="color:rgb(106,153,85)">and print 1 char until end of </span><span style="color:rgb(106,153,85)">buffer. </span></div><div>       <span style="color:rgb(106,153,85)">                        // </span><span style="color:rgb(106,153,85)">Again wait for the user input inside while - Infinite LOOP.</span></div><div>   } </div><div>   </div><br /><div><span style="color:#6a9955">    // Input/ Output:</span></div><div><div style="line-height:22px"><div><span style="color:#6a9955">    &lt;CURSOR&gt;My name is sridhar&lt;ENTER&gt;</span></div><div><span style="color:#6a9955">    Mynameissridhar&lt;CURSOR&gt;HELLO KAVITHA&lt;ENTER&gt;</span></div><div><span style="color:#6a9955">    HELLOKAVITHA&lt;CURSOR&gt;muthu&lt;ENTER&gt;</span></div><div><span style="color:#6a9955">    muthu&lt;CURSOR&gt;Vijaya&lt;ENTER&gt;</span></div><div><span style="color:#6a9955">    Vijaya&lt;CURSOR&gt;</span></div></div></div></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>std::cin.get(ch): Include all white space except 'newline'.</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">int</span> <span style="color:#4ec9b0">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">char</span> <span style="color:#4ec9b0">ch</span>;</div><div>        while (<span style="color:#4ec9b0">std</span>::cin.<span style="color:#4ec9b0">get</span>(<span style="color:#4ec9b0">ch</span>))<span style="color:#6a9955"> // All white spaces matters !!</span></div><div>            <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">ch</span>;<span style="color:#6a9955">     // </span><span style="color:rgb(106,153,85)">Again wait for the user input inside while - infinite loop.</span></div><div>    }</div><br /><div><span style="color:#6a9955">    </span><span style="color:rgb(106,153,85)">// Input/ Output:</span></div><div><div style="line-height:22px"><div><span style="color:#6a9955">    &lt;CURSOR&gt;my name is sridhar&lt;ENTER&gt;</span></div><div><span style="color:#6a9955">    my name is sridhar</span></div><div><span style="color:#6a9955">    &lt;CURSOR&gt;HELLO KAVITHA&lt;ENTER&gt;</span></div><div><span style="color:#6a9955">    HELLO KAVITHA</span></div><div><span style="color:#6a9955">    &lt;CURSOR&gt;muthu&lt;ENTER&gt;</span></div><div><span style="color:#6a9955">    muthu</span></div><div><span style="color:#6a9955">    &lt;CURSOR&gt;Vijaya&lt;ENTER&gt;</span></div><div><span style="color:#6a9955">    Vijaya</span></div><div><span style="color:#6a9955">    &lt;CURSOR&gt;</span></div></div></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>std::cin.get(buff, buffLength): </b>buffer length <b>instead </b>of loop</span></div><div><div style="background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div style="line-height:22px"><div style="color:rgb(212,212,212)">    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>()</div><div style="color:rgb(212,212,212)">    {</div><div style="color:rgb(212,212,212)">        <span style="color:#569cd6">char</span> <span style="color:#9cdcfe">strBuf</span>[<span style="color:#b5cea8">7</span>];</div><div style="color:rgb(212,212,212)"><span style="color:#6a9955">        // Read up to 6 characters(-1 char reserver for end of string)</span></div><div style="color:rgb(212,212,212)">        <span style="color:#4ec9b0">std</span>::<span style="color:#9cdcfe">cin</span>.<span style="color:#dcdcaa">get</span>(strBuf, <span style="color:#b5cea8">7</span>);<span style="color:#6a9955">     // 1\04 6789</span></div><div style="color:rgb(212,212,212)">        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; strBuf &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // 1\04 6</span></div><font color="#d4d4d4"><br /></font><div style="color:rgb(212,212,212)"><span style="color:#6a9955">        // Read up to 6 more characters</span></div><div><font color="#d4d4d4">        </font><span style="color:rgb(78,201,176)">std</span><font color="#d4d4d4">::</font><span style="color:rgb(156,220,254)">cin</span><font color="#d4d4d4">.</font><span style="color:rgb(220,220,170)">get</span><font color="#d4d4d4">(strBuf, </font><font color="#b5cea8">7</font><font color="#d4d4d4">);</font><span style="color:rgb(106,153,85)">     // NO user input taken. Directly reads left over from the buffer</span></div><div style="color:rgb(212,212,212)">        <span style="color:#4ec9b0">std</span>::cout &lt;&lt; strBuf &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // </span><span style="color:rgb(106,153,85)">789</span></div><div style="color:rgb(212,212,212)">    }</div></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>std::cin.getline(buff, buffLength): </b>works <b>exactly like get() but reads the newline as well.</b></span></div><div><span style="font-size:13.3333px">NOTE:  1.  <b>cin.getline</b> from <b>inputstream</b>. There is ANOTHER </span></div><div><span style="font-size:13.3333px"><b><span>    </span><span>    </span><span>    2. </span>std::getline</b> which is from <b>&lt;string&gt;</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;iostream&gt;</span><span style="color:#569cd6"> </span><span style="color:#6a9955">// std::cin.getline(buff, buffLength)</span></div><div>    <span style="color:#569cd6">int</span> <span style="color:#4ec9b0">main</span>()</div><div>    {</div><div>        <span style="color:#569cd6">char</span> <span style="color:#4ec9b0">strBuf</span>[<span style="color:#b5cea8">11</span>];</div><div><span style="color:#6a9955">        // Read up to 10 characters</span></div><div>        <span style="color:#4ec9b0">std</span>::cin.<span style="color:#4ec9b0">getline</span>(<span style="color:#4ec9b0">strBuf</span>, <span style="color:#b5cea8">11</span>);<span style="color:#6a9955"> // sri kri\0</span></div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">strBuf</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">  // sri kri</span></div><div>    </div><div><span style="color:#6a9955">        // Read up to 10 more characters</span></div><div>        <span style="color:#4ec9b0">std</span>::cin.<span style="color:#4ec9b0">getline</span>(<span style="color:#4ec9b0">strBuf</span>, <span style="color:#b5cea8">11</span>);<span style="color:#6a9955"> // jay bose\0</span></div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">strBuf</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">  // jay bose</span></div><div>    }</div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;string&gt;</span><span style="color:#569cd6"> </span><span style="color:#6a9955">// std::getline(cin, string)</span></div><div>    <span style="color:#569cd6">int</span> <span style="color:#4ec9b0">main</span>()</div><div>    {</div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#4ec9b0">strBuf</span>;</div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">getline</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cin</span>, <span style="color:#4ec9b0">strBuf</span>);<span style="color:#6a9955"> // sri kri\0</span></div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">strBuf</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">    // sri kri</span></div><div>    }</div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>istream functions - (useful functions):</b></span></div><div><span style="font-size:13.3333px"><span style="white-space:pre"> </span>- <b>ignore() </b>discards the <b>'first character' </b>in the stream.</span></div><div><span style="font-size:13.3333px"><span style="white-space:pre"> </span>- <b>ignore(int nCount) </b>discards the <b>first nCount characters.</b></span></div><div><span style="font-size:13.3333px"><span style="white-space:pre"> </span>- <b>peek()</b> allows you to <b>read a character f</b>rom the stream <b>'without' removing it from the stream.</b></span></div><div><span style="font-size:13.3333px"><span style="white-space:pre"> </span>- <b>unget()</b> returns the <b>'last character' read back into the stream</b> so it can be read again by the next call.</span></div><div><span style="font-size:13.3333px"><span style="white-space:pre"> </span>- <b>putback(char ch)</b> allows you to <b>'put a character of your choice' back into the stream</b> to be read by the next call.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div><span style="background-color:transparent"><b>Insertion operator(&lt;&lt;):</b> ex: <b>cout &lt;&lt; x;</b></span></div><div><span style="font-size:13.3333px">Insertion operator (&lt;&lt;) is used to put information into an <b>output stream. </b></span><span style="background-color:transparent"><b>C++ has predefined insertion operations</b> for <b>all of the built-in data types,</b> and <b>you can overload </b></span><span style="background-color:transparent"><b>the insertion operator for your own classes.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Formatting Output and Input on std::ios:</b></span></div><div><span style="font-size:13.3333px"><b><span>    </span>2 ways</b> to change the formatting: <b>flags </b>and<b> manipulators.</b></span></div><div><span style="font-size:13.3333px">    <span>    </span>- You can think of <b>flags as boolean variables</b> that can be <b>turned on and off. </b></span></div><div><span style="font-size:13.3333px">    <span>    </span>-<b> Manipulators are objects</b> placed in a stream that affect the way things are input and output.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">To switch a<b> flag on, </b>use the <b>setf()</b> function, with the appropriate flag as a parameter. </span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#9cdcfe">cout</span>.<span style="color:#dcdcaa">setf</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ios</span>::showpos);<span style="color:#6a9955">   // turn on positive sign by std::ios::showpos flag</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:cout &lt;&lt; <span style="color:#b5cea8">27</span>;<span style="color:#6a9955"> // +27</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#9cdcfe">cout</span>.<span style="color:#dcdcaa">unsetf</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ios</span>::showpos);<span style="color:#6a9955"> // turn off the std::ios::showpos flag</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:cout &lt;&lt; <span style="color:#b5cea8">28</span>;<span style="color:#6a9955"> // 28</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#9cdcfe">cout</span>.<span style="color:#dcdcaa">setf</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ios</span>::hex);<span style="color:#6a9955"> // try to turn on hex output</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:cout &lt;&lt; <span style="color:#b5cea8">27</span>;<span style="color:#6a9955"> // 27 - NO change (hex is turned on but still dec is still active - mutually </span><span style="color:rgb(106,153,85)">exclusive)</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#9cdcfe">cout</span>.<span style="color:#dcdcaa">unsetf</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ios</span>::dec);<span style="color:#6a9955"> // turn off decimal output</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#9cdcfe">cout</span>.<span style="color:#dcdcaa">setf</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ios</span>::hex);<span style="color:#6a9955">   // turn on hexadecimal output</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:cout &lt;&lt; <span style="color:#b5cea8">27</span>;<span style="color:#6a9955"> // 1b</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">Another form of <b>setf() that takes two parameters:</b> the first parameter is the <b>flag </b>to set, </span><span style="background-color:transparent">and the second is the <b>formatting group</b> (std::ios::basefield/std::ios::floatfield) it belongs to <b>for doing automatic mutual exclusion operation.</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#6a9955">    // Turn on std::ios::hex as the only std::ios::basefield flag</span></div><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#9cdcfe">cout</span>.<span style="color:#dcdcaa">setf</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ios</span>::hex, <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ios</span>::basefield); <span style="color:rgb(106,153,85)">// NO need to turn off the dec explicitly</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:cout &lt;&lt; <span style="color:#b5cea8">27</span>;<span style="color:#6a9955"> // 1b</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Manipulators</b> is that they are <b>smart </b>enough to <b>turn on and off the appropriate flags. </b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#4ec9b0">std</span>::cout &lt;&lt; <span style="color:#4ec9b0">std</span>::hex &lt;&lt; <span style="color:#b5cea8">27</span>;<span style="color:#6a9955"> // 1b - changed to hex form</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:cout &lt;&lt; <span style="color:#b5cea8">28</span>;<span style="color:#6a9955">             // 1c - still in hex</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:cout &lt;&lt; <span style="color:#4ec9b0">std</span>::dec &lt;&lt; <span style="color:#b5cea8">29</span>;<span style="color:#6a9955"> // 29 - changed to decimal form</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">manipulators are much <b>easier </b>than setting and unsetting flags. However, <b>some options are only available </b></span><span style="background-color:transparent"><b>via flags or via manipulators, </b>so it’s important to know how to use both.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Flags </b>live in the <b>std::ios class,</b> <b>manipulators </b>live in the <b>std namespace.</b></span></div><div><span style="font-size:13.3333px">Flag              =&gt; std::ios::boolalpha  // If set, booleans print “true” or “false”. If not set, booleans print 0 or 1</span></div><div><span style="font-size:13.3333px">manipulator  =&gt; std::boolalpha</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    Flag         =&gt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ios</span>::boolalpha<span style="color:#6a9955">  // If set, booleans print “true” or “false”. If not set, 0 or 1</span></div><div>    manipulator  =&gt; <span style="color:#4ec9b0">std</span>::boolalpha</div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    std::<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#569cd6">true</span> &lt;&lt; <span style="color:#ce9178">" "</span> &lt;&lt; <span style="color:#569cd6">false</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> //  1 0</span></div><div>    </div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:cout.<span style="color:#4ec9b0">setf</span>(<span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ios</span>::<span style="color:#4ec9b0">boolalpha</span>);</div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#569cd6">true</span> &lt;&lt; <span style="color:#ce9178">" "</span> &lt;&lt; <span style="color:#569cd6">false</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // true false</span></div><div>    </div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">noboolalpha</span> &lt;&lt; <span style="color:#569cd6">true</span> &lt;&lt; <span style="color:#ce9178">" "</span> &lt;&lt; <span style="color:#569cd6">false</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // 1 0 </span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">boolalpha</span> &lt;&lt; <span style="color:#569cd6">true</span> &lt;&lt; <span style="color:#ce9178">" "</span> &lt;&lt; <span style="color:#569cd6">false</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">   // true false</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">fixed</span>;                      <span style="color:rgb(106,153,85)">// NOT scientific notation</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">setprecision</span>(<span style="color:#b5cea8">3</span>) &lt;&lt; <span style="color:#b5cea8">123.456</span>;<span style="color:#6a9955"> // 123.456 </span><span style="color:rgb(106,153,85)">- Here precision is AFTER decimal</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">setprecision</span>(<span style="color:#b5cea8">5</span>) &lt;&lt; <span style="color:#b5cea8">123.456</span>;<span style="color:#6a9955"> // 123.45600 </span></div><br /><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">scientific</span>;</div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">setprecision</span>(<span style="color:#b5cea8">3</span>) &lt;&lt; <span style="color:#b5cea8">123.456</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // 1.235e+002 (round off)</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">setprecision</span>(<span style="color:#b5cea8">5</span>) &lt;&lt; <span style="color:#b5cea8">123.456</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // 1.23456e+002</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">If <b>neither fixed nor scientific</b> are being used, <b>precision </b>determines <b>how many significant digits should be displayed. </b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">setprecision</span>(<span style="color:#b5cea8">3</span>) &lt;&lt; <span style="color:#b5cea8">123.456</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // 123 </span><span style="color:rgb(106,153,85)">- Here precision is BEFORE decimal</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">setprecision</span>(<span style="color:#b5cea8">5</span>) &lt;&lt; <span style="color:#b5cea8">123.456</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // 123.46</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:cout.<span style="color:#4ec9b0">fill</span>(<span style="color:#ce9178">'*'</span>);</div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; -<span style="color:#b5cea8">12345</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">                        // -12345 - print default(left) value with no field width</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">setw</span>(<span style="color:#b5cea8">10</span>) &lt;&lt; -<span style="color:#b5cea8">12345</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">          // ****-12345 - print default with field width</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">setw</span>(<span style="color:#b5cea8">10</span>) &lt;&lt; <span style="color:#4ec9b0">right</span> &lt;&lt; -<span style="color:#b5cea8">12345</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // ****-12345 - print right justified</span></div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">setw</span>(<span style="color:#b5cea8">10</span>) &lt;&lt; <span style="color:#4ec9b0">left</span> &lt;&lt; -<span style="color:#b5cea8">12345</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955">  // -12345**** - print left justified</span></div></div></div><div><span style="background-color:transparent">note that setw() only <b>affect </b>the <b>next output statement. </b>They are <b>not persistent</b> like some other flags/manipulators.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Stream classes for strings: </b></span><span style="background-color:transparent">So far, <b>all</b> of the <b>I/O </b>examples you have seen have been writing to <b>cout </b>or reading from <b>cin</b>. </span><span style="background-color:transparent">However, there is another set of classes called the <b>stream classes for strings</b> that allow you to use </span><span style="background-color:transparent;font-size:10pt">the familiar <b>insertions </b>(&lt;&lt;) and <b>extraction </b>(&gt;&gt;) operators to <b>work with strings. </b></span></div><div><span style="font-size:13.3333px">Like <b>istream </b>and <b>ostream</b>, the string streams provide a <b>buffer </b>to hold data.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">Unlike cin and cout, these streams are<b> not connected</b> to an <b>I/O channel </b>(such as a <b>keyboard</b>, <b>monitor</b>, etc…). </span></div><div><span style="font-size:13.3333px">One of the primary uses of string streams is to <b>buffer output for display at a later time,</b> or to <b>process input line-by-line.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>6 stream classes</b> for strings: <b>#include&lt;sstream&gt;</b></span></div><div><span style="font-size:13.3333px">    - <b>istringstream  </b>(derived from <b>istream</b>), </span></div><div><span style="font-size:13.3333px">    - <b>ostringstream </b>(derived from ostream), and </span></div><div><span style="font-size:13.3333px">    - <b>stringstream   </b>(derived from <b>iostream</b>) are used for <b>both </b>reading and writing normal characters width strings. </span></div><div><span style="font-size:13.3333px">    </span></div><div><span style="font-size:13.3333px">    - <b>wistringstream</b>, </span></div><div><span style="font-size:13.3333px">    - <b>wostringstream</b>, and </span></div><div><span style="font-size:13.3333px">    - <b>wstringstream </b>are used for <b>both </b>reading and writing wide-character strings. </span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>2 ways to put the data into a stringstream:</b></span></div><div><span style="font-size:13.3333px">    1) Use the <b>insertion (&lt;&lt;) operator:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">stringstream</span> <span style="color:#4ec9b0">os</span>;</div><div>        <span style="color:#9cdcfe">os</span> &lt;&lt; <span style="color:#ce9178">"en garde!"</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // insert "en garde!" into the stringstream</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">    2) Use the <b>str(string) function</b> to set the value of the buffer:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">stringstream</span> <span style="color:#4ec9b0">os</span>;</div><div>        <span style="color:#9cdcfe">os</span>.<span style="color:#4ec9b0">str</span>(<span style="color:#ce9178">"en garde!"</span>);<span style="color:#6a9955">       // set the stringstream buffer to "en garde!"</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>2 ways to get the data from a stringstream:</b></span></div><div><span style="font-size:13.3333px">    1) Use the <b>str() function</b> to retrieve the results of the buffer:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>            <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">stringstream</span> <span style="color:#4ec9b0">os</span>;</div><div>            <span style="color:#9cdcfe">os</span> &lt;&lt; <span style="color:#ce9178">"12345 67.89"</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // put the data to stringstream</span></div><div>            <span style="color:#9cdcfe">cout</span> &lt;&lt; os.<span style="color:#4ec9b0">str</span>();<span style="color:#6a9955">            // 12345 67.89 - get the data from stringstream</span></div></div></div><div><br /></div><div><span style="font-size:13.3333px">    2) Use the<b> extraction (&gt;&gt;) operator:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>            <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">stringstream</span> <span style="color:#4ec9b0">os</span>;</div><div>            <span style="color:#9cdcfe">os</span> &lt;&lt; <span style="color:#ce9178">"12345 67.89"</span>;<span style="color:#6a9955"> // insert a string of numbers into the stream</span></div><div>            </div><div>            <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#9cdcfe">strValue</span>;</div><div>            <span style="color:#9cdcfe">os</span> &gt;&gt; <span style="color:#4ec9b0">strValue</span>;<span style="color:#6a9955">      // swallow </span><span style="color:rgb(106,153,85)">12345 -  </span><span style="color:rgb(106,153,85)">extract still it finds whitespace</span></div><div>            </div><div>            <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#9cdcfe">strValue2</span>;</div><div>            <span style="color:#9cdcfe">os</span> &gt;&gt; <span style="color:#4ec9b0">strValue2</span>;    <span style="color:rgb(106,153,85)">// swallow </span><span style="color:rgb(106,153,85)">67.89  </span><span style="color:rgb(106,153,85)">-  </span><span style="color:rgb(106,153,85)">extract still it finds whitespace</span></div><div> </div><div><span style="color:#6a9955">            // print the numbers separated by a dash</span></div><div>            <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">strValue</span> &lt;&lt; <span style="color:#ce9178">" - "</span> &lt;&lt; <span style="color:#4ec9b0">strValue2</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // 12345 - 67.89</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Number =&gt; String conversion:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">stringstream</span> <span style="color:#4ec9b0">os</span>;</div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#9cdcfe">nValue</span>{ <span style="color:#b5cea8">12345</span> };</div><div>    <span style="color:#569cd6">double</span> <span style="color:#9cdcfe">dValue</span>{ <span style="color:#b5cea8">67.89</span> };</div><div>    <span style="color:#9cdcfe">os</span> &lt;&lt; <span style="color:#4ec9b0">nValue</span> &lt;&lt; <span style="color:#ce9178">' '</span> &lt;&lt; <span style="color:#4ec9b0">dValue</span>;<span style="color:#6a9955">    // put int and double number in stringstream</span></div><div>    </div><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#9cdcfe">strValue1</span>, <span style="color:#9cdcfe">strValue2</span>;<span style="color:#6a9955"> // NOTE: string type</span></div><div>    <span style="color:#9cdcfe">os</span> &gt;&gt; <span style="color:#4ec9b0">strValue1</span> &gt;&gt; <span style="color:#4ec9b0">strValue2</span>;<span style="color:#6a9955">     // extract as 'intString' and 'doubleString'</span></div><div>    </div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">strValue1</span> &lt;&lt; <span style="color:#ce9178">' '</span> &lt;&lt; <span style="color:#4ec9b0">strValue2</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // 12345 67.89 (2 different strings NOT numbers)</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>String =&gt; Number conversion:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">stringstream</span> <span style="color:#4ec9b0">os</span>;</div><div>    <span style="color:#9cdcfe">os</span> &lt;&lt; <span style="color:#ce9178">"12345 67.89"</span>;<span style="color:#6a9955"> // insert a string of numbers into the stream</span></div><br /><div>    <span style="color:#569cd6">int</span> <span style="color:#9cdcfe">nValue</span>;</div><div>    <span style="color:#569cd6">double</span> <span style="color:#9cdcfe">dValue</span>; </div><div>    <span style="color:#9cdcfe">os</span> &gt;&gt; <span style="color:#4ec9b0">nValue</span> &gt;&gt; <span style="color:#4ec9b0">dValue</span>;</div><div>    </div><div>    <span style="color:#9cdcfe">cout</span> &lt;&lt; <span style="color:#4ec9b0">nValue</span> &lt;&lt; <span style="color:#ce9178">' '</span> &lt;&lt; <span style="color:#4ec9b0">dValue</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;<span style="color:#6a9955"> // 12345 67.89 (2 different numbers NOT a string)</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Clearing a stringstream for reuse:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">stringstream</span> <span style="color:#4ec9b0">os</span>;</div><div>    <span style="color:#9cdcfe">os</span> &lt;&lt; <span style="color:#ce9178">"Hello "</span>;</div><div>    </div><div>    <span style="color:#9cdcfe">os</span>.<span style="color:#4ec9b0">str</span>(<span style="color:#ce9178">""</span>);<span style="color:#6a9955"> // erase the buffer (or) os.str(std::string{}); </span></div><div>    <span style="color:#9cdcfe">os</span>.<span style="color:#4ec9b0">clear</span>();<span style="color:#6a9955"> // reset error flags that may have been set and returns the stream back to the ok state.</span></div><div>    </div><div>    <span style="color:#9cdcfe">os</span> &lt;&lt; <span style="color:#ce9178">"World!"</span>;</div><div>    <span style="color:#9cdcfe">std</span><span style="color:#9cdcfe">:</span>:<span style="color:#4ec9b0">cout</span> &lt;&lt; os.<span style="color:#4ec9b0">str</span>();<span style="color:#6a9955"> // World!</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>File I/O </b>in C++ works very <b>similarly </b>to <b>normal I/O</b> (with a few minor added complexities). </span></div><div><span style="font-size:13.3333px">There are <b>3 </b>basic file I/O classes in C++: <b>#include&lt;fstream&gt;</b> header.</span></div><div><span style="font-size:13.3333px">        <b>- ifstream</b>  (derived from istream), </span></div><div><span style="font-size:13.3333px">        <b>- ofstream</b> (derived from ostream), and </span></div><div><span style="font-size:13.3333px">        <b>- fstream</b>   (derived from iostream).</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Unlike </b>the <b>cout, cin, cerr, and clog</b> streams, which are <b>already linked</b> to keyboard/monitor, </span><span style="background-color:transparent"><b>file streams </b>have to be <b>explicitly set up</b> (the file name) by the programmer. </span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>ofstream:</b> writing to a file.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;fstream&gt;</span></div><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;iostream&gt;</span></div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#4ec9b0">main</span>()</div><div>    {</div><div><span style="color:#6a9955">        // ofstream is used for writing files</span></div><div><span style="color:#6a9955">        // We'll make a file called Sample.dat</span></div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ofstream</span> <span style="color:#4ec9b0">outf</span>{ <span style="color:#ce9178">"Sample.dat"</span> };<span style="color:#6a9955"> // append mode =&gt; { "Sample.dat", std::ios::app }; </span></div><div>    </div><div><span style="color:#6a9955">        // If we couldn't open the output file stream for writing</span></div><div>        if (!<span style="color:#4ec9b0">outf</span>)</div><div>        {</div><div><span style="color:#6a9955">            // Print an error and exit</span></div><div>            <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cerr</span> &lt;&lt; <span style="color:#ce9178">"Uh oh, Sample.dat could not be opened for writing!"</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">endl</span>;</div><div>            return <span style="color:#b5cea8">1</span>;</div><div>        }</div><div>    </div><div><span style="color:#6a9955">        // We'll write two lines into this file</span></div><div>        <span style="color:#4ec9b0">outf</span> &lt;&lt; <span style="color:#ce9178">"This is line 1"</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;</div><div>        <span style="color:#4ec9b0">outf</span> &lt;&lt; <span style="color:#ce9178">"This is line 2"</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;</div><div>    } <span style="color:rgb(106,153,85)">// When outf goes out of scope, the ofstream </span><span style="color:rgb(106,153,85)">destructor will close the file</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>ifstream:</b> reading from a file.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;fstream&gt;</span></div><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;iostream&gt;</span></div><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;string&gt;</span></div><div>    </div><div>    <span style="color:#569cd6">int</span> <span style="color:#4ec9b0">main</span>()</div><div>    {</div><div><span style="color:#6a9955">        // ifstream is used for reading files</span></div><div><span style="color:#6a9955">        // We'll read from a file called Sample.dat</span></div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">ifstream</span> <span style="color:#4ec9b0">inf</span>{ <span style="color:#ce9178">"Sample.dat"</span> };</div><div>    </div><div><span style="color:#6a9955">        // If we couldn't open the output file stream for reading</span></div><div>        if (!<span style="color:#4ec9b0">inf</span>)</div><div>        {</div><div><span style="color:#6a9955">            // Print an error and exit</span></div><div>            <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cerr</span> &lt;&lt; <span style="color:#ce9178">"Uh oh, Sample.dat could not be opened for reading!"</span> &lt;&lt; <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">endl</span>;</div><div>            return <span style="color:#b5cea8">1</span>;</div><div>        }</div><div>    </div><div><span style="color:#6a9955">        // While there's still stuff left to read</span></div><div>        while (<span style="color:#4ec9b0">inf</span>)</div><div>        {</div><div><span style="color:#6a9955">            // read stuff from the file into a string and print it</span></div><div>            <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#4ec9b0">strInput</span>;</div><div>            <span style="color:#4ec9b0">inf</span> &gt;&gt; <span style="color:#4ec9b0">strInput</span>;</div><div>            <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">strInput</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;</div><div>        }</div><div>    } <span style="color:rgb(106,153,85)">// When inf goes out of scope, the ifstream </span><span style="color:rgb(106,153,85)">destructor will close the file</span></div></div></div><div><b style="background-color:transparent">Output:</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    This</div><div>    is</div><div>    line</div><div>    <span style="color:#b5cea8">1</span></div><div>    This</div><div>    is</div><div>    line</div><div>    <span style="color:#b5cea8">2</span></div></div></div><div><span style="background-color:transparent">Hmmm, that wasn’t quite what we wanted. Remember that the<b> extraction operator(&gt;&gt;) breaks on whitespace. </b></span></div><div><span style="font-size:13.3333px">In order to read in entire lines, we’ll have to use the <b>getline()</b> function.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#6a9955">    // While there's still stuff left to read</span></div><div>    while (<span style="color:#4ec9b0">inf</span>)</div><div>    {</div><div><span style="color:#6a9955">        // read stuff from the file into a string and print it</span></div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">string</span> <span style="color:#4ec9b0">strInput</span>;</div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">getline</span>(<span style="color:#4ec9b0">inf</span>, <span style="color:#4ec9b0">strInput</span>);</div><div>        <span style="color:#4ec9b0">std</span>::<span style="color:#4ec9b0">cout</span> &lt;&lt; <span style="color:#4ec9b0">strInput</span> &lt;&lt; <span style="color:#ce9178">'</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">'</span>;</div><div>    }</div></div></div><div><b style="background-color:transparent">Output:</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    This is line <span style="color:#b5cea8">1</span></div><div>    This is line <span style="color:#b5cea8">2</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Buffered output: </b></span><span style="background-color:transparent;font-size:10pt">Output in C++ may be buffered. This means that <b>anything that is output to a file stream</b> may not be </span><span style="background-color:transparent;font-size:10pt">written to disk <b>immediately.</b> Instead, several <b>output operations may be batched and handled together.</b> </span><span style="background-color:transparent;font-size:10pt">This is done primarily for <b>performance reasons. </b>When a <b>buffer is written to disk, this is called flushing the buffer. </b></span><span style="background-color:transparent;font-size:10pt"><b>One way</b> to cause the <b>buffer to be flushed</b> is to <b>close the file </b>-- the contents of the buffer will be <b>flushed to disk,</b> </span><span style="background-color:transparent;font-size:10pt">and <b>then the file will be closed.</b></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Always flush</b> the buffer <b>manually </b>using the <b>ostream::flush() </b>function or sending <b>std::flush</b> to the output stream. </span></div><div><span style="font-size:13.3333px">Either of these methods can be useful to ensure the contents of the buffer are written to disk <b>immediately</b>, just in case the program <b>crashes.</b></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">One interesting note is that <b>std::endl; insert a newline </b>and also <b>flushes </b>the output stream. Consequently, <b>overuse </b></span><span style="background-color:transparent"><b>of std::endl</b> (causing <b>unnecessary buffer flushes</b>) can have performance impacts when doing buffered I/O </span><span style="background-color:transparent">where flushes are expensive (such as writing to a file). For this reason, performance conscious programmers </span><span style="background-color:transparent">will often use <b>‘\n’ instead of std::endl</b> to insert a newline into the output stream, to avoid unnecessary flushing of the buffer.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Random file access with seekg() and seekp(): </b></span><span style="background-color:transparent">So far, all of the file access we’ve done has been sequential -- that is, we’ve read or written the file contents in order. </span><span style="background-color:transparent">However, it is also possible to do random file access -- that is, skip around to various points in the file to read its contents. </span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">Random file access is done by <b>manipulating </b>the <b>file pointer </b>using either<b> </b></span><span style="background-color:transparent"><b>seekg() f</b>unction (for <b>input</b>) and<b> seekp() </b>function (for <b>output</b>). </span></div><div><span style="font-size:13.3333px">In case you are wondering, the <b>g</b> stands for <b>“get” </b>and the <b>p</b> for <b>“put”.</b> </span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">The <b>seekg() </b>and <b>seekp() </b>functions take <b>two parameters.</b> The first parameter is an offset that determines </span><span style="background-color:transparent"><b>how many bytes to move the file pointer. </b>The second parameter is an <b>ios flag</b> that specifies what the </span><span style="background-color:transparent">offset parameter should be offset from.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(156,220,254)">inf</span>.<span style="color:#4ec9b0">seekg</span>(<span style="color:#b5cea8">0</span>, <span style="color:#4ec9b0">ios</span>::<span style="color:#4ec9b0">beg</span>);<span style="color:#6a9955">   // move to beginning of file</span></div><div>    <span style="color:#9cdcfe">inf</span>.<span style="color:#4ec9b0">seekg</span>(<span style="color:#b5cea8">0</span>, <span style="color:#4ec9b0">ios</span>::<span style="color:#4ec9b0">end</span>);<span style="color:#6a9955">   // move to end of file</span></div><br /><div>    <span style="color:#9cdcfe">inf</span>.<span style="color:#4ec9b0">seekg</span>(<span style="color:#b5cea8">14</span>, <span style="color:#4ec9b0">ios</span>::<span style="color:#4ec9b0">cur</span>);<span style="color:#6a9955">  // move forward 14 bytes/character</span></div><div>    <span style="color:#9cdcfe">inf</span>.<span style="color:#4ec9b0">seekg</span>(-<span style="color:#b5cea8">18</span>, <span style="color:#4ec9b0">ios</span>::<span style="color:#4ec9b0">cur</span>);<span style="color:#6a9955"> // move backwards 18 bytes</span></div><div>    <span style="color:#9cdcfe">inf</span>.<span style="color:#4ec9b0">seekg</span>(<span style="color:#b5cea8">22</span>, <span style="color:#4ec9b0">ios</span>::<span style="color:#4ec9b0">beg</span>);<span style="color:#6a9955">  // move to 22nd byte in file</span></div><div>    <span style="color:#9cdcfe">inf</span>.<span style="color:#4ec9b0">seekg</span>(<span style="color:#b5cea8">24</span>);<span style="color:#6a9955">            // move to 24th byte in file</span></div><div>    <span style="color:#9cdcfe">inf</span>.<span style="color:#4ec9b0">seekg</span>(-<span style="color:#b5cea8">28</span>, <span style="color:#4ec9b0">ios</span>::<span style="color:#4ec9b0">end</span>);<span style="color:#6a9955"> // move to the 28th byte before end of the file</span></div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Static and dynamic libraries:</b></span></div><div><span style="font-size:13.3333px"><b>Static libraries: </b></span><span style="background-color:transparent">A static library (also known as an <b>archive</b>) consists of routines that are <b>already compiled</b> and <b>linked directly into your program.</b> </span></div><div><span style="font-size:13.3333px">When you compile a program that uses a static library, all the functionality of the static library that your program uses </span><span style="background-color:transparent">becomes <b>part of your executable. </b></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>On Windows,</b> static libraries typically have a <b>.lib </b>extension, </span><span style="background-color:transparent">whereas on </span><b style="background-color:transparent">Linux,</b><span style="background-color:transparent"> static libraries typically have an </span><b style="background-color:transparent">.a</b><span style="background-color:transparent"> (archive) extension. </span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">On the <b>downside</b>, because a copy of the library becomes <b>part of every executable</b> that uses it, this </span><span style="background-color:transparent">can cause a <b>lot of wasted space. </b>Static libraries also can <b>not be upgraded easily </b>-- to update the library, </span><span style="background-color:transparent">the <b>entire executable needs to be replaced.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Dynamic library</b> (also called a <b>shared library</b>):  consists of routines that are <b>loaded </b>into your </span><span style="background-color:transparent">application at <b>run time. </b>When you compile a program that uses a dynamic library, the <b>library </b></span><span style="background-color:transparent"><b>does not become part of your executable</b> -- it remains as <b>a separate unit. </b></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>On Windows,</b> dynamic libraries typically have a <b>.dll </b>(dynamic link library) extension, </span><span style="background-color:transparent">whereas on </span><b style="background-color:transparent">Linux, </b><span style="background-color:transparent">dynamic libraries typically have a </span><b style="background-color:transparent">.so</b><span style="background-color:transparent"> (shared object) extension. </span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">One <b>advantage </b>of dynamic libraries is that <b>many programs can share one copy,</b> which saves space. </span><span style="background-color:transparent">Perhaps a bigger advantage is that the dynamic library can be <b>upgraded to a newer version </b></span><span style="background-color:transparent"><b>without replacing all of the executables</b> that use it.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px">Because dynamic libraries are not linked to your program, programs using dynamic libraries <b>must </b></span><span style="background-color:transparent"><b>explicitly load</b> and interface with the dynamic library. This mechanism can be confusing and </span><span style="background-color:transparent">makes interfacing with a dynamic library awkward. <b>To make dynamic libraries easier to use,</b> an <b>import library </b>can <b>be used.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>Import library</b> is a library that <b>automates the process of loading and using a dynamic library. </b></span></div><div><span style="font-size:13.3333px"><b>On Windows,</b> this is typically done via a small <b>static library (.lib) </b>of the <b>same name as </b>the<b> dynamic library (.dll). </b></span><span style="background-color:transparent">The <b>static library is linked </b>into the program at <b>compile-time,</b> and then the functionality of the dynamic library </span><span style="background-color:transparent">can effectively be used as if it were a static library. <b>On Linux, </b>the shared object (<b>.so</b>) file doubles </span><span style="background-color:transparent">as<b> both a dynamic library and an import library.</b></span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"><b>C++11:</b> <b>6 are member functions that the compiler can generate</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#4ec9b0">Default</span> <span style="color:#4ec9b0">constructor</span>         <span style="color:#4ec9b0">X</span>()</div><div>    <span style="color:#4ec9b0">Destructor</span>                  ~<span style="color:#4ec9b0">X</span>()</div><div>    <span style="color:#4ec9b0">Copy</span> <span style="color:#4ec9b0">constructor</span>            <span style="color:#4ec9b0">X</span>(<span style="color:#569cd6">const</span> <span style="color:#4ec9b0">X</span>&amp;)</div><div>    <span style="color:#4ec9b0">Move</span> <span style="color:#4ec9b0">Constructor</span>            <span style="color:#4ec9b0">X</span>(<span style="color:#4ec9b0">X</span>&amp;&amp;)</div><div>    <span style="color:#4ec9b0">Copy</span> <span style="color:#4ec9b0">assignment</span> operator    <span style="color:#4ec9b0">X</span>&amp; operator=(<span style="color:#569cd6">const</span> <span style="color:#4ec9b0">X</span>&amp;)</div><div>    <span style="color:#4ec9b0">Move</span> <span style="color:#4ec9b0">assignment</span> operator    <span style="color:#4ec9b0">X</span>&amp; operator=(<span style="color:#4ec9b0">X</span>&amp;&amp;)</div></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="font-size:13.3333px"> <b>ISO</b> (International Organization for Standardization).</span></div><div><span style="font-size:13.3333px"> <b>Every 3 years</b> ISO introduces a new C++ version.</span></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div><div><span style="background-color:transparent">elides the return value</span></div></div><div><span style="font-size:13.3333px">///////////////////////////////////////////////////////////////////////////////////////////////////</span></div></div><div><br /></div></div></td></tr></tbody></table><div class="sites-layout-tile sites-tile-name-footer sites-layout-empty-tile"><div dir="ltr"><br /></div></div></div>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/site/sridharkritha/handyconcepts/summary/quick-notes/latest/learncpp-part2&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../../../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../../../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../../../../../../ssl.gstatic.com/sites/p/a71eef/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXtASf_M2E6cjJ9Hgufts3RfM7MwuhM--x9xhZTQT2CPH8JnFPH0jgqKY9NU2tYyCkPcBomvOQOJsh4RFJk4Rzbn9YR0z3GFzIg3Z9QmwlFbPq4dzV9oFCjkDARS2-H8lrYMHkGM/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('../../../../_/tz.html', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, '../../../../../../../gg.google.com/csi.gif');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>

<!-- Mirrored from sites.google.com/site/sridharkritha/handyconcepts/summary/quick-notes/latest/learncpp-part2 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Jul 2021 10:31:35 GMT -->
</html>
