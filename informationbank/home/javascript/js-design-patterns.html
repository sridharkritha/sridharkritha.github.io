<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="../../../../../schema.org/WebPage.html">

<!-- Mirrored from sites.google.com/site/sridharkritha/home/javascript/js-design-patterns by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Jul 2021 09:43:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="../../../../../www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="../../../../../ssl.gstatic.com/sites/p/a71eef/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/site/sridharkritha/home","deleted":false,"title":"home","dir":"ltr"},{"path":"/site/sridharkritha/home/javascript","deleted":false,"title":"Javascript","dir":"ltr"},{"path":"/site/sridharkritha/home/javascript/js-design-patterns","deleted":false,"title":"JS Design Patterns","dir":"ltr"}];
  var JOT_clearDotPath = '../../../../../ssl.gstatic.com/sites/p/a71eef/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":false,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://155881504-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"sridharkritha","experiments":{"enableSubpagesGadgetInTakeout":true,"DisableSiteEditingFeature__disable_site_editing":true,"disableDomainEditing":false},"jot2atari":{"eligibility":"INELIGIBLE"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":true,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/site/sridharkritha/home/javascript/js-design-patterns\u0026service\u003djotspot","analyticsAccountId":"","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/a71eef/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/a71eef/system/js/codemirror.js","../../../../../ssl.gstatic.com/sites/p/a71eef/system/app/css/codemirror_css.css","../../../../../ssl.gstatic.com/sites/p/a71eef/system/js/trog_edit__en.js","../../../../../ssl.gstatic.com/sites/p/a71eef/system/app/css/trogedit.css","../../_/rsrc/1624520311000/system/app/css/editor.css","../../../../../ssl.gstatic.com/sites/p/a71eef/system/app/css/codeeditor.css","/site/sridharkritha/_/rsrc/1624520311000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"defaultdomain","baseUri":"/site/sridharkritha","name":"sridharkritha","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/home/javascript","parentWuid":"wuid:gx:544f6835820c264","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"JS Design Patterns","locale":"en","wuid":"wuid:gx:5c904c32f91e7c52","revision":93,"path":"/home/javascript/js-design-patterns","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"js-design-patterns","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/site/sridharkritha/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="JS Design Patterns - sridharkritha" />
<meta itemprop="name" content="JS Design Patterns - sridharkritha" />
<meta property="og:title" content="JS Design Patterns - sridharkritha" />
<meta name="description" content="Information Bank - Computer Science" />
<meta itemprop="description" content="Information Bank - Computer Science" />
<meta id="meta-tag-description" property="og:description" content="Information Bank - Computer Science" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="../../../../../ssl.gstatic.com/sites/p/a71eef/system/app/themes/ember/standard-css-ember-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../../_/rsrc/1624520311000/system/app/css/overlaydd2a.css?cb=ember150goog-ws-noside" />
<link rel="stylesheet" type="text/css" href="../../_/rsrc/1624520311000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/site/sridharkritha/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>JS Design Patterns - sridharkritha</title>
<meta itemprop="image" content="https://sites.google.com/site/sridharkritha/_/rsrc/1598511431629/home/javascript/js-design-patterns/d.jpg" />
<meta property="og:image" content="https://sites.google.com/site/sridharkritha/_/rsrc/1598511431629/home/javascript/js-design-patterns/d.jpg" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><h2></h2></div></td><td class="sites-layout-searchbox  "></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left" style="display: none; width: 150px">
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../../home.html" dir="ltr">home</A>‎ &gt; ‎<A href="../javascript.html" dir="ltr">Javascript</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">JS Design Patterns</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-left-sidebar-hf sites-layout-vbox"><div class="sites-layout-tile sites-tile-name-header"><div dir="ltr">Ref:<div><a href="../../../../../github.com/YauhenKavalchuk/design-patterns/blob/master/behavioral/state/state.html" rel="nofollow">https://github.com/YauhenKavalchuk/design-patterns/blob/master/behavioral/state/state.js</a></div><div><a href="https://www.youtube.com/watch?v=W_11rR4UFNw">https://www.youtube.com/watch?v=W_11rR4UFNw</a></div><div><a href="https://dev.to/francescoxx/visitor-pattern-5fbi" rel="nofollow">https://dev.to/francescoxx/visitor-pattern-5fbi</a></div><div><a href="https://github.com/sridharkritha/javascript-design-patterns-for-humans" rel="nofollow">https://github.com/sridharkritha/javascript-design-patterns-for-humans</a></div></div></div><table cellspacing="0" class="sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1 sites-canvas-sidebar sites-layout-empty-tile"><div dir="ltr"><br /></div></td><td class="sites-layout-tile sites-tile-name-content-2"><div dir="ltr"><div><b>Design Principle - Learning from Unix:</b></div><div><br /></div><div><div><span style="font-size:13.3333px"><b>Rule of Modularity:</b>      Write simple parts connected by clean interfaces.</span></div><div><span style="font-size:13.3333px"><b>Rule of Clarity:</b>            Clarity is better than cleverness.</span></div><div><span style="font-size:13.3333px"><b>Rule of Transparency:</b> Design for visibility to make inspection and debugging easier.</span></div><div><span style="font-size:13.3333px"><b>Rule of Repair:</b>            When you must fail, fail noisily and as soon as possible.</span></div><div><span style="font-size:13.3333px"><b>Rule of Optimization:</b> Prototype before polishing. Get it working before you optimize it.</span></div><div><span style="font-size:13.3333px"><b>Rule of Extensibility:</b>  Design for the future, because it will be here sooner than you think.</span></div><div><span style="font-size:13.3333px"><b>Rule of Simplicity:</b>      Design for simplicity; add complexity only where you must.</span></div></div><div><br /></div><div><b style="background-color:transparent;font-size:10pt">“Hello World” in MVC Pattern :</b></div><div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div style="line-height:22px"><div>    <span style="color:rgb(86,156,214)">var</span> <span style="color:rgb(156,220,254)">M</span> = {}, <span style="color:rgb(156,220,254)">V</span> = {}, <span style="color:rgb(156,220,254)">C</span> = {};</div><div>    <span style="color:rgb(156,220,254)">M</span>.<span style="color:rgb(156,220,254)">data</span> = <span style="color:rgb(206,145,120)">"hello world"</span>;</div><div>    <span style="color:rgb(156,220,254)">V</span>.<span style="color:rgb(220,220,170)">render</span> = <span style="color:rgb(86,156,214)">function</span> (<span style="color:rgb(156,220,254)">M</span>) { <span style="color:rgb(220,220,170)">alert</span>(<span style="color:rgb(156,220,254)">M</span>.<span style="color:rgb(156,220,254)">data</span>); };</div><div>    <span style="color:rgb(156,220,254)">C</span>.<span style="color:rgb(220,220,170)">handleOnload</span> = <span style="color:rgb(86,156,214)">function</span> () { <span style="color:rgb(156,220,254)">V</span>.<span style="color:rgb(220,220,170)">render</span>(<span style="color:rgb(156,220,254)">M</span>); };</div><div>    <span style="color:rgb(156,220,254)">window</span>.<span style="color:rgb(220,220,170)">onload</span> = <span style="color:rgb(156,220,254)">C</span>.<span style="color:rgb(156,220,254)">handleOnLoad</span>;</div></div></div></div><div><div>Model (M)      : Is an abstraction of a data source.</div><div>View (V)         : Knows how to render data from the Model.</div></div><div><span style="background-color:transparent">Controller (C) : listens on some kind of interaction/event stream. In this case it's the page's loading event.</span></div><div><br /></div><div>The Controller tells to View to do something with something from the Model. <span style="background-color:transparent">In this example</span></div><div>    * the View knows nothing about the Model apart from it implements some interface</div><div>    * the Model knows nothing of the View and the Controller</div><div>    * the Controller knows about both the Model and the View and tells the View to do something with the data from the Model.</div></div><div><br /></div><div><div><span style="font-size:13.3333px"><b>Global's are bad:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">0</span>;</div><div>    <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">init</span>() { <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">10</span>; }</div><div>    <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">incr</span>() { ++<span style="color:#9cdcfe">i</span>; }</div><div>    <span style="color:#6a9955">// Problem: Access is NOT contained, anything can overwrite what you did.</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Object Literal:</b> Everything is contained, still anyone can be accessed by object name.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#9cdcfe">demo</span> = {</div><div>        <span style="color:#9cdcfe">i</span><span style="color:#9cdcfe"> :</span> <span style="color:#b5cea8">0</span>,</div><div>        <span style="color:#dcdcaa">init</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">demo</span>.<span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">10</span>; },</div><div>        <span style="color:#dcdcaa">incr</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { ++(<span style="color:#9cdcfe">demo</span>.<span style="color:#9cdcfe">i</span>); }</div><div>    };</div><div>    <span style="color:#6a9955">// Problem:Repetition of module name leads to huge code.</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Anonymous Module: </b>NOTHING is global.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    (<span style="color:#569cd6">function</span>() {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">0</span>;</div><div>        <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">init</span>() { <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">10</span>; }</div><div>        <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">incr</span>() { ++<span style="color:#9cdcfe">i</span>; }</div><div>    })();</div><div>    <span style="color:#6a9955">// Problem: NO access from the outside at all.</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Modular Pattern: </b>Specify what is Global and what is Private.</span></div><div><div><span style="font-size:13.3333px">The Module Pattern must satisfy the following:</span></div><div><div><span style="font-size:13.3333px">The module pattern is a combination of several patterns, namely:</span></div><div><span style="font-size:13.3333px"><span>    </span>1. Namespaces</span></div><div><span style="font-size:13.3333px"><span>    </span>2. IIFE - provides private scope and helps to returns an object </span></div><div><span style="font-size:13.3333px"><span>    </span>3. Private, privileged and public members</span></div><div><span style="font-size:13.3333px"><span>    </span>4. Private members lives in the closure.</span></div><div><span style="font-size:13.3333px"><span>    </span>5. Public members are exposed in the return object.</span></div></div></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div style="line-height:22px"><div>    <span style="color:#4ec9b0">module</span> = <span style="color:#569cd6">function</span>() {</div><div>        <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">init</span>() { <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">10</span>; }; <span style="color:#6a9955">// Private - function syntax</span></div><div>        <span style="color:#c586c0">return</span> {</div><div>            <span style="color:#6a9955">// Public - literal syntax </span></div><div>            <span style="color:#9cdcfe">i</span><span style="color:#9cdcfe"> :</span> <span style="color:#b5cea8">50</span>, <span style="color:#6a9955">// i declared here using literal notation. 'i' updates dynamically</span></div><div>            <span style="color:#dcdcaa">getValue</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#c586c0">return</span> <span style="color:#4ec9b0">module</span>.<span style="color:#9cdcfe">i</span>;},</div><div>            <span style="color:#dcdcaa">incr</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { ++(<span style="color:#4ec9b0">module</span>.<span style="color:#9cdcfe">i</span>); }</div><div>        };</div><div>    }();</div><br /><div>    <span style="color:#4ec9b0">module</span>.<span style="color:#dcdcaa">incr</span>();</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4ec9b0">module</span>.<span style="color:#dcdcaa">getValue</span>()); <span style="color:#6a9955">// 51</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4ec9b0">module</span>.<span style="color:#9cdcfe">i</span>);          <span style="color:#6a9955">// 51</span></div><br /><div>    <span style="color:#6a9955">// Problem: Repetition of module name, different syntax for inner function.</span></div></div></div></div><div><span style="font-size:13.3333px"><b><span>Drawback: </span></b></span><span style="background-color:transparent;font-size:13.3333px"> We are able to completely replace the implementation of the <span>getValue() and incr() methods </span>that is exported by the anonymous object returned from the self-executing function. </span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><span><b>Note: </b></span>Modular Patterns means 2 things should comes to your mind 1. <b>IIFE  </b>2. <b>return</b></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Revealing Module Pattern: </b>Consistent syntax and configure the public items into one group.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div style="line-height:22px"><div>    <span style="color:#4ec9b0">module</span> = <span style="color:#569cd6">function</span>() {</div><div>        <span style="color:#6a9955">// Everything private</span></div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">0</span>;</div><div>        <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">init</span>() { <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">10</span>; }</div><div>        <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">incr</span>() { ++<span style="color:#9cdcfe">i</span>; }</div><div>        <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">getValue</span>() { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">i</span>;}</div><div>        <span style="color:#c586c0">return</span> {</div><div>                    <span style="color:#6a9955">// Everything public</span></div><div>                    <span style="color:#9cdcfe">i</span><span style="color:#9cdcfe">:</span><span style="color:#9cdcfe">i</span>, <span style="color:#6a9955">// i: 0 (will not update)</span></div><div>                    <span style="color:#dcdcaa">incr</span><span style="color:#9cdcfe">:</span><span style="color:#dcdcaa">incr</span>,</div><div>                    <span style="color:#dcdcaa">getValue</span><span style="color:#9cdcfe">:</span> <span style="color:#dcdcaa">getValue</span></div><div>                };</div><div>    }();</div><div>    <span style="color:#6a9955">// Outside</span></div><div>    <span style="color:#4ec9b0">module</span>.<span style="color:#dcdcaa">incr</span>();</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4ec9b0">module</span>.<span style="color:#dcdcaa">getValue</span>()); <span style="color:#6a9955">// 1</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4ec9b0">module</span>.<span style="color:#9cdcfe">i</span>);          <span style="color:#6a9955">// 0</span></div></div></div></div><div><span style="background-color:transparent"><span><b>Drawback: </b></span></span><span style="background-color:transparent;font-size:10pt">getValue() and incr() methods</span><span style="background-color:transparent;font-size:10pt"> </span><span style="background-color:transparent"> exposed by the anonymous object can <b>still </b>be replaced, but at least the correct implementation is preserved at the private part. </span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><span><b>Constructor based Modular Pattern: </b>E</span></span><span style="background-color:transparent;font-size:13.3333px">xport a constructor function instead of an anonymous object.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">var</span> <span style="color:#4ec9b0">Parent</span> = (<span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#6a9955">// private funcs and vars here</span></div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">20</span>;</div><div>        <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">incr</span>() { ++<span style="color:#9cdcfe">i</span>; }</div><br /><div>        <span style="color:#6a9955">// Public API - Constructor. Public bcos it is going to be returned</span></div><div>        <span style="color:#569cd6">var</span> <span style="color:#4ec9b0">Parent</span> = <span style="color:#569cd6">function</span> () {</div><div>            <span style="color:#c586c0">if</span> (!(<span style="color:#569cd6">this</span> <span style="color:#569cd6">instanceof</span> <span style="color:#4ec9b0">Parent</span>)) { <span style="color:#6a9955">// to make sure than always called with 'new'</span></div><div>                <span style="color:#c586c0">return</span> <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Parent</span>();</div><div>            }</div><div>        };</div><br /><div>        <span style="color:#6a9955">// Public API - prototype</span></div><div>        <span style="color:#4ec9b0">Parent</span>.<span style="color:#9cdcfe">prototype</span> = {</div><div>            <span style="color:#4ec9b0">constructor</span><span style="color:#9cdcfe">:</span> <span style="color:#4ec9b0">Parent</span>,</div><div>            <span style="color:#dcdcaa">getValue</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">i</span>; },</div><div>            <span style="color:#dcdcaa">incr</span><span style="color:#9cdcfe">:</span> <span style="color:#dcdcaa">incr</span></div><div>        };</div><br /><div>        <span style="color:#c586c0">return</span> <span style="color:#4ec9b0">Parent</span>;</div><div>    }());</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">p</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Parent</span>();</div><div>    <span style="color:#9cdcfe">p</span>.<span style="color:#dcdcaa">incr</span>();</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">p</span>.<span style="color:#dcdcaa">getValue</span>()); <span style="color:#6a9955">// 21</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><span>How to define a child object that also uses the <span><b>module pattern</b></span> that <b>inherits </b>from parent in such a way that I can selectively <b>override</b>, for example, func2?</span></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#9cdcfe">Child</span> = (<span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#4ec9b0">Child</span> = <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">coords</span>) {</div><div>            <span style="color:#9cdcfe">Parent</span>.<span style="color:#dcdcaa">call</span>(<span style="color:#569cd6">this</span>, <span style="color:#569cd6">arguments</span>);</div><div>        }</div><br /><div>        <span style="color:#4ec9b0">Child</span>.<span style="color:#9cdcfe">prototype</span> = <span style="color:#4ec9b0">Object</span>.<span style="color:#dcdcaa">create</span>(<span style="color:#4ec9b0">Parent</span>.<span style="color:#9cdcfe">prototype</span>);</div><div>        <span style="color:#4ec9b0">Child</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#9cdcfe">constructor</span> = <span style="color:#4ec9b0">Child</span>;</div><div>        <span style="color:#4ec9b0">Child</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">func2</span> = <span style="color:#569cd6">function</span> () { ... };</div><div>        <span style="color:#c586c0">return</span> <span style="color:#4ec9b0">Child</span>;</div><div>    }());</div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="background-color:transparent">Namespace using Object Literal and Modular Pattern:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:rgb(106,153,85)">    // <span>Object Literal</span> </span>    </div><div><span style="color:#569cd6">    var</span> <span style="color:#9cdcfe">MyNameSpace</span> = {</div><div>        <span style="color:#6a9955"><span>// Every thing public </span></span></div><div>        <span style="color:#9cdcfe">value</span><span style="color:#9cdcfe">:</span> <span style="color:#b5cea8">0</span>,</div><div>        <span style="color:#dcdcaa">adder</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">num</span>) { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">num</span> + <span style="color:#b5cea8">1</span>; },</div><div>        <span style="color:#4ec9b0">getNext</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">value</span> = <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">adder</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">value</span>); }</div><div>    };</div><br /><div>    <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#dcdcaa">getNext</span>();    <span style="color:#6a9955">// 1</span></div><div>    <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#9cdcfe">value</span> = <span style="color:#b5cea8">0</span>;</div><div>    <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#dcdcaa">getNext</span>();    <span style="color:#6a9955">// 1 again</span></div><div>    <span style="color:#569cd6">delete</span> <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#9cdcfe">adder</span>;</div><div>    <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#dcdcaa">getNext</span>();    <span style="color:#6a9955">// ERROR: Undefined is not a function</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:rgb(106,153,85)">   // Modular Pattern </span> </div><div>   <span style="color:rgb(86,156,214)">var</span> <span style="color:rgb(156,220,254)">MyNameSpace</span> = <span style="color:rgb(156,220,254)">MyNameSpace</span> || {};</div><br /><div>    (<span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">ns</span>) {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">value</span> = <span style="color:#b5cea8">0</span>;                          <span style="color:#6a9955">// Private</span></div><div>        <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">adder</span>(<span style="color:#9cdcfe">num</span>) { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">num</span> + <span style="color:#b5cea8">1</span>; } <span style="color:#6a9955">// Private</span></div><div>        <span style="color:#6a9955">// Public</span></div><div>        <span style="color:#9cdcfe">ns</span>.<span style="color:#dcdcaa">getNext</span> = <span style="color:#569cd6">function</span> () { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">value</span> = <span style="color:#dcdcaa">adder</span>(<span style="color:#9cdcfe">value</span>); }</div><div>    })(<span style="color:#9cdcfe">MyNameSpace</span>);</div><br /><div>    <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#dcdcaa">getNext</span>();    <span style="color:#6a9955">// 1 </span></div><div>    <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#9cdcfe">value</span> = <span style="color:#b5cea8">0</span>;    <span style="color:#6a9955">// Is not affecting the internal value, it's creating a new property</span></div><div>    <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#dcdcaa">getNext</span>();    <span style="color:#6a9955">// 2, yessss</span></div><div>    <span style="color:#569cd6">delete</span> <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#9cdcfe">adder</span>; <span style="color:#6a9955">// Is not deleting anything</span></div><div>    <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#dcdcaa">getNext</span>();    <span style="color:#6a9955">// no problemo, outputs 3</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Note: You can also extend the namespace using the exact same syntax.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    (<span style="color:rgb(86,156,214)">function</span> (<span style="color:rgb(156,220,254)">ns</span>) {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">somePrivate</span> = <span style="color:#b5cea8">0</span>;             <span style="color:#6a9955">// Private - adding some more private to namespace</span></div><div>        <span style="color:#6a9955">// Public - adding some more public members to the namespace</span></div><div>        <span style="color:#9cdcfe">ns</span>.<span style="color:#dcdcaa">addOne</span> = <span style="color:#569cd6">function</span> () { </div><div>            <span style="color:#6a9955">// return ns.value + 1;       // Error: value is Private to previous IIF</span></div><div>            <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#dcdcaa">getNext</span>(); <span style="color:#6a9955">// You can access the Public members</span></div><div>        };</div><div>    })(<span style="color:#9cdcfe">MyNameSpace</span>);</div><br /><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#dcdcaa">addOne</span>()); <span style="color:#6a9955">// 4</span></div></div></div><div><br /></div><div><b><span>Convert modular pattern to Class:</span></b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">var</span> <span style="color:#4ec9b0">MyClass</span> = <span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">value</span> = <span style="color:#b5cea8">0</span>;                          <span style="color:#6a9955">// Private</span></div><div>        <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">adder</span>(<span style="color:#9cdcfe">num</span>) { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">num</span> + <span style="color:#b5cea8">1</span>; } <span style="color:#6a9955">// Private</span></div><div>        <span style="color:#6a9955">// Public: 'ns' changed to 'this'</span></div><div>        <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">getNext</span> = <span style="color:#569cd6">function</span> () { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">value</span> = <span style="color:#dcdcaa">adder</span>(<span style="color:#9cdcfe">value</span>); }</div><div>    };</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">MyNameSpace</span> = <span style="color:#9cdcfe">MyNameSpace</span> || {};</div><div>    <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#9cdcfe">MyClass</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">MyClass</span>();</div><br /><div>    <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#9cdcfe">MyClass</span>.<span style="color:#dcdcaa">getNext</span>();    <span style="color:#6a9955">// 1 </span></div><div>    <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#9cdcfe">MyClass</span>.<span style="color:#9cdcfe">value</span> = <span style="color:#b5cea8">0</span>;    <span style="color:#6a9955">// Is not affecting the internal value, it's creating a new property</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#9cdcfe">MyClass</span>.<span style="color:#dcdcaa">getNext</span>());    <span style="color:#6a9955">// 2, yessss</span></div><div>    <span style="color:#569cd6">delete</span> <span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#9cdcfe">MyClass</span>.<span style="color:#9cdcfe">adder</span>; <span style="color:#6a9955">// Is not deleting anything</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">MyNameSpace</span>.<span style="color:#9cdcfe">MyClass</span>.<span style="color:#dcdcaa">getNext</span>());    <span style="color:#6a9955">// 3</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">1. </span><b style="background-color:transparent;font-size:10pt">Non-modular Pattern: </b><span style="background-color:transparent">Private member and Prototype inside the class:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">function</span> <span style="color:rgb(78,201,176)">Restaurant</span>() {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">privateVariable</span> = <span style="color:#b5cea8">5</span>;</div><div>        <span style="color:#6a9955">// Only visible inside Restaurant()</span></div><div>        <span style="color:#569cd6">var</span> <span style="color:#dcdcaa">privateFunction</span> = <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">privateVariable</span>); }</div><div>        <span style="color:#4ec9b0">Restaurant</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">buy_food</span> = <span style="color:#569cd6">function</span>() {    <span style="color:#6a9955">// .prototype inside the class itself</span></div><div>                                                        <span style="color:#dcdcaa">privateFunction</span>(); <span style="color:#6a9955">// OK</span></div><div>                                                        <span style="color:#6a9955">// this.privateFunction(); // Error: NOT exist inside new object</span></div><div>                                                    };</div><div>    }</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">r</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Restaurant</span>();</div><div>        <span style="color:#9cdcfe">r</span>.<span style="color:#dcdcaa">buy_food</span>(); <span style="color:#6a9955">// OK</span></div><div>        <span style="color:#9cdcfe">r</span>.<span style="color:#dcdcaa">private_stuff</span>(); <span style="color:#6a9955">// Error: NO access</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">2. <span><b>Non-modular Pattern:</b></span> Private member and Prototype outside the class:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// <span>2. Private member and Prototype outside the class</span></span></div><div>    <span style="color:#569cd6">function</span> <span style="color:#4ec9b0">Restaurant</span>() {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">privateVariable</span> = <span style="color:#b5cea8">5</span>;</div><div>        <span style="color:#569cd6">var</span> <span style="color:#dcdcaa">privateFunction</span>   = <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">privateVariable</span>); };</div><div>        <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">instanceFunction</span> = <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">privateVariable</span>); }; <span style="color:#6a9955">// OK: Privileged to access privates</span></div><div>    }</div><br /><div>    <span style="color:#4ec9b0">Restaurant</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">buy_food</span> = <span style="color:#569cd6">function</span>() {</div><div>        <span style="color:#6a9955">// privateFunction();      // Error: NO access</span></div><div>        <span style="color:#6a9955">// this.privateFunction(); // Error: NOT exist inside new object</span></div><div>        <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">instanceFunction</span>();   <span style="color:#6a9955">// OK</span></div><div>    };</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">r</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Restaurant</span>();</div><div>        <span style="color:#9cdcfe">r</span>.<span style="color:#dcdcaa">buy_food</span>(); <span style="color:#6a9955">//OK</span></div><div>        <span style="color:#9cdcfe">r</span>.<span style="color:#dcdcaa">private_stuff</span>(); <span style="color:#6a9955">// Error: NO access</span></div></div></div><div><br /></div><div>1. Module pattern with a <b>constructor</b>: <span style="background-color:transparent">Private members and Prototype are inside the class:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">var</span> <span style="color:#4ec9b0">MyObject</span> = (<span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#6a9955">// Constructor</span></div><div>        <span style="color:#569cd6">function</span> <span style="color:#4ec9b0">MyObject</span> (<span style="color:#9cdcfe">foo</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">_foo</span> = <span style="color:#9cdcfe">foo</span>; }</div><div>        <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">privateFun</span> (<span style="color:#9cdcfe">prefix</span>) { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">prefix</span> + <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">_foo</span>;}  </div><div>    </div><div>        <span style="color:#4ec9b0">MyObject</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">publicFun</span> = <span style="color:#569cd6">function</span> () { <span style="color:#c586c0">return</span> <span style="color:#dcdcaa">privateFun</span>.<span style="color:#dcdcaa">call</span>(<span style="color:#569cd6">this</span>, <span style="color:#ce9178">'&gt;&gt;'</span>); };</div><div>        <span style="color:#c586c0">return</span> <span style="color:#4ec9b0">MyObject</span>; <span style="color:#6a9955">// MUST</span></div><div>    })(); <span style="color:#6a9955">// IIF</span></div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">myObject</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">MyObject</span>(<span style="color:#ce9178">'bar'</span>);</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">myObject</span>.<span style="color:#dcdcaa">publicFun</span>()); <span style="color:#6a9955">// Returns '&gt;&gt;bar'</span></div><div>    <span style="color:#9cdcfe">myObject</span>.<span style="color:#dcdcaa">privateFun</span>(<span style="color:#ce9178">'&gt;&gt;'</span>);         <span style="color:#6a9955">// ERROR: ReferenceError: private is not defined</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><div><span style="font-size:13.3333px">2.</span><span style="background-color:transparent"><span><b> Node.js</b></span> - it is very easy to achieve</span><span style="background-color:transparent;font-size:10pt"> the above If you are using node.js, you don't need the IIFE because you can take advantage of the module loading system.</span></div></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(106,153,85)">// myModule.js</span></div><div>    <span style="color:#569cd6">function</span> <span style="color:#4ec9b0">MyObject</span> (<span style="color:#9cdcfe">foo</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">_foo</span> = <span style="color:#9cdcfe">foo</span>; }</div><div>    <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">privateFun</span> (<span style="color:#9cdcfe">prefix</span>) { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">prefix</span> + <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">_foo</span>; }</div><div>    <span style="color:#4ec9b0">MyObject</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">publicFun</span> = <span style="color:#569cd6">function</span> () { <span style="color:#c586c0">return</span> <span style="color:#dcdcaa">privateFun</span>.<span style="color:#dcdcaa">call</span>(<span style="color:#569cd6">this</span>, <span style="color:#ce9178">'&gt;&gt;'</span>); };</div><div>    <span style="color:#4ec9b0">exports</span>.<span style="color:#9cdcfe">MyObject</span> = <span style="color:#4ec9b0">MyObject</span>;</div><br /><div>    <span style="color:#6a9955">// main.js - Load the file:</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">MyObject</span> = <span style="color:#dcdcaa">require</span>(<span style="color:#ce9178">'./myModule'</span>).<span style="color:#9cdcfe">MyObject</span>;</div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">myObject</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">MyObject</span>(<span style="color:#ce9178">'bar'</span>);</div><div>    <span style="color:#9cdcfe">myObject</span>.<span style="color:#dcdcaa">publicFun</span>();      <span style="color:#6a9955">// Returns '&gt;&gt;bar'</span></div><div>    <span style="color:#9cdcfe">myObject</span>.<span style="color:#dcdcaa">privateFun</span>(<span style="color:#ce9178">'&gt;&gt;'</span>); <span style="color:#6a9955">// ReferenceError: private is not defined</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Other ways:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">Restaurant</span>() { }</div><div>    <span style="color:#dcdcaa">Restaurant</span>.<span style="color:#9cdcfe">prototype</span> = (<span style="color:#569cd6">function</span> () {</div><div>                                    <span style="color:#569cd6">var</span> <span style="color:#dcdcaa">private_stuff</span> = <span style="color:#569cd6">function</span> () {</div><div>                                        <span style="color:#6a9955">// Private code here</span></div><div>                                        <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">"I'm Private inside Prototype"</span>);</div><div>                                    };</div><br /><div>                                    <span style="color:#c586c0">return</span> {</div><div>                                                <span style="color:#9cdcfe">constructor</span><span style="color:#9cdcfe">:</span> <span style="color:#dcdcaa">Restaurant</span>, <span style="color:#6a9955">// Recommended</span></div><div>                                                <span style="color:#dcdcaa">use_restroom</span><span style="color:#9cdcfe">:</span> <span style="color:#dcdcaa">private_stuff</span></div><div>                                            };</div><div>                            })(); <span style="color:#6a9955">// IIFE</span></div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">r</span> = <span style="color:#569cd6">new</span> <span style="color:#dcdcaa">Restaurant</span>();</div><div>    <span style="color:#9cdcfe">r</span>.<span style="color:#dcdcaa">use_restroom</span>();   <span style="color:#6a9955">// Works</span></div><div>    <span style="color:#9cdcfe">r</span>.<span style="color:#dcdcaa">private_stuff</span>();  <span style="color:#6a9955">// Error - NO access</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Other ways:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">var</span> <span style="color:#dcdcaa">Restaurant</span> = <span style="color:#569cd6">function</span>() {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">totalfoodcount</span> = <span style="color:#b5cea8">0</span>;        <span style="color:#6a9955">// Private class property</span></div><div>        </div><div>        <span style="color:#569cd6">var</span> <span style="color:#4ec9b0">Restaurant</span> = <span style="color:#569cd6">function</span>(<span style="color:#9cdcfe">name</span>) {</div><div>            <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">foodcount</span> = <span style="color:#b5cea8">0</span>;         <span style="color:#6a9955">// Private instance property</span></div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span> = <span style="color:#9cdcfe">name</span>;          <span style="color:#6a9955">// Public  instance property</span></div><div>            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">incrementFoodCount</span> = <span style="color:#569cd6">function</span>() {</div><div>                                                    <span style="color:#9cdcfe">foodcount</span>++;</div><div>                                                    <span style="color:#9cdcfe">totalfoodcount</span>++;</div><div>                                                    <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">printStatus</span>();</div><div>                                                };</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">getFoodCount</span> = <span style="color:#569cd6">function</span>() { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">foodcount</span>; };</div><div>        };</div><br /><div>        <span style="color:#4ec9b0">Restaurant</span>.<span style="color:#9cdcfe">prototype</span> = {</div><div>            <span style="color:#6a9955">// name : '',</span></div><div>            <span style="color:#dcdcaa">buy_food</span><span style="color:#9cdcfe">            :</span> <span style="color:#569cd6">function</span>() { <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">incrementFoodCount</span>(); },</div><div>            <span style="color:#dcdcaa">getTotalFoodCount</span><span style="color:#9cdcfe">   :</span> <span style="color:#569cd6">function</span>() { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">totalfoodcount</span>; },</div><div>            <span style="color:#dcdcaa">printStatus</span><span style="color:#9cdcfe">         :</span> <span style="color:#569cd6">function</span>() {</div><div>                                                <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">`Food count at </span><span style="color:#569cd6">${</span><span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span><span style="color:#569cd6">}</span><span style="color:#ce9178"> : </span><span style="color:#569cd6">${</span><span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">getFoodCount</span>()<span style="color:#569cd6">}</span><span style="color:#ce9178">`</span>);</div><div>                                                <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">`Total food count : </span><span style="color:#569cd6">${</span><span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">getTotalFoodCount</span>()<span style="color:#569cd6">}</span><span style="color:#ce9178">`</span>);</div><div>                                            }</div><div>        };</div><div>    </div><div>        <span style="color:#c586c0">return</span>  { <span style="color:#6a9955">// Singleton public properties</span></div><div>                    <span style="color:#dcdcaa">create</span><span style="color:#9cdcfe"> :</span> <span style="color:#569cd6">function</span>(<span style="color:#9cdcfe">name</span>) {</div><div>                        <span style="color:#c586c0">return</span> <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Restaurant</span>(<span style="color:#9cdcfe">name</span>);</div><div>                    },</div><div>                    <span style="color:#dcdcaa">printStatus</span><span style="color:#9cdcfe"> :</span> <span style="color:#569cd6">function</span>() {</div><div>                        <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">`Total food count : </span><span style="color:#569cd6">${</span><span style="color:#4ec9b0">Restaurant</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">getTotalFoodCount</span>()<span style="color:#569cd6">}</span><span style="color:#ce9178">`</span>);</div><div>                    }</div><div>                };</div><div>    }(); <span style="color:#6a9955">// IIFE</span></div><div>    </div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">McDonalds</span> = <span style="color:#dcdcaa">Restaurant</span>.<span style="color:#dcdcaa">create</span>(<span style="color:#ce9178">"McDonald's"</span>);</div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">KFC</span> = <span style="color:#dcdcaa">Restaurant</span>.<span style="color:#dcdcaa">create</span>(<span style="color:#ce9178">"KFC"</span>);</div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">BurgerKing</span> = <span style="color:#dcdcaa">Restaurant</span>.<span style="color:#dcdcaa">create</span>(<span style="color:#ce9178">"Burger King"</span>);</div><div>    </div><div>    <span style="color:#dcdcaa">Restaurant</span>.<span style="color:#dcdcaa">printStatus</span>(); <span style="color:#6a9955">// 0</span></div><br /><div>    <span style="color:#9cdcfe">McDonalds</span>.<span style="color:#dcdcaa">buy_food</span>();</div><div>    <span style="color:#9cdcfe">KFC</span>.<span style="color:#dcdcaa">buy_food</span>();</div><div>    <span style="color:#9cdcfe">BurgerKing</span>.<span style="color:#dcdcaa">buy_food</span>();</div><div>    </div><div>    <span style="color:#dcdcaa">Restaurant</span>.<span style="color:#dcdcaa">printStatus</span>(); <span style="color:#6a9955">// 3</span></div></div></div><div><br /></div><div><span style="font-size:13.3333px"><span><b>Modular Pattern</b></span> Vs <span><b>Constructor with Methods:</b></span></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Modular Pattern</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#4ec9b0">Module</span> = (<span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#6a9955">// private variables and functions</span></div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">foo</span> = <span style="color:#ce9178">'bar'</span>; <span style="color:#6a9955">// COMMON for all the instances</span></div><br /><div>        <span style="color:#6a9955">// constructor</span></div><div>        <span style="color:#569cd6">var</span> <span style="color:#4ec9b0">Module</span> = <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">x</span>) {</div><div>            <span style="color:#c586c0">if</span>(<span style="color:#9cdcfe">x</span>) <span style="color:#9cdcfe">foo</span> = <span style="color:#9cdcfe">x</span>; <span style="color:#6a9955">// don't change if x is invalid</span></div><div>        };</div><div>    </div><div>        <span style="color:#6a9955">// prototype</span></div><div>        <span style="color:#4ec9b0">Module</span>.<span style="color:#9cdcfe">prototype</span> = {</div><div>            <span style="color:#4ec9b0">constructor</span><span style="color:#9cdcfe">:</span> <span style="color:#4ec9b0">Module</span>,</div><div>            <span style="color:#dcdcaa">something</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">foo</span>); }</div><div>        };</div><div>    </div><div>        <span style="color:#c586c0">return</span> <span style="color:#4ec9b0">Module</span>;</div><div>    })();</div><div>    </div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">m1</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Module</span>(<span style="color:#ce9178">'sridhar'</span>);</div><div>    <span style="color:#9cdcfe">m1</span>.<span style="color:#dcdcaa">something</span>(); <span style="color:#6a9955">// sridhar</span></div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">m2</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Module</span>();</div><div>    <span style="color:#9cdcfe">m2</span>.<span style="color:#dcdcaa">something</span>(); <span style="color:#6a9955">// sridhar NOT bar</span></div></div></div><div><br /></div><div><span style="font-size:13.3333px"><span><b>Constructor with Methods:</b></span></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// <span>Constructor with Methods</span></span></div><div>    <span style="color:#569cd6">function</span> <span style="color:#4ec9b0">Module</span>() {</div><div>        <span style="color:#6a9955">// private variables and functions</span></div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">foo</span> = <span style="color:#ce9178">'bar'</span>; <span style="color:#6a9955">// Each instance will gets own copy</span></div><div>    </div><div>        <span style="color:#6a9955">//public methods</span></div><div>        <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">something</span> = <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">x</span>) {</div><div>            <span style="color:#c586c0">if</span>(<span style="color:#9cdcfe">x</span>) <span style="color:#9cdcfe">foo</span> = <span style="color:#9cdcfe">x</span>; <span style="color:#6a9955">// don't change if x is invalid</span></div><div>            <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">foo</span>);   </div><div>        }</div><div>    }</div><div>    </div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">m1</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Module</span>();  </div><div>    <span style="color:#9cdcfe">m1</span>.<span style="color:#dcdcaa">something</span>(<span style="color:#ce9178">'sridhar'</span>); <span style="color:#6a9955">// sridhar</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">m2</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Module</span>();</div><div>    <span style="color:#9cdcfe">m2</span>.<span style="color:#dcdcaa">something</span>(); <span style="color:#6a9955">// bar --- NOT sridhar</span></div></div></div><div><br /></div><div><span style="font-size:13.3333px"><b><span>Passing one Module to another Module:</span></b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">ModuleA</span> = <span style="color:#569cd6">function</span>() {}</div><br /><div>    <span style="color:#9cdcfe">ModuleA</span>.<span style="color:#9cdcfe">prototype</span> = (<span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#c586c0">return</span> {</div><div>                    <span style="color:#dcdcaa">someMethod</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () { <span style="color:#c586c0">return</span> <span style="color:#ce9178">'foo'</span>; }</div><div>                };</div><div>    }());</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#4ec9b0">ModuleB</span> = <span style="color:#569cd6">function</span>(<span style="color:#9cdcfe">moduleA</span>) {</div><div>        <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">innerModule</span> = <span style="color:#9cdcfe">moduleA</span>;</div><div>    };</div><br /><div>    <span style="color:#4ec9b0">ModuleB</span>.<span style="color:#9cdcfe">prototype</span> = (<span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#c586c0">return</span> {</div><div>                    <span style="color:#dcdcaa">doStuff</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () {</div><div>                                    <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">innerModule</span>.<span style="color:#dcdcaa">someMethod</span>();</div><div>                            }</div><div>                };</div><div>    }());</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">moduleA</span> = <span style="color:#569cd6">new</span> <span style="color:#9cdcfe">ModuleA</span>();</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">moduleB</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">ModuleB</span>(<span style="color:#9cdcfe">moduleA</span>);</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">moduleB</span>.<span style="color:#dcdcaa">doStuff</span>()); <span style="color:#6a9955">// prints "foo"</span></div></div></div><div><br /></div><div><span style="font-size:13.3333px"><b>Value </b>Vs <span><b>Reference:</b></span></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">var</span> <span style="color:#dcdcaa">Child</span> = <span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">totalPoints</span> = <span style="color:#b5cea8">100</span>;</div><div>        <span style="color:#dcdcaa">addPoints</span> = <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">points</span>) { <span style="color:#9cdcfe">totalPoints</span> += <span style="color:#9cdcfe">points</span>; };</div><div>        <span style="color:#dcdcaa">getPoints</span> = <span style="color:#569cd6">function</span> () { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">totalPoints</span>; };</div><div>        <span style="color:#c586c0">return</span> {</div><div>            <span style="color:#9cdcfe">points</span><span style="color:#9cdcfe">:</span> <span style="color:#9cdcfe">totalPoints</span>,  <span style="color:#6a9955">// points: 100 (will NOT update bcos it is a value not a reference to totalPoints )</span></div><div>            <span style="color:#9cdcfe">addPoints</span><span style="color:#9cdcfe">:</span> <span style="color:#9cdcfe">addPoints</span>,</div><div>            <span style="color:#9cdcfe">getPoints</span><span style="color:#9cdcfe">:</span> <span style="color:#9cdcfe">getPoints</span></div><div>        };</div><div>    };</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">george</span> = <span style="color:#dcdcaa">Child</span>();</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">george</span>.<span style="color:#9cdcfe">points</span>);       <span style="color:#6a9955">// 100</span></div><div>    <span style="color:#9cdcfe">george</span>.<span style="color:#dcdcaa">addPoints</span>(<span style="color:#b5cea8">50</span>);</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">george</span>.<span style="color:#9cdcfe">points</span>);      <span style="color:#6a9955">// 100 - NOT 150</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">george</span>.<span style="color:#dcdcaa">getPoints</span>()); <span style="color:#6a9955">// 150</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><b style="background-color:transparent">Immediate object initialization Pattern:</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(106,153,85)">//   Description: this pattern is mainly suitable for one-off tasks</span></div><div>    ({</div><div>        <span style="color:#6a9955">// some configuration constants</span></div><div>        <span style="color:#9cdcfe">maxwidth</span><span style="color:#9cdcfe">:</span><span style="color:#b5cea8">600</span>,</div><div>        <span style="color:#9cdcfe">maxheight</span><span style="color:#9cdcfe">:</span><span style="color:#b5cea8">400</span>,</div><br /><div>        <span style="color:#6a9955">// you can also define utility methods</span></div><div>        <span style="color:#dcdcaa">gimmeMax</span><span style="color:#9cdcfe">:</span><span style="color:#569cd6">function</span> () {</div><div>            <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">maxwidth</span> + <span style="color:#ce9178">"x"</span> + <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">maxheight</span>;</div><div>        },</div><br /><div>        <span style="color:#6a9955">// initialize</span></div><div>        <span style="color:#dcdcaa">init</span><span style="color:#9cdcfe">:</span><span style="color:#569cd6">function</span> () {</div><div>            <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">gimmeMax</span>());</div><div>            <span style="color:#6a9955">// more init tasks...</span></div><div>        }</div><div>    }).<span style="color:#dcdcaa">init</span>();</div></div></div><div><br /></div><div><span><span style="font-size:13.3333px"><b>Setting up plain objects by IIC (Immediately invoked constructors):</b></span></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">var</span> <span style="color:rgb(156,220,254)">obj</span> = <span style="color:rgb(86,156,214)">new</span> <span style="color:rgb(86,156,214)">function</span> () {     <span style="color:rgb(86,156,214)">this</span>.<span style="color:rgb(156,220,254)">first</span> = <span style="color:rgb(206,145,120)">'sridhar'</span>;</div><div>                                    <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">last</span> = <span style="color:#ce9178">'krishnan'</span>;</div><div>                              }();</div></div></div><div><br /></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">obj</span> = <span style="color:#569cd6">new</span> <span style="color:#569cd6">function</span> () {     <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">first</span> = <span style="color:#ce9178">'sridhar'</span>;</div><div>                                    <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">last</span> = <span style="color:#ce9178">'krishnan'</span>;</div><div>                              }; <span style="color:#6a9955">// () is optional bcos if you call a constructor with zero arguments.</span></div></div></div><div><b><br /></b></div><div><b>IIFE:</b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// IIFE - Recommended!</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">obj</span> = <span style="color:#569cd6">function</span> () { <span style="color:rgb(197,134,192)">return</span> {</div><div>                                     <span style="color:#9cdcfe">first</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">'</span><span style="color:rgb(206,145,120)">sridhar</span><span style="color:#ce9178">'</span>,</div><div>                                     <span style="color:#9cdcfe">last</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">'</span><span style="color:rgb(206,145,120)">krishnan</span><span style="color:#ce9178">'</span></div><div>                                   };</div><div>                          }();</div></div></div><div><br /></div><div><b><span>IIFE and Context:</span></b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Global Context</span></div><div>    (<span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#569cd6">this</span> == <span style="color:#9cdcfe">window</span>); <span style="color:#6a9955">// true</span></div><div>        <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">publicMethod</span> = <span style="color:#569cd6">function</span> () { }</div><div>    })();</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">publicMethod</span>); <span style="color:#6a9955">// function()</span></div></div></div><div><br /></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div style="line-height:22px"><div>    <span style="color:#6a9955">// Using call</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">MYAPP</span> = {};</div><div>    (<span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#6a9955">// 'this' will now refer to 'MYAPP'</span></div><div>        <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">publicMethod</span> = <span style="color:#569cd6">function</span> () { }</div><div>    }).<span style="color:#dcdcaa">call</span>(<span style="color:#9cdcfe">MYAPP</span>);</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">publicMethod</span>);        <span style="color:#6a9955">// undefined</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">MYAPP</span>.<span style="color:#9cdcfe">publichMethod</span>); <span style="color:#6a9955">// function()</span></div></div></div></div><div><br /></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Alternatively</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">MYAPP</span> = (<span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">my</span>) {</div><div>        <span style="color:#9cdcfe">my</span>.<span style="color:#dcdcaa">publicMethod</span> = <span style="color:#569cd6">function</span> () { }</div><div>        <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">my</span>;</div><div>    })(<span style="color:#9cdcfe">MYAPP</span>);</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">publicMethod</span>);        <span style="color:#6a9955">// undefined</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">MYAPP</span>.<span style="color:#9cdcfe">publichMethod</span>); <span style="color:#6a9955">// function()</span></div></div></div><div><br /></div><div><b style="background-color:transparent">S.O.L.I.D. design principles:</b></div><div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span>S: Single Responsibility</span></div><div><span style="font-size:13.3333px"><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span>O: Open/Close</span></div><div><span style="font-size:13.3333px"><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span>L: Liskov Substitution</span></div><div><span style="font-size:13.3333px"><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span>I: Interface Segregation</span></div><div><span style="font-size:13.3333px"><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span>D: Dependency Inversion</span></div></div><div><span style="font-size:13.3333px"><br /></span></div><div> S: Single Responsibility: </div><div><span style="font-size:13.3333px"><span>    </span>This is the Unix philosophy: Write programs that do <b>one </b>thing and do it <b>well</b>. Write programs to work together. Write programs to handle text streams, </span></div><div><span style="font-size:13.3333px">because that is a universal interface.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div> O: Open/Close: Open for extension and closed for modification of the existing code.</div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><div style="display:block;text-align:left"><div style="display:block;text-align:left"><div style="display:block;text-align:left"><div style="display:block;text-align:left"><div style="display:block;text-align:left">   <a href="../../../../../86e9e8bf-a-62cb3a1a-s-sites.googlegroups.com/site/sridharkritha/home/javascript/js-design-patterns/l64d1.jpg?attredirects=0" imageanchor="1"><img border="0" src="../../_/rsrc/1598511431629/home/javascript/js-design-patterns/d.jpg" />        <img border="0" src="../../_/rsrc/1598511441695/home/javascript/js-design-patterns/l.jpg" /></a></div><div style="display:block;text-align:left"><br /></div><div style="display:block;text-align:left"><a href="../../../../../86e9e8bf-a-62cb3a1a-s-sites.googlegroups.com/site/sridharkritha/home/javascript/js-design-patterns/l64d1.jpg?attredirects=0" imageanchor="1">   <img border="0" src="../../_/rsrc/1598511436638/home/javascript/js-design-patterns/i.jpg" />        <div style="display:inline!important"><img border="0" src="../../_/rsrc/1598511449885/home/javascript/js-design-patterns/s.jpg" /> </div></a></div></div><div style="display:block;text-align:left"><a href="../../../../../86e9e8bf-a-62cb3a1a-s-sites.googlegroups.com/site/sridharkritha/home/javascript/js-design-patterns/l64d1.jpg?attredirects=0" imageanchor="1"><div style="display:inline!important">    </div></a></div></div><a href="../../../../../86e9e8bf-a-62cb3a1a-s-sites.googlegroups.com/site/sridharkritha/home/javascript/js-design-patterns/s3193.jpg?attredirects=0" imageanchor="1"></a>  <a href="../../../../../86e9e8bf-a-62cb3a1a-s-sites.googlegroups.com/site/sridharkritha/home/javascript/js-design-patterns/oec5b.jpg?attredirects=0" imageanchor="1"><img border="0" src="../../_/rsrc/1598511445710/home/javascript/js-design-patterns/o.jpg" /></a></div></div><br /></span></div><div><b style="background-color:transparent">3</b><span style="background-color:transparent"> JS Patterns can be </span><b style="background-color:transparent">easily </b><span style="background-color:transparent">implemented by </span><b style="background-color:transparent">closures</b><span style="background-color:transparent">:</span></div><div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">   <b> 1. The Module Pattern</b> - Example (and made popular) by Eric Miraglia</span></div><div><span style="font-size:13.3333px">    <b>2. Memoization</b> - Example by Oliver Steele</span></div><div><span style="font-size:13.3333px">    <b>3. Currying</b> - Example by Dustin Diaz</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Module Patterns</b> - Can be used for implementing <b>'Singleton Pattern'</b></span></div></div><div><span style="font-size:13.3333px"><b><br /></b></span></div><div><div><span style="font-size:13.3333px">* The pattern "initialises itself on the <b>first </b>call" is known as '<b>laziness </b>for pure computations' (in functional programming) and </span></div><div><span style="background-color:transparent">   as a </span><b style="background-color:transparent">singleton </b><span style="background-color:transparent">for objects (in OOP).</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">* Use an </span><b style="font-size:13.3333px">IIFE</b><span style="font-size:13.3333px">, which is also known as the module pattern when creating an object(if you don't need a lazy initialization).</span></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><div><span style="font-size:13.3333px">Standard Design Patterns defined by GoF:</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Creational: </b>How to instantiate an object or group of related objects.</span></div><div><span style="font-size:13.3333px"><b>Structural:</b> object composition or "How to build a software component?"</span></div><div><span style="font-size:13.3333px"><b>Behavioral:</b> communication patterns between objects</span></div></div><div><span style="font-size:13.3333px">         <table border="1" bordercolor="#888" cellspacing="0" style="border-collapse:collapse;border-color:rgb(136,136,136);border-width:1px"><tbody><tr><td style="width:115.007px;height:15.0075px"><b> Creational</b></td><td style="width:94.0075px;height:15.0075px"><b> Structural</b></td><td style="width:162.007px;height:15.0075px"><b> Behavioral</b></td></tr><tr><td style="width:115.007px;height:29.0075px"> Factory Method</td><td style="width:94.0075px;height:29.0075px"> Adapter</td><td style="width:162.007px;height:29.0075px"> Chain of Responsibility</td></tr><tr><td style="width:115.007px;height:29.0075px"> Abstract Factory</td><td style="width:94.0075px;height:29.0075px"> Bridge</td><td style="width:162.007px;height:29.0075px"> Command</td></tr><tr><td style="width:115.007px;height:15.0075px"> Builder</td><td style="width:94.0075px;height:15.0075px"> Composite</td><td style="width:162.007px;height:15.0075px"> Iterator</td></tr><tr><td style="width:115.007px;height:15.0075px"> Prototype</td><td style="width:94.0075px;height:15.0075px"> Decorator</td><td style="width:162.007px;height:15.0075px"> Mediator</td></tr><tr><td style="width:115.007px;height:15.0075px"> Singleton</td><td style="width:94.0075px;height:15.0075px"> Facade</td><td style="width:162.007px;height:15.0075px"> Memento</td></tr><tr><td style="width:115.007px;height:15.0075px"> </td><td style="width:94.0075px;height:15.0075px"> Flyweight</td><td style="width:162.007px;height:15.0075px"> Observer</td></tr><tr><td style="width:115.007px;height:15.0075px"> </td><td style="width:94.0075px;height:15.0075px"> Proxy</td><td style="width:162.007px;height:15.0075px"> Visitor</td></tr><tr><td style="width:115.007px;height:15.0075px"> </td><td style="width:94.0075px;height:15.0075px"> </td><td style="width:162.007px;height:15.0075px"> Strategy</td></tr><tr><td style="width:115.007px;height:15.0075px"> </td><td style="width:94.0075px;height:15.0075px"> </td><td style="width:162.007px;height:15.0075px"> State</td></tr><tr><td style="width:115.007px;height:21.0075px"> </td><td style="width:94.0075px;height:21.0075px"> </td><td style="width:162.007px;height:21.0075px"> Template Method</td></tr></tbody></table></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Singleton:</b></span></div><div><span style="font-size:13.3333px"><b><br /></b></span></div><div><span style="font-size:13.3333px"><span>When to use this pattern:</span></span></div><div><span style="font-size:13.3333px"><span>* </span></span><span style="background-color:transparent;font-size:13.3333px"><span>There will only ever be one instance</span></span></div><div><div><span style="font-size:13.3333px">* Lazy initialization is desirable</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Disadvantages:</span></div><div>* It is easily (ab)used as a global variable.</div><div><span style="font-size:13.3333px">* Making something global to avoid passing it around is a code smell.</span></div><div><span style="font-size:13.3333px">* Classes that depend on singletons are relatively harder to unit test in isolation.</span></div><div><span style="font-size:13.3333px">* Singleton is NOT thread-safe</span></div><div><span style="font-size:13.3333px">* A singleton gets implemented using a static method. Static methods are avoided by people who do unit testing because they cannot be mocked or stubbed. </span></div><div><span style="font-size:13.3333px">   The generally most accepted convention to avoid them are using the <span><b>inversion of control</b></span></span><span style="background-color:transparent;font-size:10pt">(IoC) and <span><b>dependency injection</b></span></span><span style="background-color:transparent;font-size:10pt"> </span><span style="background-color:transparent">patterns.</span></div></div><div><br /></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div style="line-height:22px"><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">SomeFunExp</span>; <span style="color:#6a9955">// also called - Singleton</span></div><div>    (<span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">instance</span>; <span style="color:#6a9955">// closure</span></div><div>        <span style="color:#6a9955">// 'SomeFunExp' should be visible outside the anonymous function</span></div><div>        <span style="color:#9cdcfe">SomeFunExp</span> = <span style="color:#569cd6">function</span>()  <span style="color:#6a9955">// WRONG =&gt; var SomeFunExp = function() { ...}</span></div><div>        {</div><div>            <span style="color:#c586c0">if</span> (<span style="color:#9cdcfe">instance</span>) { <span style="color:rgb(197,134,192)">return</span> <span style="color:rgb(156,220,254)">instance</span>; }</div><div>            <span style="color:#9cdcfe">instance</span> = <span style="color:#569cd6">this</span>; <span style="color:#6a9955">// place it is declared doesn't matter</span></div><div>            <span style="color:#6a9955">// all other functionalities</span></div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">value</span> = <span style="color:#b5cea8">0</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">str</span> = <span style="color:#ce9178">"Hello Singleton!"</span>;</div><div>        };</div><div>    }());</div><br /><div>    <span style="color:#6a9955">// testing</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">ob1</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">SomeFunExp</span>();</div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">ob2</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">SomeFunExp</span>();</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">ob1</span> === <span style="color:#9cdcfe">ob2</span>); <span style="color:#6a9955">// true</span></div></div></div></div><div><br /></div><div><b><span>2. ES 6 Way:</span></b></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div style="line-height:22px"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">MyClass</span> {</div><div>        <span style="color:#569cd6">constructor</span>() {</div><div>            <span style="color:#c586c0">if</span> (<span style="color:#4ec9b0">MyClass</span>.<span style="color:#9cdcfe">_instance</span>) { <span style="color:#c586c0">return</span> <span style="color:#4ec9b0">MyClass</span>.<span style="color:#9cdcfe">_instance</span>; }</div><div>            <span style="color:#4ec9b0">MyClass</span>.<span style="color:#9cdcfe">_instance</span> = <span style="color:#569cd6">this</span>;</div><div>            <span style="color:#6a9955">// ... your rest of the constructor code goes after this</span></div><div>        }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Test</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">instanceOne</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">MyClass</span>();</div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">instanceTwo</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">MyClass</span>();</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">instanceOne</span> === <span style="color:#9cdcfe">instanceTwo</span>); <span style="color:#6a9955">// true</span></div><br /><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">instance</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">MyClass</span>();</div><div>    <span style="color:#4ec9b0">Object</span>.<span style="color:#dcdcaa">freeze</span>(<span style="color:#4fc1ff">instance</span>); <span style="color:#6a9955">// No one will change it thereafter</span></div><div><div style="line-height:22px">    <span style="color:#6a9955">// export default instance;</span></div></div></div></div></div><div><br /></div><div>2. Singleton using <span><b>Object Literal:</b></span></div><div><span><b><br /></b></span></div><div><span style="font-size:13.3333px"><b>Simplest:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">var</span> <span style="color:rgb(156,220,254)">myInstance</span> = {</div><div>        <span style="color:#dcdcaa">method1</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () {</div><div>            <span style="color:#6a9955">// ...</span></div><div>        },</div><div>        <span style="color:#dcdcaa">method2</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () {</div><div>            <span style="color:#6a9955">// ...</span></div><div>        }</div><div>    };</div></div></div><div><span><b><br /></b></span></div><div><span><b>Node.js - Singleton:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(106,153,85)">// foo.js</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#4ec9b0">Foo</span> = <span style="color:#569cd6">function</span> () { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">num</span> = <span style="color:#b5cea8">0</span>; };</div><div>    <span style="color:#4ec9b0">Foo</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">adder</span> = <span style="color:#569cd6">function</span> () { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">num</span>++; };</div><div>    <span style="color:#4ec9b0">module</span>.<span style="color:#4ec9b0">exports</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Foo</span>();</div></div></div><div><br /></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// even more succinctly:</span></div><div>    <span style="color:#4ec9b0">module</span>.<span style="color:#4ec9b0">exports</span> = {</div><div>                        <span style="color:#9cdcfe">num</span><span style="color:#9cdcfe">:</span> <span style="color:#b5cea8">0</span>,</div><div>                        <span style="color:#dcdcaa">adder</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">num</span>++; }</div><div>                     };</div></div></div><div><br /></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// main.js</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">foo</span> = <span style="color:#dcdcaa">require</span>(<span style="color:#ce9178">'./foo.js'</span>);</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">foo</span>.<span style="color:#9cdcfe">num</span>); <span style="color:#6a9955">// 0</span></div><div>    <span style="color:#9cdcfe">foo</span>.<span style="color:#dcdcaa">adder</span>();          <span style="color:#6a9955">// 1</span></div></div></div><div><br /></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// somefile.js</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">bar</span> = <span style="color:#dcdcaa">require</span>(<span style="color:#ce9178">'./foo.js'</span>);</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">bar</span>.<span style="color:#9cdcfe">num</span>); <span style="color:#6a9955">// 1</span></div></div></div><div><br /></div><div><span><span><b>Singleton by Modular Pattern:</b></span></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">var</span> <span style="color:#9cdcfe">myInstance</span> = (<span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">privateVar</span> = <span style="color:#ce9178">'someValue'</span>;</div><br /><div>        <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">privateMethod</span>() {</div><div>            <span style="color:#6a9955">// ...</span></div><div>        }</div><br /><div>        <span style="color:#c586c0">return</span> {    <span style="color:#6a9955">// public interface</span></div><div>                    <span style="color:#dcdcaa">publicMethod1</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () {</div><div>                        <span style="color:#6a9955">// all private members are accessible here</span></div><div>                    },</div><div>                    <span style="color:#dcdcaa">publicMethod2</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () {</div><div>                    }</div><div>                };</div><div>    })();</div></div></div><div><br /></div><div><br /></div><div><span><b>Quiz:</b></span> create a function (Not a Singleton Class) which can be executed only once, afterwards if you execute it does NOTHING. </div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">var</span> <span style="color:#dcdcaa">something</span> = (<span style="color:#569cd6">function</span>() {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">executed</span> = <span style="color:#569cd6">false</span>; <span style="color:#6a9955">// closure</span></div><div>        <span style="color:#c586c0">return</span> <span style="color:#569cd6">function</span>() {</div><div>            <span style="color:#c586c0">if</span> (!<span style="color:#9cdcfe">executed</span>) {</div><div>                <span style="color:#9cdcfe">executed</span> = <span style="color:#569cd6">true</span>;</div><div>                <span style="color:#6a9955">// do something</span></div><div>            }</div><div>        };</div><div>    })();</div><div>    </div><div>    <span style="color:#dcdcaa">something</span>(); <span style="color:#6a9955">// "do something" happens</span></div><div>    <span style="color:#dcdcaa">something</span>(); <span style="color:#6a9955"><span>//</span> nothing happens</span></div></div></div><div><br /></div><div><span style="font-size:13.3333px">2. Write a utility function that accepts a function as an argument </span><span style="background-color:transparent;font-size:13.3333px">and returns another function that calls the supplied function exactly once, regardless of how many times the returned function is called. The returned function also caches the value first returned by the supplied function and returns that on subsequent calls.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">once</span>(<span style="color:#9cdcfe">fn</span>, <span style="color:#9cdcfe">context</span>) { </div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">result</span>;</div><div>        <span style="color:#c586c0">return</span> <span style="color:#569cd6">function</span>() { </div><div>            <span style="color:#c586c0">if</span> (<span style="color:#9cdcfe">fn</span>) {</div><div>                <span style="color:#9cdcfe">result</span> = <span style="color:#9cdcfe">fn</span>.<span style="color:#dcdcaa">apply</span>(<span style="color:#9cdcfe">context</span> || <span style="color:#569cd6">this</span>, <span style="color:#569cd6">arguments</span>);</div><div>                <span style="color:#9cdcfe">fn</span> = <span style="color:#569cd6">null</span>; <span style="color:rgb(106,153,85)">// </span></div><div>            }</div><div>            <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">result</span>;</div><div>        };</div><div>    }</div></div></div><div><br /></div><div><b style="background-color:transparent">Factory Method: </b><span style="background-color:transparent;font-size:13.3333px"><span>creates objects without specifying the exact class to create.</span></span></div><div><span style="font-size:13.3333px">* Clients don't know anything about the exact internal classes name's for create an object of particular type instead they know about the Factory method.</span></div><div><span style="font-size:13.3333px">* Factory method knows the details about the internal classes and create an object as per the object type request by the clients. </span></div><div><span style="font-size:13.3333px">* i.e., deferring the object creation to Factory.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Prefer Factory method when :</span></div><div><div><span style="font-size:13.3333px">* Creation of object involves some complex steps like creating from several sources.</span></div><div><span style="font-size:13.3333px">* Creating multiple objects with same structure but with different data.</span></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Example 1:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Bmw</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">model</span>, <span style="color:#9cdcfe">price</span>, <span style="color:#9cdcfe">maxSpeed</span>) {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">model</span> = <span style="color:#9cdcfe">model</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">price</span> = <span style="color:#9cdcfe">price</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">maxSpeed</span> = <span style="color:#9cdcfe">maxSpeed</span>;</div><div>        }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">BmwFactory</span> {</div><div>            <span style="color:#dcdcaa">create</span>(<span style="color:#9cdcfe">type</span>) {</div><div>                <span style="color:#6a9955">// very depth switch-case HELL is possible !</span></div><div>                <span style="color:#c586c0">switch</span>(<span style="color:#9cdcfe">type</span>)</div><div>                {</div><div>                    <span style="color:#c586c0">case</span> <span style="color:#ce9178">'X5'</span>:</div><div>                        <span style="color:#c586c0">return</span> <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Bmw</span>(<span style="color:#9cdcfe">type</span>, <span style="color:#b5cea8">108000</span>, <span style="color:#b5cea8">300</span>);</div><div>                        <span style="color:#c586c0">break</span>;</div><div>                    <span style="color:#c586c0">case</span> <span style="color:#ce9178">'X6'</span>:</div><div>                        <span style="color:#c586c0">return</span> <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Bmw</span>(<span style="color:#9cdcfe">type</span>, <span style="color:#b5cea8">111000</span>, <span style="color:#b5cea8">320</span>);</div><div>                        <span style="color:#c586c0">break</span>;</div><div>                }</div><div>            }</div><div>    }</div><br /><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">factory</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">BmwFactory</span>();</div><br /><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">x5</span> = <span style="color:#4fc1ff">factory</span>.<span style="color:#dcdcaa">create</span>(<span style="color:#ce9178">'X5'</span>);</div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">x6</span> = <span style="color:#4fc1ff">factory</span>.<span style="color:#dcdcaa">create</span>(<span style="color:#ce9178">'X6'</span>);</div><br /><div>    <span style="color:rgb(156,220,254)">console</span>.<span style="color:rgb(220,220,170)">log</span>(<span style="color:rgb(79,193,255)">x5</span>); <span style="color:rgb(106,153,85)">// Bmw { model: 'X5', price: 108000, maxSpeed: 300 }</span></div><div style="line-height:22px"><div><span style="color:#9cdcfe">    console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">x6</span>); <span style="color:#6a9955">// Bmw { model: 'X6', price: 111000, maxSpeed: 320 }</span></div></div></div></div><div><br /></div><div><span style="font-size:13.3333px">Example 2:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(106,153,85)">// parent constructor</span></div><div>    <span style="color:#569cd6">function</span> <span style="color:#4ec9b0">CarMaker</span>() {}</div><div>    <span style="color:#6a9955">// a method of the parent</span></div><div>    <span style="color:#4ec9b0">CarMaker</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">drive</span> = <span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#c586c0">return</span> <span style="color:#ce9178">"Vroom, I have "</span> + <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">doors</span> + <span style="color:#ce9178">" doors"</span>;</div><div>    };</div><br /><div>    <span style="color:#6a9955">// Static factory method</span></div><div>    <span style="color:#4ec9b0">CarMaker</span>.<span style="color:#dcdcaa">factory</span> = <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">type</span>) {</div><div>        <span style="color:#6a9955">// (optional) let's have it inherit the parent but only once</span></div><div>        <span style="color:#c586c0">if</span> (<span style="color:#569cd6">typeof</span> <span style="color:#4ec9b0">CarMaker</span>[<span style="color:#9cdcfe">type</span>].<span style="color:#9cdcfe">prototype</span>.<span style="color:#9cdcfe">drive</span> !== <span style="color:#ce9178">"function"</span>) {</div><div>            <span style="color:#4ec9b0">CarMaker</span>[<span style="color:#9cdcfe">type</span>].<span style="color:#9cdcfe">prototype</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">CarMaker</span>();</div><div>        }</div><div>        <span style="color:#6a9955">// create a new instance</span></div><div>        <span style="color:#9cdcfe">newcar</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">CarMaker</span>[<span style="color:#9cdcfe">type</span>]();</div><div>        <span style="color:#6a9955">// optionally call some methods and then return...</span></div><div>        <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">newcar</span>;</div><div>    };</div><div>    <span style="color:#6a9955">// Static method for making specific car</span></div><div>    <span style="color:#4ec9b0">CarMaker</span>.<span style="color:#dcdcaa">SUV</span> = <span style="color:#569cd6">function</span> () { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">doors</span> = <span style="color:#b5cea8">5</span>; };</div><div>    <span style="color:#4ec9b0">CarMaker</span>.<span style="color:#dcdcaa">Executive</span> = <span style="color:#569cd6">function</span> () { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">doors</span> = <span style="color:#b5cea8">4</span>; };</div><div>    <span style="color:#4ec9b0">CarMaker</span>.<span style="color:#dcdcaa">Convertible</span> = <span style="color:#569cd6">function</span> () { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">doors</span> = <span style="color:#b5cea8">2</span>; };</div><br /><div>    <span style="color:#6a9955">// Create object by 'type name string' NOT by 'new'</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">swift</span>  = <span style="color:#4ec9b0">CarMaker</span>.<span style="color:#dcdcaa">factory</span>(<span style="color:#ce9178">'Executive'</span>);</div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">bmw</span>  = <span style="color:#4ec9b0">CarMaker</span>.<span style="color:#dcdcaa">factory</span>(<span style="color:#ce9178">'Executive'</span>);</div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">solstice</span> = <span style="color:#4ec9b0">CarMaker</span>.<span style="color:#dcdcaa">factory</span>(<span style="color:#ce9178">'Convertible'</span>);</div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">strom</span> = <span style="color:#4ec9b0">CarMaker</span>.<span style="color:#dcdcaa">factory</span>(<span style="color:#ce9178">'SUV'</span>);</div><br /><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">swift</span>.<span style="color:#dcdcaa">drive</span>());  <span style="color:#6a9955">// "Vroom, I have 4 doors"</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">bmw</span>.<span style="color:#dcdcaa">drive</span>());  <span style="color:#6a9955">// "Vroom, I have 4 doors"</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">solstice</span>.<span style="color:#dcdcaa">drive</span>()); <span style="color:#6a9955">// "Vroom, I have 2 doors"</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">strom</span>.<span style="color:#dcdcaa">drive</span>()); <span style="color:#6a9955">// "Vroom, I have 5 doors"</span></div></div></div><div><br /></div><div><span style="font-size:13.3333px"><b>Abstract Factory:</b> G</span><span style="background-color:transparent;font-size:13.3333px">roups object factories that have a common theme.</span></div><div><span style="background-color:transparent;font-size:13.3333px">A<b> factory of factories</b>, a factory that groups the individual but related/dependent factories together without specifying their concrete classes.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Door interface - 1</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">WoodenDoor</span> {</div><div>        <span style="color:#dcdcaa">getDescription</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'I am a wooden door'</span>); }</div><div>    }</div><div>    <span style="color:#6a9955">// Door interface - 2</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">IronDoor</span> {</div><div>        <span style="color:#dcdcaa">getDescription</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'I am an iron door'</span>); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Then we have some fitting experts for each door type</span></div><div>    <span style="color:#6a9955">// DoorFittingExpert interface - 1</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Welder</span> {</div><div>        <span style="color:#dcdcaa">getDescription</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'I can only fit iron doors'</span>); }</div><div>    }</div><div>    <span style="color:#6a9955">// DoorFittingExpert interface - 2</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Carpenter</span> {</div><div>        <span style="color:#dcdcaa">getDescription</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'I can only fit wooden doors'</span>); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Now we have our abstract factory that would let us make family of related objects </span></div><div>    <span style="color:#6a9955">// i.e. wooden door factory would create a wooden door and wooden door fitting expert and </span></div><div>    <span style="color:#6a9955">// iron door factory would create an iron door and iron door fitting expert</span></div><br /><div>    <span style="color:#6a9955">// DoorFactory interface :</span></div><div>    <span style="color:#6a9955">// WoodenDoorAbstractFactory to return carpenter and wooden door</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">WoodenDoorAbstractFactory</span> {</div><div>        <span style="color:#dcdcaa">makeDoor</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">WoodenDoor</span>(); }           <span style="color:rgb(106,153,85)">// Factory</span></div><div>        <span style="color:#dcdcaa">makeFittingExpert</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Carpenter</span>(); }   <span style="color:rgb(106,153,85)">// Factory</span></div><div>    }</div><br /><div>    <span style="color:#6a9955">// IronDoorAbstractFactory to get iron door and the relevant fitting expert</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">IronDoorAbstractFactory</span> {</div><div>        <span style="color:#dcdcaa">makeDoor</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">IronDoor</span>(); }            <span style="color:rgb(106,153,85)">// Factory</span></div><div>        <span style="color:#dcdcaa">makeFittingExpert</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Welder</span>(); }     <span style="color:rgb(106,153,85)">// Factory</span></div><div>    }</div><br /><div>    <span style="color:#6a9955">// Usage</span></div><div>    <span style="color:#9cdcfe">woodenFactory</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">WoodenDoorAbstractFactory</span>();</div><div>    <span style="color:#9cdcfe">door</span> = <span style="color:#9cdcfe">woodenFactory</span>.<span style="color:#dcdcaa">makeDoor</span>();</div><div>    <span style="color:#9cdcfe">expert</span> = <span style="color:#9cdcfe">woodenFactory</span>.<span style="color:#dcdcaa">makeFittingExpert</span>();</div><div>    <span style="color:#9cdcfe">door</span>.<span style="color:#dcdcaa">getDescription</span>();  <span style="color:#6a9955">//  I am a wooden door</span></div><div>    <span style="color:#9cdcfe">expert</span>.<span style="color:#dcdcaa">getDescription</span>(); <span style="color:#6a9955">// I can only fit wooden doors</span></div><br /><div>    <span style="color:#6a9955">// Same for Iron Factory</span></div><div>    <span style="color:#9cdcfe">ironFactory</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">IronDoorAbstractFactory</span>();</div><div>    <span style="color:#9cdcfe">door</span> = <span style="color:#9cdcfe">ironFactory</span>.<span style="color:#dcdcaa">makeDoor</span>();</div><div>    <span style="color:#9cdcfe">expert</span> = <span style="color:#9cdcfe">ironFactory</span>.<span style="color:#dcdcaa">makeFittingExpert</span>();</div><div>    <span style="color:#9cdcfe">door</span>.<span style="color:#dcdcaa">getDescription</span>();   <span style="color:#6a9955">// I am an iron door</span></div><div>    <span style="color:#9cdcfe">expert</span>.<span style="color:#dcdcaa">getDescription</span>(); <span style="color:#6a9955">// I can only fit iron doors</span></div></div></div><div><br /></div><div>Template Method: </div><div><span style="background-color:transparent">               Template method defines the skeleton of class, how certain algorithm/steps could be performed but </span><span style="background-color:transparent"><b>defers </b>the implementation of those </span></div><div><span style="background-color:transparent">               steps to the children classes.</span></div><div><div style="background-color:rgb(30,30,30);line-height:22px"><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">    </div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Car</span> {</div><div><span style="color:rgb(106,153,85);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">        // Template method  - </span><font color="#6a9955" face="Consolas, Courier New, monospace"><span style="font-size:16px;white-space:pre">specifies the skeleton for car assembly process steps</span></font></div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">        <span style="color:#dcdcaa">build</span>() {</div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">addEngine</span>();</div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">addElectronic</span>();</div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">        }</div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">    }</div><br /><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">TeslaCar</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Car</span> {</div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">        <span style="color:#dcdcaa">addEngine</span>()     { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Added Tesla Electronic Engine'</span>); }</div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">        <span style="color:#dcdcaa">addElectronic</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Added special electronic'</span>); }</div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">    }</div><br /><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">BmwCar</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Car</span> {</div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">        <span style="color:#dcdcaa">addEngine</span>()     { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Added Bmw Diesel Engine'</span>); }</div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">        <span style="color:#dcdcaa">addElectronic</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Added diesel specific electronic'</span>); }</div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">    }</div><br /><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">tesla</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">TeslaCar</span>();</div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">bmw</span>   = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">BmwCar</span>();</div><br /><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">    <span style="color:#4fc1ff">tesla</span>.<span style="color:#dcdcaa">build</span>();</div><div style="color:rgb(212,212,212);font-family:Consolas,Courier New,monospace;font-size:16px;white-space:pre">    <span style="color:#4fc1ff">bmw</span>.<span style="color:#dcdcaa">build</span>();</div></div></div><div><br /></div><div><br /></div><div><b>Prototype Pattern: </b><span style="font-size:13.3333px"><span style="background-color:transparent"><span>creates objects by cloning an existing object.</span></span></span></div><div>Clone the existing (prototype/model/basic ) object and then customize the cloned object as per the needs.</div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">TeslaCar</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">model</span>, <span style="color:#9cdcfe">interior</span>, <span style="color:#9cdcfe">autopilot</span>) {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">model</span> = <span style="color:#9cdcfe">model</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">interior</span> = <span style="color:#9cdcfe">interior</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">autopilot</span> = <span style="color:#9cdcfe">autopilot</span>;</div><div>        }</div><br /><div>        <span style="color:#dcdcaa">clone</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">TeslaCar</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">model</span>, <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">interior</span>, <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">autopilot</span>); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Produce a basic car</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">prototypeCar</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">TeslaCar</span>(<span style="color:#ce9178">'S'</span>, <span style="color:#ce9178">'black'</span>, <span style="color:#569cd6">false</span>);</div><br /><div>    <span style="color:#6a9955">// Clone the basic car model</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">car1</span> = <span style="color:#4fc1ff">prototypeCar</span>.<span style="color:#dcdcaa">clone</span>();</div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">car2</span> = <span style="color:#4fc1ff">prototypeCar</span>.<span style="color:#dcdcaa">clone</span>();</div><br /><div>    <span style="color:#6a9955">// Customize the car as per the customer request</span></div><div>    <span style="color:#4fc1ff">car1</span>.<span style="color:#9cdcfe">interior</span> = <span style="color:#ce9178">'white'</span>;</div><div>    <span style="color:#4fc1ff">car1</span>.<span style="color:#9cdcfe">autoPilot</span> = <span style="color:#569cd6">true</span>;</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">car1</span>);<span style="color:#6a9955">//  { model: 'S', interior: 'white', autopilot: true }</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">car2</span>); <span style="color:#6a9955">// { model: 'S', interior: 'black', autopilot: false } - Untouched</span></div></div></div><div><br /></div><div><br /></div><div><span style="background-color:transparent"><b>Flyweight / Lightweight / Cache / Dictionary Pattern:</b></span></div><div><div><span style="font-size:13.3333px">* To save the memory occupied by objects - </span><span style="background-color:transparent;font-size:10pt">Created objects are saved in a dictionary/cache and will be reused if there is need for similar kind of the object.</span></div><div><span style="font-size:13.3333px">* Objects are created using <b>Factory method</b></span></div><div><span style="font-size:13.3333px">* Move the data which are common to all the objects to common place and make it immutable.</span></div></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Car</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">model</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">model</span> = <span style="color:#9cdcfe">model</span>; }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">CarFactory</span> {</div><div>        <span style="color:#569cd6">constructor</span>() {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">models</span> = {}; <span style="color:#6a9955">// Cache / Dictionary</span></div><div>        }</div><br /><div>        <span style="color:#dcdcaa">create</span>(<span style="color:#9cdcfe">name</span>) {</div><div>            <span style="color:#569cd6">let</span> <span style="color:#9cdcfe">model</span> = <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">models</span>[<span style="color:#9cdcfe">name</span>];</div><div>            <span style="color:#c586c0">if</span> (<span style="color:#9cdcfe">model</span>) <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">model</span>; <span style="color:#6a9955">// reuse if already exist</span></div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">models</span>[<span style="color:#9cdcfe">name</span>] = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Car</span>(<span style="color:#9cdcfe">name</span>); <span style="color:#6a9955">// Cache the object for reuse</span></div><div>            <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">models</span>[<span style="color:#9cdcfe">name</span>];</div><div>        }</div><br /><div>        <span style="color:#dcdcaa">getModels</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">models</span>; }</div><div>    }</div><br /><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">factory</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">CarFactory</span>();</div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">bmw1</span> = <span style="color:#4fc1ff">factory</span>.<span style="color:#dcdcaa">create</span>(<span style="color:#ce9178">'BMW'</span>);</div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">audi1</span> = <span style="color:#4fc1ff">factory</span>.<span style="color:#dcdcaa">create</span>(<span style="color:#ce9178">'Audi'</span>);</div><br /><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">bmw2</span> = <span style="color:#4fc1ff">factory</span>.<span style="color:#dcdcaa">create</span>(<span style="color:#ce9178">'BMW'</span>); <span style="color:#6a9955">// reuse the existing object</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">audi2</span> = <span style="color:#4fc1ff">factory</span>.<span style="color:#dcdcaa">create</span>(<span style="color:#ce9178">'Audi'</span>);</div><br /><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">table</span>(<span style="color:#4fc1ff">factory</span>.<span style="color:#dcdcaa">getModels</span>()); <span style="color:rgb(106,153,85)">// { BMW: Car { model: 'BMW' }, Audi: Car { model: 'Audi' } }</span></div></div></div><div><br /></div><div><span style="background-color:transparent"><b>Builder Pattern:</b> </span><span style="background-color:transparent;font-size:10pt">Allows you to create the objects with different flavors and also avoids constructor pollution. </span><span style="background-color:transparent;font-size:10pt">Builders are about specifying a complete configuration for an object and then constructing it in a complete state all at once.</span></div><div><br /></div><div><span style="font-size:13.3333px"><span><b>Hints:</b></span></span></div><div><span style="font-size:13.3333px">1. Object construction is not a single step process. Need to create a <b>complex object </b>which should gives the options for customization.</span></div><div><span style="font-size:13.3333px">2. Chaining in object creation using<span><b> 'return this'</b></span> and 'dot' operators (like </span><span style="background-color:transparent;font-size:13.3333px">Fluent API style</span><span style="background-color:transparent">).</span></div><div><span style="font-size:13.3333px">3. Basic object is constructed first using the default values and then customization will takes place in the object just like the Decorator pattern.</span></div><div><span style="font-size:13.3333px">4. </span><span style="background-color:transparent">Gives a solution to the <span><b>telescoping constructor</b></span> anti-pattern.</span></div><div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Telescoping constructor Anti-Pattern (big list of arguments)</span></div><div>    <span style="color:#dcdcaa">constructor</span>(<span style="color:#9cdcfe">size</span>, <span style="color:#9cdcfe">pepperoni</span> = <span style="color:#569cd6">true</span>, <span style="color:rgb(156,220,254)">cheese</span> = <span style="color:rgb(86,156,214)">true</span>, <span style="color:rgb(156,220,254)">tomato</span> = <span style="color:rgb(86,156,214)">false</span>, <span style="color:rgb(156,220,254)">lettuce</span> = <span style="color:rgb(86,156,214)">true</span>) {</div><div>        <span style="color:#6a9955">// ... </span></div><div>    }</div></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><span><b>Note: </b></span>This pattern which only makes sense if you need to assemble the object from some data which requires a <span><b>post-initialization</b></span> step (i.e. once all the data is collected - do something with it).</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><div><span style="font-size:13.3333px"><span><b>Fluent Interface:</b></span> It is not a builder pattern it is a style for the readability. </span><span style="background-color:transparent">The idea behind a Fluent interface is that one can apply multiple <b>properties </b>to an object by connecting them with dots, </span><span style="background-color:transparent;font-size:10pt">without having to re - specify the object each time. </span></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Factory </b>Pattern Vs <b>Builder </b>Pattern:</span></div><div><span style="font-size:13.3333px"><span><b>Factory Pattern:</b></span> <b>Client </b>ask the shop keeper (<b>Factory</b>) get me a <span><b>Cadbury's Dairy Milk</b></span> bar Chocolate</span><span style="background-color:transparent;font-size:10pt"> (<b>object</b>) from collection of other brand chocolates.</span></div><div><span style="background-color:transparent;font-size:10pt"><span><b>Builder Pattern:</b></span> <b>Client </b>ask the chief(<b>Builder</b>) prepare me a 10 inch <b>Pizza </b>with cheese, pepperoni and Chicken Tikka(<b>object</b>). </span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Example:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Pizza</span> {</div><div>        <span style="color:#569cd6">constructor</span>() { <span style="color:#6a9955">// Basic object constructed with default properties</span></div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">size</span> = <span style="color:#b5cea8">10</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">pepperoni</span> = <span style="color:#569cd6">false</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">cheese</span> = <span style="color:#569cd6">false</span>;</div><div>        }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">PizzaBuilder</span> {</div><div>        <span style="color:#6a9955">// Construct the basic object with default values</span></div><div>        <span style="color:#569cd6">constructor</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">instance</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Pizza</span>(); }</div><div>        <span style="color:#6a9955">// Available options to customize the constructed basic object</span></div><div>        <span style="color:#dcdcaa">setSize</span>(<span style="color:#9cdcfe">size</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">instance</span>.<span style="color:#9cdcfe">size</span> = <span style="color:#9cdcfe">size</span>;</div><div>                        <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>;</div><div>        }</div><div>        <span style="color:#dcdcaa">addPepperoni</span>(<span style="color:#9cdcfe">choice</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">instance</span>.<span style="color:#9cdcfe">pepperoni</span> = <span style="color:#9cdcfe">choice</span>;</div><div>                                <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>;</div><div>        }</div><div>        <span style="color:#dcdcaa">addCheese</span>(<span style="color:#9cdcfe">choice</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">instance</span>.<span style="color:#9cdcfe">cheese</span> = <span style="color:#9cdcfe">choice</span>;</div><div>                            <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>;</div><div>        }</div><div>        <span style="color:#dcdcaa">build</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">instance</span>; }</div><div>    }</div><br /><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">withoutBuilder</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Pizza</span>();</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">withoutBuilder</span>); <span style="color:#6a9955">// Pizza { size: 10, pepperoni: false, cheese: false }</span></div><br /><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">pizza</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">PizzaBuilder</span>()</div><div>                                    .<span style="color:#dcdcaa">setSize</span>(<span style="color:#b5cea8">14</span>)</div><div>                                    .<span style="color:#dcdcaa">addPepperoni</span>(<span style="color:#569cd6">true</span>)</div><div>                                    .<span style="color:#dcdcaa">addCheese</span>(<span style="color:#569cd6">false</span>)</div><div>                                    .<span style="color:#dcdcaa">build</span>();</div><br /><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">pizza</span>); <span style="color:#6a9955">// Pizza { size: 14, pepperoni: true, cheese: false }</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><b style="background-color:transparent;font-size:10pt">Decorator:</b></div><div><div><span style="font-size:13.3333px">* Chain of decoration one after another</span></div><div><span style="font-size:13.3333px">* Additional functionality can be added to an object dynamically, at runtime.</span></div></div><div><span style="font-size:13.3333px">* Normal methods do mutate the object, but decorators mutate behaviour by overwriting methods.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#6a9955">    // Method 1: Using array of function references</span></div><div>    <span style="color:#569cd6">function</span> <span style="color:#4ec9b0">Sale</span>(<span style="color:#9cdcfe">price</span>) {</div><div>        <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">price</span> = <span style="color:#9cdcfe">price</span> || <span style="color:#b5cea8">1</span>;</div><div>        <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">decorators_list</span> = [];</div><div>    }</div><br /><div>    <span style="color:#4ec9b0">Sale</span>.<span style="color:#9cdcfe">decorators</span> = {}; <span style="color:rgb(106,153,85)">// must otherwise - Cannot set property 'centralTax' of undefined</span></div><div>    <span style="color:#4ec9b0">Sale</span>.<span style="color:#9cdcfe">decorators</span>.<span style="color:#9cdcfe">centralTax</span> = {</div><div>        <span style="color:#dcdcaa">getPrice</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">price</span>) { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">price</span> + <span style="color:#9cdcfe">price</span> * <span style="color:#b5cea8">2</span> / <span style="color:#b5cea8">100</span>; }</div><div>    };</div><div>    <span style="color:#4ec9b0">Sale</span>.<span style="color:#9cdcfe">decorators</span>.<span style="color:#9cdcfe">stateTax</span> = {</div><div>        <span style="color:#dcdcaa">getPrice</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">price</span>) { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">price</span> + <span style="color:#9cdcfe">price</span> * <span style="color:#b5cea8">3</span> / <span style="color:#b5cea8">100</span>; }</div><div>    };</div><br /><div>    <span style="color:#4ec9b0">Sale</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">decorate</span> = <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">taxType</span>) {</div><div>        <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">decorators_list</span>.<span style="color:#dcdcaa">push</span>(<span style="color:#9cdcfe">taxType</span>);</div><div>    };</div><div>    <span style="color:#4ec9b0">Sale</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">getPrice</span> = <span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">price</span> = <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">price</span>,</div><div>            <span style="color:#9cdcfe">i</span>,</div><div>            <span style="color:#9cdcfe">max</span> = <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">decorators_list</span>.<span style="color:#9cdcfe">length</span>,</div><div>            <span style="color:#9cdcfe">name</span>;</div><div>        <span style="color:#c586c0">for</span> (<span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">0</span>; <span style="color:#9cdcfe">i</span> &lt; <span style="color:#9cdcfe">max</span>; <span style="color:#9cdcfe">i</span> += <span style="color:#b5cea8">1</span>) {</div><div>            <span style="color:#9cdcfe">name</span> = <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">decorators_list</span>[<span style="color:#9cdcfe">i</span>];</div><div>            <span style="color:#9cdcfe">price</span> = <span style="color:#4ec9b0">Sale</span>.<span style="color:#9cdcfe">decorators</span>[<span style="color:#9cdcfe">name</span>].<span style="color:#dcdcaa">getPrice</span>(<span style="color:#9cdcfe">price</span>);</div><div>        }</div><div>        <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">price</span>;</div><div>    };</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">sale</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Sale</span>(<span style="color:#b5cea8">100</span>);     <span style="color:#6a9955">// base price is 100 dollars</span></div><div>    <span style="color:#9cdcfe">sale</span>.<span style="color:#dcdcaa">decorate</span>(<span style="color:#ce9178">'centralTax'</span>);  <span style="color:#6a9955">// add Central tax</span></div><div>    <span style="color:#9cdcfe">sale</span>.<span style="color:#dcdcaa">decorate</span>(<span style="color:#ce9178">'stateTax'</span>);    <span style="color:#6a9955">// add State tax</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">sale</span>.<span style="color:#dcdcaa">getPrice</span>()); <span style="color:#6a9955">// 105.06 -  final price</span></div></div></div><div><br /></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#6a9955">// Method 2: - Using inheritance chain</span></div><div>    <span style="color:#569cd6">function</span> <span style="color:#4ec9b0">Sale</span>(<span style="color:#9cdcfe">price</span>) {</div><div>        <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">price</span> = <span style="color:#9cdcfe">price</span> || <span style="color:#b5cea8">1</span>;</div><div>    }</div><div>    <span style="color:#4ec9b0">Sale</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">getPrice</span> = <span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">price</span>;</div><div>    };</div><br /><div>    <span style="color:#4ec9b0">Sale</span>.<span style="color:#9cdcfe">decorators</span> = {}; <span style="color:rgb(106,153,85)">// must otherwise - Cannot set property 'centralTax' of undefined</span></div><div>    <span style="color:#4ec9b0">Sale</span>.<span style="color:#9cdcfe">decorators</span>.<span style="color:#9cdcfe">centralTax</span> = {</div><div>        <span style="color:#dcdcaa">getPrice</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () { </div><div>            <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">price</span> = <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">uber</span>.<span style="color:#dcdcaa">getPrice</span>(); <span style="color:#6a9955">// goes to immediate parent</span></div><div>            <span style="color:#9cdcfe">price</span> += <span style="color:#9cdcfe">price</span> * <span style="color:#b5cea8">2</span> / <span style="color:#b5cea8">100</span>;</div><div>            <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">price</span>;</div><div>        }</div><div>    };</div><div>    <span style="color:#4ec9b0">Sale</span>.<span style="color:#9cdcfe">decorators</span>.<span style="color:#9cdcfe">stateTax</span> = {</div><div>        <span style="color:#dcdcaa">getPrice</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () {  </div><div>            <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">price</span> = <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">uber</span>.<span style="color:#dcdcaa">getPrice</span>(); <span style="color:#6a9955">// goes to immediate parent</span></div><div>            <span style="color:#9cdcfe">price</span> += <span style="color:#9cdcfe">price</span> * <span style="color:#b5cea8">3</span> / <span style="color:#b5cea8">100</span>;</div><div>            <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">price</span>;</div><div>        }</div><div>    };</div><br /><div>    <span style="color:#4ec9b0">Sale</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">decorate</span> = <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">taxType</span>) {</div><div>        <span style="color:#569cd6">var</span> <span style="color:rgb(156,220,254)">overrides</span> = <span style="color:rgb(86,156,214)">this</span>.<span style="color:rgb(156,220,254)">constructor</span>.<span style="color:rgb(156,220,254)">decorators</span>[<span style="color:rgb(156,220,254)">taxType</span>],</div><div>            <span style="color:#9cdcfe">i</span>;</div><div><div>        <span style="color:rgb(86,156,214)">var</span> <span style="color:rgb(156,220,254)">F</span> = <span style="color:rgb(86,156,214)">function</span> () {}, </div><div><span style="color:rgb(156,220,254)">            newobj</span>;</div></div><div><br /></div><div>        <span style="color:#9cdcfe">F</span>.<span style="color:#9cdcfe">prototype</span> = <span style="color:#569cd6">this</span>;</div><div>        <span style="color:#9cdcfe">newobj</span> = <span style="color:#569cd6">new</span> <span style="color:#9cdcfe">F</span>();</div><div>        <span style="color:#9cdcfe">newobj</span>.<span style="color:#9cdcfe">uber</span> = <span style="color:#9cdcfe">F</span>.<span style="color:#9cdcfe">prototype</span>; <span style="color:rgb(106,153,85)">// {price: 100}. </span><span style="color:rgb(106,153,85)">super - support (</span><span style="color:rgb(106,153,85)">Now you can call the parent methods).</span></div><div>        <span style="color:#c586c0">for</span> (<span style="color:#9cdcfe">i</span> <span style="color:#569cd6">in</span> <span style="color:#9cdcfe">overrides</span>) {</div><div>            <span style="color:#c586c0">if</span> (<span style="color:#9cdcfe">overrides</span>.<span style="color:#dcdcaa">hasOwnProperty</span>(<span style="color:#9cdcfe">i</span>)) {</div><div>                <span style="color:#9cdcfe">newobj</span>[<span style="color:#9cdcfe">i</span>] = <span style="color:#9cdcfe">overrides</span>[<span style="color:#9cdcfe">i</span>]; <span style="color:rgb(106,153,85)">// adds 'getPrice()' method</span></div><div>            }</div><div>        }</div><div>        <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">newobj</span>; <span style="color:rgb(106,153,85)">// {uber: {price: 100}, getPrice: ƒunction() { var price = this.uber.getPrice();...}}</span></div><div>    };</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">sale</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Sale</span>(<span style="color:#b5cea8">100</span>);     <span style="color:#6a9955">// base price is 100 dollars</span></div><div>    <span style="color:#6a9955">// Chaining by recursive assignment(=) is must for the object upgrade</span></div><div>    <span style="color:#9cdcfe">sale</span> = <span style="color:#9cdcfe">sale</span>.<span style="color:#dcdcaa">decorate</span>(<span style="color:#ce9178">'centralTax'</span>);  <span style="color:#6a9955">// add Central tax</span></div><div>    <span style="color:#9cdcfe">sale</span> = <span style="color:#9cdcfe">sale</span>.<span style="color:#dcdcaa">decorate</span>(<span style="color:#ce9178">'stateTax'</span>);    <span style="color:#6a9955">// add State tax</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">sale</span>.<span style="color:#dcdcaa">getPrice</span>()); <span style="color:#6a9955">// 105.06 -  final price</span></div></div></div><div><br /></div><div><span style="font-size:13.3333px">More example: <b>Decorate the X-mas tree.</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>            <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">tree</span> = {};</div><div>            <span style="color:#9cdcfe">tree</span>.<span style="color:#dcdcaa">decorate</span> = <span style="color:#569cd6">function</span> () { <span style="color:rgb(156,220,254)">console</span>.<span style="color:rgb(220,220,170)">log</span>(<span style="color:rgb(206,145,120)">'Make sure the tree won</span><span style="color:rgb(215,186,125)">\'</span><span style="color:rgb(206,145,120)">t fall'</span>); };</div><br /><div>            <span style="color:#9cdcfe">tree</span>.<span style="color:#dcdcaa">getDecorator</span> = <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">deco</span>) {</div><div>                <span style="color:#9cdcfe">tree</span>[<span style="color:#9cdcfe">deco</span>].<span style="color:#9cdcfe">prototype</span> = <span style="color:#569cd6">this</span>;</div><div>                <span style="color:#c586c0">return</span> <span style="color:#569cd6">new</span> <span style="color:#9cdcfe">tree</span>[<span style="color:#9cdcfe">deco</span>];</div><div>            };</div><br /><div>            <span style="color:#9cdcfe">tree</span>.<span style="color:#dcdcaa">RedBalls</span> = <span style="color:#569cd6">function</span> () {</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">decorate</span> = <span style="color:#569cd6">function</span> () {</div><div>                    <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">RedBalls</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">decorate</span>();</div><div>                    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Put on some red balls'</span>);</div><div>                }</div><div>            };</div><br /><div>            <span style="color:#9cdcfe">tree</span>.<span style="color:#dcdcaa">BlueBalls</span> = <span style="color:#569cd6">function</span> () {</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">decorate</span> = <span style="color:#569cd6">function</span> () {</div><div>                    <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">BlueBalls</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">decorate</span>();</div><div>                    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Add blue balls'</span>);</div><div>                }</div><div>            };</div><br /><div>            <span style="color:#9cdcfe">tree</span>.<span style="color:#dcdcaa">Angel</span> = <span style="color:#569cd6">function</span> () {</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">decorate</span> = <span style="color:#569cd6">function</span> () {</div><div>                    <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">Angel</span>.<span style="color:#9cdcfe">prototype</span>.<span style="color:#dcdcaa">decorate</span>();</div><div>                    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'An angel on the top'</span>);</div><div>                }</div><div>            };</div><br /><div>            <span style="color:#9cdcfe">tree</span> = <span style="color:#9cdcfe">tree</span>.<span style="color:#dcdcaa">getDecorator</span>(<span style="color:#ce9178">'BlueBalls'</span>); <span style="color:#6a9955">// '=' assignment is MUST</span></div><div>            <span style="color:#9cdcfe">tree</span> = <span style="color:#9cdcfe">tree</span>.<span style="color:#dcdcaa">getDecorator</span>(<span style="color:#ce9178">'Angel'</span>);     <span style="color:#6a9955">// '=' makes bottom to top traversal</span></div><div>            <span style="color:#9cdcfe">tree</span> = <span style="color:#9cdcfe">tree</span>.<span style="color:#dcdcaa">getDecorator</span>(<span style="color:#ce9178">'RedBalls'</span>);</div><br /><div>            <span style="color:#9cdcfe">tree</span>.<span style="color:#dcdcaa">decorate</span>();</div><div><br /></div><div><div style="line-height:22px"><div><span style="color:#6a9955">    Output: </span></div><div><span style="color:#6a9955">        Make sure the tree won't fall</span></div><div><span style="color:#6a9955">        Add blue balls</span></div><div><span style="color:#6a9955">        An angel on the top</span></div><div><span style="color:#6a9955">        Put on some red balls</span></div></div></div></div></div><div><br /></div><div><b style="background-color:transparent">Composition: </b></div><div><span style="background-color:transparent;font-size:13.3333px"><span>    </span>The composite pattern describes that a<b> group of objects</b> is to be <b>treated </b>in the same way as a <b>single </b>instance of an object. </span></div><div><span style="font-size:13.3333px">    Implementing the composite pattern lets the clients treat individual objects and composition of objects - uniformly.</span></div><div><span style="font-size:13.3333px">Real world example:</span></div><div><span style="font-size:13.3333px">   Every organization is composed of employees. Each of the employees has same features i.e. has a salary, has some responsibilities, may or may not </span></div><div><span style="font-size:13.3333px">   report to someone, may or may not have some subordinates etc.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Different Employee interfaces</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Coder</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">name</span>, <span style="color:#9cdcfe">salary</span>) {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span> = <span style="color:#9cdcfe">name</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">salary</span> = <span style="color:#9cdcfe">salary</span>;</div><div>        }</div><div>        <span style="color:#dcdcaa">getName</span>()   { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span>; }</div><div>        <span style="color:#dcdcaa">getSalary</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">salary</span>; }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Artist</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">name</span>, <span style="color:#9cdcfe">salary</span>) {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span> = <span style="color:#9cdcfe">name</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">salary</span> = <span style="color:#9cdcfe">salary</span>;</div><div>        }</div><div>        <span style="color:#dcdcaa">getName</span>()   { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span>; }</div><div>        <span style="color:#dcdcaa">getSalary</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">salary</span>; }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Then we have an organization which consists of several different types of employees</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Organization</span> {</div><div>        <span style="color:#569cd6">constructor</span>()    { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">employees</span> = []; }</div><div>        <span style="color:#dcdcaa">addEmployee</span>(<span style="color:#9cdcfe">emp</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">employees</span>.<span style="color:#dcdcaa">push</span>(<span style="color:#9cdcfe">emp</span>); }</div><div>        <span style="color:#dcdcaa">getNetSalaries</span>() {</div><div>            <span style="color:#569cd6">let</span> <span style="color:#9cdcfe">netSalary</span> = <span style="color:#b5cea8">0</span>;</div><div>            <span style="color:#6a9955">// this.employees.forEach(emp =&gt; { netSalary += emp.getSalary(); });</span></div><div>            <span style="color:#9cdcfe">netSalary</span> = <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">employees</span>.<span style="color:#dcdcaa">map</span>(<span style="color:#9cdcfe">emp</span> <span style="color:#569cd6">=&gt;</span> <span style="color:#9cdcfe">emp</span>.<span style="color:#dcdcaa">getSalary</span>()).<span style="color:#dcdcaa">reduce</span>((<span style="color:#9cdcfe">a</span>, <span style="color:#9cdcfe">b</span>) <span style="color:#569cd6">=&gt;</span> <span style="color:#9cdcfe">a</span> + <span style="color:#9cdcfe">b</span>);</div><div>            <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">netSalary</span>;</div><div>        }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Usage</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">russ</span> = <span style="color:#569cd6">new</span> <span style="color:rgb(78,201,176)">Coder</span>(<span style="color:#ce9178">'Russ Pierre'</span>, <span style="color:#b5cea8">12000</span>);</div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">king</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Artist</span>(<span style="color:#ce9178">'Rich King'</span>, <span style="color:#b5cea8">10000</span>);</div><div>    <span style="color:#6a9955">// Add them to organization</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">organization</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Organization</span>();</div><div>    <span style="color:#4fc1ff">organization</span>.<span style="color:#dcdcaa">addEmployee</span>(<span style="color:#4fc1ff">russ</span>);</div><div>    <span style="color:#4fc1ff">organization</span>.<span style="color:#dcdcaa">addEmployee</span>(<span style="color:#9cdcfe">king</span>);</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">"Net salaries: "</span> , <span style="color:#4fc1ff">organization</span>.<span style="color:#dcdcaa">getNetSalaries</span>()); <span style="color:#6a9955">// Net Salaries: 22000</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Example 2:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Equipment</span> {</div><div>        <span style="color:#dcdcaa">getPrice</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">price</span> || <span style="color:#b5cea8">0</span>; }</div><div>        <span style="color:#dcdcaa">getName</span>()  { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span>; }</div><div>        <span style="color:#dcdcaa">setName</span>(<span style="color:#9cdcfe">name</span>)   { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span> = <span style="color:#9cdcfe">name</span>; }</div><div>        <span style="color:#dcdcaa">setPrice</span>(<span style="color:#9cdcfe">price</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">price</span> = <span style="color:#9cdcfe">price</span>; }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Engine</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Equipment</span> {</div><div>        <span style="color:#569cd6">constructor</span>() {</div><div>            <span style="color:#569cd6">super</span>(); <span style="color:#6a9955">// must</span></div><div>            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">setName</span>(<span style="color:#ce9178">'Engine'</span>);</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">setPrice</span>(<span style="color:#b5cea8">800</span>);</div><div>        }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Body</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Equipment</span> {</div><div>        <span style="color:#569cd6">constructor</span>() {</div><div>            <span style="color:#569cd6">super</span>();</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">setName</span>(<span style="color:#ce9178">'Body'</span>);</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">setPrice</span>(<span style="color:#b5cea8">3000</span>);</div><div>        }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Composite</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Equipment</span> {</div><div>        <span style="color:#569cd6">constructor</span>() {</div><div>            <span style="color:#569cd6">super</span>();</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">equipments</span> = [];</div><div>        }</div><div>        <span style="color:#dcdcaa">add</span>(<span style="color:#9cdcfe">obj</span>)   { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">equipments</span>.<span style="color:#dcdcaa">push</span>(<span style="color:#9cdcfe">obj</span>); }</div><div>        <span style="color:#dcdcaa">getPrice</span>() { <span style="color:rgb(197,134,192)">return</span> <span style="color:rgb(86,156,214)">this</span>.<span style="color:rgb(156,220,254)">equipments</span></div><div>                                            .<span style="color:#dcdcaa">map</span>(<span style="color:#9cdcfe">obj</span> <span style="color:#569cd6">=&gt;</span> <span style="color:#9cdcfe">obj</span>.<span style="color:#dcdcaa">getPrice</span>())</div><div>                                            .<span style="color:#dcdcaa">reduce</span>((<span style="color:#9cdcfe">a</span>, <span style="color:#9cdcfe">b</span>) <span style="color:#569cd6">=&gt;</span> <span style="color:#9cdcfe">a</span> + <span style="color:#9cdcfe">b</span>);</div><div>                   }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Car</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Composite</span> {</div><div>        <span style="color:#569cd6">constructor</span>() {</div><div>            <span style="color:#569cd6">super</span>();</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">setName</span>(<span style="color:#ce9178">'Audi'</span>);</div><div>        }</div><div>    }</div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><br /></div><span style="color:rgb(106,153,85)">    // Usage</span><br /><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">myCar</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Car</span>();</div><div>    <span style="color:#4fc1ff">myCar</span>.<span style="color:#dcdcaa">add</span>(<span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Engine</span>());</div><div>    <span style="color:#4fc1ff">myCar</span>.<span style="color:#dcdcaa">add</span>(<span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Body</span>());</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">`</span><span style="color:#569cd6">${</span><span style="color:#4fc1ff">myCar</span>.<span style="color:#dcdcaa">getName</span>()<span style="color:#569cd6">}</span><span style="color:#ce9178"> price is </span><span style="color:#569cd6">${</span><span style="color:#4fc1ff">myCar</span>.<span style="color:#dcdcaa">getPrice</span>()<span style="color:#569cd6">}</span><span style="color:#ce9178">`</span>); <span style="color:#6a9955">// Audi price is 3800</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Bridge:</b></span></div><div><div><span style="font-size:13.3333px">Bridge pattern is about preferring <b>composition </b><i>over inheritance. </i></span></div><div><span style="font-size:13.3333px">Converts a object with <b>very depth hierarchy</b> to individual objects with a <b>separate hierarchies.</b></span></div></div><div><span style="font-size:13.3333px"><b><br /></b></span></div><div><div><span style="font-size:13.3333px"><b>Real world example:</b></span></div><div><span style="font-size:13.3333px">Consider you have a website with different pages and you are supposed to allow the user to change the theme. What would you do? </span></div><div><span style="font-size:13.3333px">   1. Create multiple copies of each of the pages for each of the themes or </span></div><div><span style="font-size:13.3333px">   2. Would you just create separate theme and load them based on the user's preferences? </span></div><div><span style="font-size:13.3333px">Bridge pattern allows you to do the second i.e.</span></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="../../../../../86e9e8bf-a-62cb3a1a-s-sites.googlegroups.com/site/sridharkritha/home/javascript/js-design-patterns/bridge78c9.png?attredirects=0" imageanchor="1"><img border="0" src="../../_/rsrc/1598169664678/home/javascript/js-design-patterns/bridge.png" style="width:100%" /></a></div></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// 1. Web page interface - one hierarchy</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">AboutPage</span> { </div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">theme</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">theme</span> = <span style="color:#9cdcfe">theme</span>; }</div><div>        <span style="color:#dcdcaa">getContent</span>() { <span style="color:#c586c0">return</span> <span style="color:#ce9178">"About page in "</span> + <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">theme</span>.<span style="color:#dcdcaa">getColor</span>(); }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">CareersPage</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">theme</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">theme</span> = <span style="color:#9cdcfe">theme</span>; }</div><div>        <span style="color:#dcdcaa">getContent</span>() { <span style="color:#c586c0">return</span> <span style="color:#ce9178">"Careers page in "</span> + <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">theme</span>.<span style="color:#dcdcaa">getColor</span>(); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// 2. Theme interface - another hierarchy</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">DarkTheme</span> {</div><div>            <span style="color:#dcdcaa">getColor</span>() { <span style="color:#c586c0">return</span> <span style="color:#ce9178">'Dark Black'</span>; }</div><div>    }</div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">LightTheme</span> {</div><div>            <span style="color:#dcdcaa">getColor</span>() { <span style="color:#c586c0">return</span> <span style="color:#ce9178">'Off white'</span>; }</div><div>    }</div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">AquaTheme </span>{</div><div>            <span style="color:#dcdcaa">getColor</span>() { <span style="color:#c586c0">return</span> <span style="color:#ce9178">'Light blue'</span>; }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// And both the hierarchies</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">darkTheme</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">DarkTheme</span>();</div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">about</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">AboutPage</span>(<span style="color:#4fc1ff">darkTheme</span>); <span style="color:rgb(106,153,85)">// Connect / Bridge the hierarchies </span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">careers</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">CareersPage</span>(<span style="color:#4fc1ff">darkTheme</span>);</div><br /><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">about</span>.<span style="color:#dcdcaa">getContent</span>());   <span style="color:#6a9955">// "About page in Dark Black"</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">careers</span>.<span style="color:#dcdcaa">getContent</span>()); <span style="color:#6a9955">// "Careers page in Dark Black"</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Example 2:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// One hierarchy</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Color</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">color</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">color</span> = <span style="color:#9cdcfe">color</span>; }</div><div>        <span style="color:#dcdcaa">get</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">color</span>; }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">BlackColor</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Color</span> {</div><div>        <span style="color:#569cd6">constructor</span>() { <span style="color:#569cd6">super</span>(<span style="color:#ce9178">"dark-black"</span>); }</div><div>    }</div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">RedColor</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Color</span> {</div><div>        <span style="color:#569cd6">constructor</span>() { <span style="color:#569cd6">super</span>(<span style="color:#ce9178">"Red"</span>); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Another hierarchy</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Model</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">colorInstance</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">colorInstance</span> = <span style="color:#9cdcfe">colorInstance</span>; }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Audi</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Model</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">colorInstance</span>) { <span style="color:#569cd6">super</span>(<span style="color:#9cdcfe">colorInstance</span>); }</div><div>        <span style="color:#dcdcaa">paint</span>() { <span style="color:#c586c0">return</span> <span style="color:#ce9178">`Audi, Color: </span><span style="color:#569cd6">${</span><span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">colorInstance</span>.<span style="color:#dcdcaa">get</span>()<span style="color:#569cd6">}</span><span style="color:#ce9178">`</span>; }</div><div>    }</div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Bmw</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Model</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">colorInstance</span>) { <span style="color:#569cd6">super</span>(<span style="color:#9cdcfe">colorInstance</span>); }</div><div>        <span style="color:#dcdcaa">paint</span>() { <span style="color:#c586c0">return</span> <span style="color:#ce9178">`Bmw, Color: </span><span style="color:#569cd6">${</span><span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">colorInstance</span>.<span style="color:#dcdcaa">get</span>()<span style="color:#569cd6">}</span><span style="color:#ce9178">`</span>; }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// We avoided creation of very specific class:</span></div><div>    <span style="color:#6a9955">// const blackBmw = new BlackColorBmw();</span></div><br /><div>    <span style="color:#6a9955">// Instead</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">blackBmw</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Bmw</span>(<span style="color:#569cd6">new</span> <span style="color:#4ec9b0">BlackColor</span>()); <span style="color:#6a9955">// Connect / Bridge two objects</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">blackBmw</span>.<span style="color:#dcdcaa">paint</span>());              <span style="color:#6a9955">// Bmw, Color: dark-black</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">redAudi</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Audi</span>(<span style="color:#569cd6">new</span> <span style="color:#4ec9b0">RedColor</span>());</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">redAudi</span>.<span style="color:#dcdcaa">paint</span>());               <span style="color:#6a9955">// Audi, Color: Red</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><b style="background-color:transparent">Strategy: </b><span style="background-color:transparent">Enables you to select the algorithms at runtime depends upon the requirement.</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div> <span style="color:rgb(106,153,85)">// Check the user data fields has only number, only alphanumerical and not empty fields.</span>  </div><div><span style="color:#569cd6">   var</span> <span style="color:#9cdcfe">validator</span> = {</div><div>        <span style="color:#6a9955">// all available type checks</span></div><div>        <span style="color:#9cdcfe">types</span><span style="color:#9cdcfe">:</span> {},</div><div>        <span style="color:#6a9955">// validation config</span></div><div>        <span style="color:#9cdcfe">config</span><span style="color:#9cdcfe">:</span> {},</div><div>        <span style="color:#6a9955">// the interface method</span></div><div>        <span style="color:#dcdcaa">validate</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">data</span>) {</div><div>            <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">i</span>, <span style="color:#9cdcfe">checker</span>, <span style="color:#9cdcfe">result_ok</span>;</div><div>            <span style="color:#c586c0">for</span> (<span style="color:#9cdcfe">i</span> <span style="color:#569cd6">in</span> <span style="color:#9cdcfe">data</span>) {</div><div>                <span style="color:#c586c0">if</span> (<span style="color:#9cdcfe">data</span>.<span style="color:#dcdcaa">hasOwnProperty</span>(<span style="color:#9cdcfe">i</span>)) {</div><div>                    <span>    </span><span style="color:rgb(156,220,254)">checker</span> = <span style="color:rgb(86,156,214)">this</span>.<span style="color:rgb(156,220,254)">types</span>[<span style="color:rgb(86,156,214)">this</span>.<span style="color:rgb(156,220,254)">config</span>[<span style="color:rgb(156,220,254)">i</span>]];</div><div>                    <span>    </span><span style="color:#9cdcfe">result_ok</span> = <span style="color:#9cdcfe">checker</span>.<span style="color:#dcdcaa">validate</span>(<span style="color:#9cdcfe">data</span>[<span style="color:#9cdcfe">i</span>]);</div><div>                    <span>    </span><span style="color:#c586c0">if</span> (!<span style="color:#9cdcfe">result_ok</span>) {</div><div>                        <span>    </span><span style="color:rgb(156,220,254)">console</span>.<span style="color:rgb(220,220,170)">log</span>(<span style="color:#ce9178">"Invalid value for -"</span> + <span style="color:#9cdcfe">i</span> + <span style="color:#ce9178">"-, "</span> + <span style="color:#9cdcfe">checker</span>.<span style="color:#9cdcfe">instructions</span>);                   </div><div>                    <span>    </span>}</div><div>                }</div><div>            }</div><div>        },</div><div>    };</div><br /><div>    <span style="color:#6a9955">// algorithm for checking the non-empty values</span></div><div>    <span style="color:#9cdcfe">validator</span>.<span style="color:#9cdcfe">types</span>.<span style="color:#9cdcfe">isNonEmpty</span> = {</div><div>        <span style="color:#dcdcaa">validate</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">value</span>) { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">value</span> !== <span style="color:#ce9178">""</span>; },</div><div>        <span style="color:#9cdcfe">instructions</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">"the value cannot be empty"</span></div><div>    };</div><div>    <span style="color:#6a9955">// algorithm for checking the if a value is a number</span></div><div>    <span style="color:#9cdcfe">validator</span>.<span style="color:#9cdcfe">types</span>.<span style="color:#9cdcfe">isNumber</span> = {</div><div>        <span style="color:#dcdcaa">validate</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">value</span>) { <span style="color:#c586c0">return</span> !<span style="color:#dcdcaa">isNaN</span>(<span style="color:#9cdcfe">value</span>); },</div><div>        <span style="color:#9cdcfe">instructions</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">"the value can only be a valid number, e.g. 1, 3.14 or 2010"</span></div><div>    };</div><div>    <span style="color:#6a9955">// algorithm for checking the if the value contains only letters and numbers</span></div><div>    <span style="color:#9cdcfe">validator</span>.<span style="color:#9cdcfe">types</span>.<span style="color:#9cdcfe">isAlphaNum</span> = {</div><div>        <span style="color:#dcdcaa">validate</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">value</span>) { <span style="color:#c586c0">return</span> !<span style="color:#d16969">/</span><span style="color:#ce9178">[^</span><span style="color:#d16969">a-z0-9</span><span style="color:#ce9178">]</span><span style="color:#d16969">/</span><span style="color:#569cd6">i</span>.<span style="color:#dcdcaa">test</span>(<span style="color:#9cdcfe">value</span>); },</div><div>        <span style="color:#9cdcfe">instructions</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">"the value can only contain characters and numbers, no special symbols"</span></div><div>    };</div><br /><div>    <span style="color:#6a9955">// Setup the config file</span></div><div>    <span style="color:#9cdcfe">validator</span>.<span style="color:#9cdcfe">config</span> = {</div><div>        <span style="color:#9cdcfe">name</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">'isNonEmpty'</span>,</div><div>        <span style="color:#9cdcfe">age</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">'isNumber'</span>,</div><div>        <span style="color:#9cdcfe">username</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">'isAlphaNum'</span></div><div>    };</div><br /><div>    <span style="color:#6a9955">// User data to check</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">data</span> = {</div><div>        <span style="color:#9cdcfe">name</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">""</span>,</div><div>        <span style="color:#9cdcfe">age</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">"unknown"</span>,</div><div>        <span style="color:#9cdcfe">username</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">"o_O"</span></div><div>    };</div><br /><div>    <span style="color:#6a9955">// Run the strategy pattern(select the algorithm w.r.t the data type)</span></div><div>    <span style="color:#9cdcfe">validator</span>.<span style="color:#dcdcaa">validate</span>(<span style="color:#9cdcfe">data</span>);</div></div></div><div><br /></div><div><b>Visitor Pattern:</b></div><div><div><span style="font-size:13.3333px">* Provides an easy way for clients to implement the future extensions to your main class without any modification.</span></div><div><span style="font-size:13.3333px">* Allows addition of new functions to the existing class without modifying it. New functionalities are added through visitors.</span></div></div><div><span style="font-size:13.3333px">* Visitor is a behavioral design pattern that lets you separate the algorithms from the objects on which they operate.</span></div><div><br /></div><div><span style="font-size:13.3333px">This </span>Pattern <span style="font-size:13.3333px">enables us to extend the functionality of an object <b>without </b>having to modify its <b>class </b>codes. In a nutshell, this pattern involves <b>one </b>main object and <b>many </b>visitors objects. The main object will have the ability to “accept” any visitor objects and execute the visitor’s generic method.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Example 1:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">houseWithProblems</span> = { </div><div>        <span style="color:#9cdcfe">plumbing</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">"leaky tap"</span>,</div><div>        <span style="color:#9cdcfe">garage</span><span style="color:#9cdcfe">:</span>   <span style="color:#ce9178">"broken bulb"</span>,</div><div>        <span style="color:#9cdcfe">backyard</span><span style="color:#9cdcfe">:</span> <span style="color:#ce9178">"weed infestation"</span>,</div><br /><div>        <span style="color:#6a9955">// 'accept function' which will receive the visitor</span></div><div>        <span style="color:#dcdcaa">accept</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>(<span style="color:#9cdcfe">visitor</span>) { <span style="color:#9cdcfe">visitor</span>.<span style="color:#dcdcaa">visit</span>(<span style="color:#569cd6">this</span>);  }</div><div>    };</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">visitorPlumber</span> = {</div><div>        <span style="color:#6a9955">// let's fix the plumbing</span></div><div>        <span style="color:#dcdcaa">visit</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>(<span style="color:#9cdcfe">home</span>) { <span style="color:#9cdcfe">home</span>.<span style="color:#9cdcfe">plumbing</span> = <span style="color:#ce9178">"Brand new tap!"</span>; }</div><div>    };</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">visitorElectrician</span> = {</div><div>        <span style="color:#6a9955">// let's fix the garage room</span></div><div>        <span style="color:#dcdcaa">visit</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>(<span style="color:#9cdcfe">home</span>) { <span style="color:#9cdcfe">home</span>.<span style="color:#9cdcfe">garage</span> = <span style="color:#ce9178">"Bright new bulb!"</span>; }</div><div>    };</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">visitorGardener</span> = {</div><div>        <span style="color:#6a9955">// let's fix the garden</span></div><div>        <span style="color:#dcdcaa">visit</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>(<span style="color:#9cdcfe">home</span>) { <span style="color:#9cdcfe">home</span>.<span style="color:#9cdcfe">backyard</span> = <span style="color:#ce9178">"New Lawn!"</span>; }</div><div>    };</div><br /><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">houseWithProblems</span>); </div><div><span style="color:#6a9955">    // { plumbing: 'leaky tap', garage: 'broken bulb', backyard: 'weed infestation', accept: [Function: accept] }</span></div><div>    <span style="color:#9cdcfe">houseWithProblems</span>.<span style="color:#dcdcaa">accept</span>(<span style="color:#9cdcfe">visitorPlumber</span>);     <span style="color:#6a9955">// visit from plumber</span></div><div>    <span style="color:#9cdcfe">houseWithProblems</span>.<span style="color:#dcdcaa">accept</span>(<span style="color:#9cdcfe">visitorElectrician</span>); <span style="color:#6a9955">// visit from electrician</span></div><div>    <span style="color:#9cdcfe">houseWithProblems</span>.<span style="color:#dcdcaa">accept</span>(<span style="color:#9cdcfe">visitorGardener</span>);    <span style="color:#6a9955">// visit from gardener</span></div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">houseWithProblems</span>); </div><div><span style="color:#6a9955">    // { plumbing: 'Brand new tap!', garage: 'Bright new bulb!', backyard: 'New Lawn!', accept: [Function: accept] }</span></div></div></div><div><br /></div><div>Example 2:</div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Employee</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">name</span>, <span style="color:#9cdcfe">salary</span>, <span style="color:#9cdcfe">vacation</span>) { </div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span> = <span style="color:#9cdcfe">name</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">salary</span> = <span style="color:#9cdcfe">salary</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">vacation</span> = <span style="color:#9cdcfe">vacation</span>;</div><div>        }</div><div>        <span style="color:#dcdcaa">accept</span>(<span style="color:#9cdcfe">visitor</span>) { <span style="color:#9cdcfe">visitor</span>.<span style="color:#dcdcaa">visit</span>(<span style="color:#569cd6">this</span>); }</div><div>    };</div><div>    </div><div>    <span style="color:#569cd6">var</span> <span style="color:#4ec9b0">ExtraSalary</span> = <span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">visit</span> = <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">emp</span>) { <span style="color:#9cdcfe">emp</span>.<span style="color:#9cdcfe">salary</span> = <span style="color:#9cdcfe">emp</span>.<span style="color:#9cdcfe">salary</span> * <span style="color:#b5cea8">1.1</span>; };</div><div>    };</div><div>    </div><div>    <span style="color:#569cd6">var</span> <span style="color:#4ec9b0">ExtraVacation</span> = <span style="color:#569cd6">function</span> () {</div><div>        <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">visit</span> = <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">emp</span>) { <span style="color:#9cdcfe">emp</span>.<span style="color:#9cdcfe">vacation</span> = <span style="color:#9cdcfe">emp</span>.<span style="color:#9cdcfe">vacation</span> + <span style="color:#b5cea8">2</span>; };</div><div>    };</div><br /><br /><div>    <span style="color:#6a9955">// Usage</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">employees</span> = [</div><div>                        <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Employee</span>(<span style="color:#ce9178">"John"</span>, <span style="color:#b5cea8">10000</span>, <span style="color:#b5cea8">6</span>),</div><div>                        <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Employee</span>(<span style="color:#ce9178">"Mary"</span>, <span style="color:#b5cea8">20000</span>, <span style="color:#b5cea8">15</span>),</div><div>                        <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Employee</span>(<span style="color:#ce9178">"Boss"</span>, <span style="color:#b5cea8">5000</span>, <span style="color:#b5cea8">20</span>)</div><div>                    ];</div><br /><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">visitorSalary</span>   = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">ExtraSalary</span>();</div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">visitorVacation</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">ExtraVacation</span>();</div><div>        </div><div>    <span style="color:#c586c0">for</span> (<span style="color:#569cd6">var</span> <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">0</span>, <span style="color:#9cdcfe">len</span> = <span style="color:#9cdcfe">employees</span>.<span style="color:#9cdcfe">length</span>; <span style="color:#9cdcfe">i</span> &lt; <span style="color:#9cdcfe">len</span>; <span style="color:#9cdcfe">i</span>++) {</div><div>            <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">emp</span> = <span style="color:#9cdcfe">employees</span>[<span style="color:#9cdcfe">i</span>];</div><div>            <span style="color:#9cdcfe">emp</span>.<span style="color:#dcdcaa">accept</span>(<span style="color:#9cdcfe">visitorSalary</span>);</div><div>            <span style="color:#9cdcfe">emp</span>.<span style="color:#dcdcaa">accept</span>(<span style="color:#9cdcfe">visitorVacation</span>);</div><div>    }</div><br /><div>    <span style="color:#c586c0">for</span> (<span style="color:#569cd6">var</span> <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">0</span>, <span style="color:#9cdcfe">len</span> = <span style="color:#9cdcfe">employees</span>.<span style="color:#9cdcfe">length</span>; <span style="color:#9cdcfe">i</span> &lt; <span style="color:#9cdcfe">len</span>; <span style="color:#9cdcfe">i</span>++) {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">emp</span> = <span style="color:#9cdcfe">employees</span>[<span style="color:#9cdcfe">i</span>];            </div><div>        <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#9cdcfe">emp</span>.<span style="color:#9cdcfe">name</span>, <span style="color:#9cdcfe">emp</span>.<span style="color:#9cdcfe">salary</span>, <span style="color:#9cdcfe">emp</span>.<span style="color:#9cdcfe">vacation</span>);</div><div>    }</div></div></div><div><br /></div><div><div><span style="font-size:13.3333px"><b>Façade:  </b></span><span style="background-color:transparent">Facade pattern provides a </span><b style="background-color:transparent">simplified interface </b><span style="background-color:transparent">to a </span><b style="background-color:transparent">complex subsystem</b><span style="background-color:transparent">.</span></div><div><div><span style="font-size:13.3333px">Real World Example: </span><span style="background-color:transparent">A simple </span><b style="background-color:transparent">power on button </b><span style="background-color:transparent">of a computer act as a Facade, which powers on </span><b style="background-color:transparent">few hundreds</b><span style="background-color:transparent"> of sub system components.</span></div></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Computer</span> {</div><div>        <span style="color:#6a9955">// Few hundred methods</span></div><div>        <span style="color:#dcdcaa">bootUp</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Loading..'</span>); }</div><div>        <span style="color:#dcdcaa">ready</span>()  { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Ready to be used!'</span>); }</div><div>        <span style="color:#dcdcaa">closeEverything</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Closing all the applications'</span>); }</div><div>        <span style="color:#dcdcaa">shutDown</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Going to Sleep...zzzzz'</span>); }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">ComputerFacade</span></div><div>    {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">computer</span>) {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">computer</span> = <span style="color:#9cdcfe">computer</span>; <span style="color:#6a9955">// store the instance</span></div><div>        }</div><br /><div>        <span style="color:#dcdcaa">turnOn</span>() { <span style="color:#6a9955">// grouping the methods under one master method</span></div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">computer</span>.<span style="color:#dcdcaa">bootUp</span>(); </div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">computer</span>.<span style="color:#dcdcaa">ready</span>();</div><div>        }</div><br /><div>        <span style="color:#dcdcaa">turnOff</span>() { <span style="color:#6a9955">// grouping the methods under one master method</span></div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">computer</span>.<span style="color:#dcdcaa">closeEverything</span>();</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">computer</span>.<span style="color:#dcdcaa">shutDown</span>();</div><div>        }</div><div>    }</div><br /><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">computer</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">ComputerFacade</span>(<span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Computer</span>());</div><div>    <span style="color:#4fc1ff">computer</span>.<span style="color:#dcdcaa">turnOn</span>(); <span style="color:#6a9955">// Loading..                            Ready to be used!</span></div><div>    <span style="color:#4fc1ff">computer</span>.<span style="color:#dcdcaa">turnOff</span>(); <span style="color:#6a9955">// Closing all the applications        Going to Sleep...zzzzz</span></div></div></div><div><span style="font-size:13.3333px"><b><br /></b></span></div><div>Example 2:</div><div><span style="font-size:13.3333px">* It provides <b>only </b>an alternative interface to an object. </span></div><div><span style="font-size:13.3333px">* Sometimes two or more methods may commonly be called together. </span><span style="background-color:transparent">In such cases it makes sense to create another method that wraps the repeating method calls.</span></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#4ec9b0">var</span> <span style="color:#9cdcfe">myevent</span> =  {</div><div>        <span style="color:#6a9955">// ...</span></div><div>        <span style="color:#dcdcaa">stop</span>: <span style="color:#4ec9b0">function</span> (<span style="color:#9cdcfe">e</span>) {</div><div>            <span style="color:#9cdcfe">e</span>.<span style="color:#dcdcaa">preventDefault</span>();</div><div>            <span style="color:#9cdcfe">e</span>.<span style="color:#dcdcaa">stopPropagation</span>();</div><div>        }</div><div>        <span style="color:#6a9955">// ...</span></div><div>    };</div></div></div><div><br /></div><div><div>* The façade pattern is also helpful with redesign and refactoring efforts.</div><div>* When you want to replace an object with a different implementation, you have to do it over a period of <span style="background-color:transparent;font-size:10pt">time (it’s a complex object), while at the same time new code is being written that uses </span><span style="background-color:transparent;font-size:10pt">this object. You can start with thinking about the new object’s API and then proceed </span><span style="background-color:transparent;font-size:10pt">to create a façade in front of the old object that follows the new API. </span></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><div><span style="font-size:13.3333px"><b>Proxy: </b></span><span style="background-color:transparent">A proxy is a <b>wrapper </b>object on top of the <b>real </b>serving object.</span></div><div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Real World Example: </span><span style="background-color:transparent">For opening a door (core function), having 'card access system' as a proxy/wrapper to restrict the unauthorized access to the door. </span></div></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Door interface</span></div><div>    <span style="color:#dcdcaa">class</span> <span style="color:#4ec9b0">LabDoor</span> {</div><div>        <span style="color:#dcdcaa">open</span>()  { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Opening lab door'</span>); }</div><div>        <span style="color:#dcdcaa">close</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Closing the lab door'</span>); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Then we have a proxy to secure any doors that we want</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Security</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">door</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">door</span> = <span style="color:#9cdcfe">door</span>; }</div><div>        <span style="color:#dcdcaa">authenticate</span>(<span style="color:#9cdcfe">password</span>) { <span style="color:#c586c0">return</span> <span style="color:#9cdcfe">password</span> === <span style="color:#ce9178">'ecr@t'</span>; }</div><div>        <span style="color:#dcdcaa">open</span>(<span style="color:#9cdcfe">password</span>) {</div><div>            <span style="color:#c586c0">if</span> (<span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">authenticate</span>(<span style="color:#9cdcfe">password</span>)) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">door</span>.<span style="color:#dcdcaa">open</span>(); }</div><div>            <span style="color:#c586c0">else</span> { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Access denied!'</span>); }</div><div>        }</div><div>        <span style="color:#dcdcaa">close</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">door</span>.<span style="color:#dcdcaa">close</span>(); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Usage</span></div><div>    <span style="color:#9cdcfe">const</span> <span style="color:#4fc1ff">door</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Security</span>(<span style="color:#569cd6">new</span> <span style="color:#4ec9b0">LabDoor</span>());</div><div>    <span style="color:#4fc1ff">door</span>.<span style="color:#dcdcaa">open</span>(<span style="color:#ce9178">'invalid'</span>); <span style="color:#6a9955">// Access denied!</span></div><div>    <span style="color:#4fc1ff">door</span>.<span style="color:#dcdcaa">open</span>(<span style="color:#ce9178">'ecr@t'</span>);   <span style="color:#6a9955">// Opening lab door</span></div><div>    <span style="color:#4fc1ff">door</span>.<span style="color:#dcdcaa">close</span>();         <span style="color:#6a9955">// Closing lab door</span></div></div></div><div><br /></div><div><span style="font-size:13.3333px">* one object acts as an interface to another object.</span></div><div><span style="font-size:13.3333px">* It serves as a guardian of the main object and tries to have the main object</span><span style="background-color:transparent"> do as little work as possible.</span></div><div><span style="font-size:13.3333px">* <i><b>Lazy initialization</b></i>: The proxy receives the initialization request but never passes it on until it’s </span><span style="background-color:transparent">clear that the real subject is actually used.</span></div><div><span style="font-size:13.3333px">* To combine HTTP requests as much as possible.</span></div><div><span style="font-size:13.3333px">* Proxy as a Cache</span></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Adapter: </b></span><span style="background-color:transparent">Adapter pattern lets you wrap an <b>incompatible </b>object in an adapter to make it <b>compatible </b>with <b>another </b>class.</span></div><div><span style="font-size:13.3333px"><i><b>Real World Example:</b></i> 3 pin to 2 pin adapter for the 2 pin power </span><span style="background-color:transparent;font-size:13.3333px">junction</span></div><div><span style="background-color:transparent;font-size:13.3333px"><br /></span></div><div><b>Class </b>Adapter  Vs <span style="background-color:transparent;font-size:10pt"><b>Object </b>Adap<span>ter:</span></span></div><div><span style="background-color:transparent;font-size:13.3333px"><div><span><span><b>Class Adapter </b></span></span>uses <b>inheritance </b>and can only wrap a class. It cannot wrap an interface since by definition it must derive from some base class.</div><div><span><span><b>Object Adapter</b></span> </span>uses <b>composition </b>and can wrap classes or interfaces, or both. It can do this because it contains - private &amp; encapsulated members and interfaces.</div><div><br /></div><div>The difference is subtle. Favour the composition over inheritance.</div><div><br /></div><div><span><b>Object Adapter:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#9cdcfe">adapter</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">MyEngine</span>(<span style="color:#569cd6">new</span> <span style="color:#4ec9b0">MyAdapter</span>(<span style="color:#9cdcfe">options</span>));</div><div>    <span style="color:#9cdcfe">adapter</span>-&gt;<span style="color:#dcdcaa">write</span>(<span style="color:#ce9178">'something'</span>);</div></div></div><div><span><b><br /></b></span></div><div><span><b>Class Adapter:</b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#9cdcfe">MyAdapter</span> <span style="color:#9cdcfe">extends</span> <span style="color:#9cdcfe">BaseAdapter</span> { ... }</div><div>    <span style="color:#9cdcfe">adapter</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">MyAdapter</span>(<span style="color:#9cdcfe">options</span>);</div><div>    <span style="color:#9cdcfe">aAdapter</span>-&gt;<span style="color:#dcdcaa">write</span>(<span style="color:#ce9178">'something'</span>);</div></div></div></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b><span>Object Adapter Example:</span></b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">EngineOld</span> {</div><div>        <span style="color:#dcdcaa">simpleInterface</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'EngineOld - tr-tr-tr'</span>); }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">EngineV8</span> {</div><div>        <span style="color:#dcdcaa">complexInterface</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Engine V8! - wroom wroom!'</span>); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Adapter for EngineV8</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">EngineV8Adapter</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">engine</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">engine</span> = <span style="color:#9cdcfe">engine</span>; }</div><div>        <span style="color:#dcdcaa">simpleInterface</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">engine</span>.<span style="color:#dcdcaa">complexInterface</span>(); }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Car</span> {</div><div>        <span style="color:#dcdcaa">startEngine</span>(<span style="color:#9cdcfe">engine</span>) { <span style="color:#9cdcfe">engine</span>.<span style="color:#dcdcaa">simpleInterface</span>(); }</div><div>    }</div><br /><br /><div>    <span style="color:#6a9955">// Usage</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">myCar</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Car</span>();</div><br /><div>    <span style="color:#6a9955">// Engine old</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">oldEngine</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">EngineOld</span>();</div><div>    <span style="color:#9cdcfe">myCar</span>.<span style="color:#dcdcaa">startEngine</span>(<span style="color:#9cdcfe">oldEngine</span>); <span style="color:#6a9955">// EngineOld - tr-tr-tr</span></div><br /><div>    <span style="color:#6a9955">// Engine V8 without adapter</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">v8Engine</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">EngineV8</span>();</div><div>    <span style="color:#6a9955">// myCar.startEngine(v8Engine); // Error</span></div><br /><div>    <span style="color:#6a9955">// Engine V8 with adapter</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">engineAdapter</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">EngineV8Adapter</span>(<span style="color:#569cd6">new</span> <span style="color:#4ec9b0">EngineV8</span>());</div><div>    <span style="color:#9cdcfe">myCar</span>.<span style="color:#dcdcaa">startEngine</span>(<span style="color:#9cdcfe">engineAdapter</span>); <span style="color:#6a9955">// Engine V8! - wroom wroom!</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><div><span style="font-size:13.3333px"><b>Mediator</b>: </span></div><div><span style="font-size:13.3333px">* Promotes loose coupling and helping to improve maintainability.</span></div><div><span style="font-size:13.3333px">* Independent objects (colleagues) do not communicate directly, but through a mediator object. </span></div><div><span style="font-size:13.3333px">* When one of the colleagues changes state, it notifies the mediator, and the mediator communicates </span><span style="background-color:transparent">the change to any other colleagues that should know about it.</span></div></div><div><span style="background-color:transparent">Example: Air traffic - Instead of all airlines communicate each other they can communicate with the central station.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><div><span style="font-size:13.3333px"><b>Observer: </b>(more loose coupled than Mediator pattern)</span></div><div><span style="font-size:13.3333px"><span>    </span>* Promotes loose coupling.</span></div><div><span style="font-size:13.3333px"><span>    </span>* an object subscribes to another object’s specific activity and gets notified.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><i>Common methods of a publisher object:</i></span></div><div><span style="font-size:13.3333px">subscribe()    :  Add to the array of subscribers</span></div><div><span style="font-size:13.3333px">unsubscribe() : Remove from the subscribers array</span></div><div><span style="font-size:13.3333px">publish():          Loop though subscribers and call the methods they provided when they signed up</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">All the three methods need a type parameter.</span></div></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Publisher</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">publisher</span> = {</div><div>        <span style="color:#6a9955">// Object which maintains different dedicated arrays for different event type subscribers</span></div><div>        <span style="color:#9cdcfe">subscribers</span><span style="color:#9cdcfe">:</span> { },</div><div>        <span style="color:#dcdcaa">subscribe</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">type</span>,<span style="color:#9cdcfe">fn</span>) {</div><div>            <span style="color:#c586c0">if</span> (<span style="color:#569cd6">typeof</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">subscribers</span>[<span style="color:#9cdcfe">type</span>] === <span style="color:#ce9178">"undefined"</span>) {</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">subscribers</span>[<span style="color:#9cdcfe">type</span>] = []; <span style="color:#6a9955">// create a new dedicated type array</span></div><div>            }</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">subscribers</span>[<span style="color:#9cdcfe">type</span>].<span style="color:#dcdcaa">push</span>(<span style="color:#9cdcfe">fn</span>);</div><div>        },</div><div>        <span style="color:#dcdcaa">unsubscribe</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">type</span>, <span style="color:#9cdcfe">fn</span>) {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">visitSubscribers</span>(<span style="color:#ce9178">'unsubscribe'</span>, <span style="color:#9cdcfe">type</span>, <span style="color:#9cdcfe">fn</span>);</div><div>        },</div><div>        <span style="color:#dcdcaa">publish</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">type</span>, <span style="color:#9cdcfe">msg</span>) {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">visitSubscribers</span>(<span style="color:#ce9178">'publish'</span>, <span style="color:#9cdcfe">type</span>, <span style="color:#9cdcfe">msg</span>);</div><div>        },</div><div>        <span style="color:#dcdcaa">visitSubscribers</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">action</span>, <span style="color:#9cdcfe">type</span>, <span style="color:#9cdcfe">fn_msg</span>) {</div><div>            <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">subscribers</span> = <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">subscribers</span>[<span style="color:#9cdcfe">type</span>],</div><div>                <span style="color:#9cdcfe">max</span> = <span style="color:#9cdcfe">subscribers</span>.<span style="color:#9cdcfe">length</span>;</div><div>            <span style="color:#c586c0">for</span> (<span style="color:#569cd6">var</span> <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">0</span>; <span style="color:#9cdcfe">i</span> &lt; <span style="color:#9cdcfe">max</span>; <span style="color:#9cdcfe">i</span> += <span style="color:#b5cea8">1</span>) {</div><div>                <span style="color:#c586c0">if</span> (<span style="color:#9cdcfe">action</span> === <span style="color:#ce9178">'publish'</span>) {</div><div>                    <span style="color:#9cdcfe">subscribers</span>[<span style="color:#9cdcfe">i</span>](<span style="color:#9cdcfe">fn_msg</span>); <span style="color:#6a9955">// publish the msg(NOT function)</span></div><div>                } <span style="color:#c586c0">else</span> {</div><div>                    <span style="color:#6a9955">// Unsubscribe the function(NOT msg)</span></div><div>                    <span style="color:#c586c0">if</span> (<span style="color:#9cdcfe">subscribers</span>[<span style="color:#9cdcfe">i</span>] === <span style="color:#9cdcfe">fn_msg</span>) {</div><div>                        <span style="color:#9cdcfe">subscribers</span>.<span style="color:#dcdcaa">splice</span>(<span style="color:#9cdcfe">i</span>, <span style="color:#b5cea8">1</span>);</div><div>                    }</div><div>                }</div><div>            }</div><div>        }</div><div>    };</div><br /><div>    <span style="color:#6a9955">// Takes an object and turns it into a publisher by simply copying</span></div><div>    <span style="color:#6a9955">// over the generic publisher’s methods:</span></div><div>    <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">makePublisher</span>(<span style="color:#9cdcfe">o</span>) {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">i</span>;</div><div>        <span style="color:#c586c0">for</span> (<span style="color:#9cdcfe">i</span> <span style="color:#569cd6">in</span> <span style="color:#9cdcfe">publisher</span>) { </div><div>            <span style="color:#c586c0">if</span> (<span style="color:#9cdcfe">publisher</span>.<span style="color:#dcdcaa">hasOwnProperty</span>(<span style="color:#9cdcfe">i</span>) &amp;&amp; <span style="color:#569cd6">typeof</span> <span style="color:#9cdcfe">publisher</span>[<span style="color:#9cdcfe">i</span>] === <span style="color:#ce9178">"function"</span>) {</div><div>                <span style="color:#9cdcfe">o</span>[<span style="color:#9cdcfe">i</span>] = <span style="color:#9cdcfe">publisher</span>[<span style="color:#9cdcfe">i</span>]; <span style="color:#6a9955">// copy all publisher method to given object</span></div><div>            }</div><div>        }</div><div>        <span style="color:#9cdcfe">o</span>.<span style="color:#9cdcfe">subscribers</span> = {};</div><div>    }</div><div>    </div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">newsAgency</span> = {</div><div>        <span style="color:#dcdcaa">daily</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">publish</span>(<span style="color:#ce9178">"daily"</span>, <span style="color:#ce9178">"message: big news today"</span>);</div><div>        },</div><div>        <span style="color:#dcdcaa">monthly</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">publish</span>(<span style="color:#ce9178">"monthly"</span>, <span style="color:#ce9178">"message: Last Month analysis"</span>);</div><div>        }</div><div>    };</div><br /><div>    <span style="color:#dcdcaa">makePublisher</span>(<span style="color:#9cdcfe">newsAgency</span>); <span style="color:#6a9955">// convert 'newsAgency' object to publisher object</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Subscriber</span></div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">joe</span> = {</div><div>        <span style="color:#dcdcaa">drinkCoffee</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">msg</span>) {</div><div>            <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Morning starts with '</span> + <span style="color:#9cdcfe">msg</span>);</div><div>        },</div><div>        <span style="color:#dcdcaa">sundayPreNap</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">msg</span>) {</div><div>            <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Sunday starts with '</span> + <span style="color:#9cdcfe">msg</span>);</div><div>        }</div><div>    };</div><br /><div>    <span style="color:#9cdcfe">newsAgency</span>.<span style="color:#dcdcaa">subscribe</span>(<span style="color:#ce9178">'daily'</span>,   <span style="color:#9cdcfe">joe</span>.<span style="color:#dcdcaa">drinkCoffee</span>);</div><div>    <span style="color:#9cdcfe">newsAgency</span>.<span style="color:#dcdcaa">subscribe</span>(<span style="color:#ce9178">'monthly'</span>, <span style="color:#9cdcfe">joe</span>.<span style="color:#dcdcaa">sundayPreNap</span>);</div><br /><div>    <span style="color:#9cdcfe">newsAgency</span>.<span style="color:#dcdcaa">daily</span>(); <span style="color:#6a9955">// Morning starts with message: big news today</span></div><div>    <span style="color:#9cdcfe">newsAgency</span>.<span style="color:#dcdcaa">daily</span>(); <span style="color:#6a9955">// Morning starts with message: big news today</span></div><div>    <span style="color:#9cdcfe">newsAgency</span>.<span style="color:#dcdcaa">monthly</span>(); <span style="color:#6a9955">// Sunday starts with message: Last Month analysis</span></div></div></div><div><br /></div><div><span style="font-size:13.3333px">Another Example:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Implemented based on 'Tiny Pub/Sub' by "Cowboy" Ben Alman. - Sridhar</span></div><div>    (<span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">$</span>) {</div><div>        <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">o</span> = { <span style="color:#6a9955">// extra object wrapper is optional </span></div><div>            <span style="color:#9cdcfe">map</span><span style="color:#9cdcfe">:</span> {}, <span style="color:#6a9955">// dictionary</span></div><div>            <span style="color:#dcdcaa">on</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () {</div><div>                <span style="color:#c586c0">if</span> (!<span style="color:#9cdcfe">o</span>.<span style="color:#9cdcfe">map</span>[<span style="color:#569cd6">arguments</span>[<span style="color:#b5cea8">0</span>]]) {</div><div>                    <span style="color:#9cdcfe">o</span>.<span style="color:#9cdcfe">map</span>[<span style="color:#569cd6">arguments</span>[<span style="color:#b5cea8">0</span>]] = []; <span style="color:#6a9955">// 1 'event' will call 'n' callback functions</span></div><div>                }</div><div>                <span style="color:#9cdcfe">o</span>.<span style="color:#9cdcfe">map</span>[<span style="color:#569cd6">arguments</span>[<span style="color:#b5cea8">0</span>]].<span style="color:#dcdcaa">push</span>(<span style="color:#569cd6">arguments</span>[<span style="color:#b5cea8">1</span>]);</div><div>            },</div><div>            <span style="color:#dcdcaa">off</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () { </div><div>                <span style="color:#c586c0">for</span> (<span style="color:#569cd6">let</span> <span style="color:#9cdcfe">i</span> = <span style="color:#9cdcfe">o</span>.<span style="color:#9cdcfe">map</span>[<span style="color:#569cd6">arguments</span>[<span style="color:#b5cea8">0</span>]].<span style="color:#9cdcfe">length</span> -<span style="color:#b5cea8">1</span>; <span style="color:#9cdcfe">i</span> &gt;= <span style="color:#b5cea8">0</span>; --<span style="color:#9cdcfe">i</span>) { <span style="color:#6a9955">// reverse iteration for splice</span></div><div>                    <span style="color:#c586c0">if</span>(<span style="color:#9cdcfe">o</span>.<span style="color:#9cdcfe">map</span>[<span style="color:#569cd6">arguments</span>[<span style="color:#b5cea8">0</span>]][<span style="color:#9cdcfe">i</span>] === <span style="color:#569cd6">arguments</span>[<span style="color:#b5cea8">1</span>]) {</div><div>                        <span style="color:#9cdcfe">o</span>.<span style="color:#9cdcfe">map</span>[<span style="color:#569cd6">arguments</span>[<span style="color:#b5cea8">0</span>]].<span style="color:#dcdcaa">splice</span>(<span style="color:#9cdcfe">i</span>,<span style="color:#b5cea8">1</span>); <span style="color:#6a9955">// delete requested callback function(s)</span></div><div>                    }</div><div>                }</div><div>            },</div><div>            <span style="color:#dcdcaa">trigger</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span> () {</div><div>                <span style="color:#c586c0">for</span> (<span style="color:#569cd6">let</span> <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">0</span>, <span style="color:#9cdcfe">j</span> = <span style="color:#9cdcfe">o</span>.<span style="color:#9cdcfe">map</span>[<span style="color:#569cd6">arguments</span>[<span style="color:#b5cea8">0</span>]].<span style="color:#9cdcfe">length</span>; <span style="color:#9cdcfe">i</span> &lt; <span style="color:#9cdcfe">j</span>; ++<span style="color:#9cdcfe">i</span>) {</div><div>                    <span style="color:#9cdcfe">o</span>.<span style="color:#9cdcfe">map</span>[<span style="color:#569cd6">arguments</span>[<span style="color:#b5cea8">0</span>]][<span style="color:#9cdcfe">i</span>](<span style="color:#569cd6">arguments</span>[<span style="color:#b5cea8">1</span>]); <span style="color:#6a9955">// call all callback function for the 'event'</span></div><div>                }</div><div>            }</div><div>        };</div><br /><div>        <span style="color:#9cdcfe">$</span>.<span style="color:#dcdcaa">subscribe</span>   = <span style="color:#569cd6">function</span> () { <span style="color:#9cdcfe">o</span>.<span style="color:#dcdcaa">on</span>.<span style="color:#dcdcaa">apply</span>(<span style="color:#9cdcfe">o</span>, <span style="color:#569cd6">arguments</span>); };</div><div>        <span style="color:#9cdcfe">$</span>.<span style="color:#dcdcaa">unsubscribe</span> = <span style="color:#569cd6">function</span> () { <span style="color:#9cdcfe">o</span>.<span style="color:#dcdcaa">off</span>.<span style="color:#dcdcaa">apply</span>(<span style="color:#9cdcfe">o</span>, <span style="color:#569cd6">arguments</span>); };</div><div>        <span style="color:#9cdcfe">$</span>.<span style="color:#dcdcaa">publish</span>     = <span style="color:#569cd6">function</span> () { <span style="color:#9cdcfe">o</span>.<span style="color:#dcdcaa">trigger</span>.<span style="color:#dcdcaa">apply</span>(<span style="color:#9cdcfe">o</span>, <span style="color:#569cd6">arguments</span>); };</div><div>    }(<span style="color:#569cd6">this</span>)); <span style="color:#6a9955">// this - global / window</span></div><br /><div>    <span style="color:#6a9955">// Usage:</span></div><div>    <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">handle1</span>(<span style="color:#9cdcfe">arg</span>) { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'handle-1: '</span>+ <span style="color:#9cdcfe">arg</span>); }</div><div>    <span style="color:#569cd6">function</span> <span style="color:#dcdcaa">handle2</span>(<span style="color:#9cdcfe">arg</span>) { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'handle-2: '</span>+ <span style="color:#9cdcfe">arg</span>); }</div><div>    <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">subscribe</span>(<span style="color:#ce9178">"/some/topic"</span>, <span style="color:#dcdcaa">handle1</span>);</div><div>    <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">subscribe</span>(<span style="color:#ce9178">"/some/topic"</span>, <span style="color:#dcdcaa">handle2</span>);</div><div>    <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">subscribe</span>(<span style="color:#ce9178">"/some/topic"</span>, <span style="color:#dcdcaa">handle2</span>);</div><br /><div>    <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">publish</span>(<span style="color:#ce9178">"/some/topic"</span>, [<span style="color:#ce9178">"a"</span>, <span style="color:#ce9178">"b"</span>, <span style="color:#ce9178">"c"</span>]);</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'---after unsubscribe--'</span>)</div><div>    <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">unsubscribe</span>(<span style="color:#ce9178">"/some/topic"</span>, <span style="color:#dcdcaa">handle2</span>); <span style="color:#6a9955">// Unsubscribe all handle 2</span></div><div>    <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">publish</span>(<span style="color:#ce9178">"/some/topic"</span>, [<span style="color:#ce9178">"a"</span>, <span style="color:#ce9178">"b"</span>, <span style="color:#ce9178">"c"</span>]);</div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><b style="background-color:transparent">State Pattern / Finite State Machine (FSM) / Avoids a long ladder of switch case state machine mess:</b></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Ex 1:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Ref: https://www.youtube.com/watch?v=W_11rR4UFNw</span></div><div>    <span style="color:#6a9955">// https://github.com/YauhenKavalchuk/design-patterns/blob/master/behavioral/state/state.js</span></div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">OrderStatus</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">name</span>, <span style="color:#9cdcfe">nextState</span>) {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span> = <span style="color:#9cdcfe">name</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">nextState</span> = <span style="color:#9cdcfe">nextState</span>;</div><div>        }</div><br /><div>        <span style="color:#dcdcaa">next</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">this</span>.<span style="color:#4ec9b0">nextState</span>(); }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">WaitingForPayment</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">OrderStatus</span> {</div><div>        <span style="color:#569cd6">constructor</span>() { <span style="color:#569cd6">super</span>(<span style="color:#ce9178">'waitingForPayment'</span>, <span style="color:#4ec9b0">Shipping</span>); }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Shipping</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">OrderStatus</span> {</div><div>        <span style="color:#569cd6">constructor</span>() { <span style="color:#569cd6">super</span>(<span style="color:#ce9178">'shipping'</span>, <span style="color:#4ec9b0">Delivered</span>); }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Delivered</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">OrderStatus</span> {</div><div>        <span style="color:#569cd6">constructor</span>() { <span style="color:#569cd6">super</span>(<span style="color:#ce9178">'delivered'</span>, <span style="color:#4ec9b0">Delivered</span>); }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Order</span> {</div><div>        <span style="color:#569cd6">constructor</span>() { </div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">state</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">WaitingForPayment</span>(); <span style="color:#6a9955">// initial state</span></div><div>        }</div><div>        <span style="color:#dcdcaa">nextState</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">state</span> = <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">state</span>.<span style="color:#dcdcaa">next</span>(); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Usage:</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">myOrder</span> =  <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Order</span>();</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">myOrder</span>.<span style="color:#9cdcfe">state</span>.<span style="color:#9cdcfe">name</span>); <span style="color:#6a9955">// waitingForPayment</span></div><br /><div>    <span style="color:#4fc1ff">myOrder</span>.<span style="color:#dcdcaa">nextState</span>();</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">myOrder</span>.<span style="color:#9cdcfe">state</span>.<span style="color:#9cdcfe">name</span>); <span style="color:#6a9955">// shipping</span></div><br /><div>    <span style="color:#4fc1ff">myOrder</span>.<span style="color:#dcdcaa">nextState</span>();</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">myOrder</span>.<span style="color:#9cdcfe">state</span>.<span style="color:#9cdcfe">name</span>); <span style="color:#6a9955">// delivered</span></div></div></div><div><br /></div><div><span style="font-size:13.3333px">Ex 2:</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// https://www.youtube.com/watch?v=gMyRtqwxr10</span></div><div>    <span style="color:#6a9955">// Typescript: https://github.com/SavjeeTutorials/typescript-design-patterns/blob/master/state/state.ts</span></div><div>    <span style="color:#6a9955">// Typescript to Vanilla Javascript: https://www.typescriptlang.org/play</span></div><div>    <span style="color:#ce9178">"use strict"</span>;</div><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">test</span>;</div><div>    (<span style="color:#569cd6">function</span> (<span style="color:#9cdcfe">test</span>) {</div><div>        <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Order</span> {</div><div>            <span style="color:#569cd6">constructor</span>() {</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">cancelledOrderState</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">CancelledOrderState</span>(<span style="color:#569cd6">this</span>); <span style="color:rgb(106,153,85)">// calls constructor</span></div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">paymentPendingState</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">PaymentPendingState</span>(<span style="color:#569cd6">this</span>);</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">orderShipedState</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">OrderShippedState</span>(<span style="color:#569cd6">this</span>);</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">orderBeingPrepared</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">OrderBeingPrepared</span>(<span style="color:#569cd6">this</span>);</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">setState</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">paymentPendingState</span>);</div><div>            }</div><div>            <span style="color:#dcdcaa">setState</span>(<span style="color:#9cdcfe">state</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">currentState</span> = <span style="color:#9cdcfe">state</span>; }</div><div>            <span style="color:#dcdcaa">getCurrentState</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">currentState</span>; }</div><div>        }</div><br /><div>        <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">CancelledOrderState</span> {   <span style="color:rgb(106,153,85)">// WITHOUT extends</span></div><div>            <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">order</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span> = <span style="color:#9cdcfe">order</span>; }</div><div>            <span style="color:#dcdcaa">cancelOrder</span>() {</div><div>                <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'This order is already cancelled.'</span>);</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span>.<span style="color:#dcdcaa">setState</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span>.<span style="color:#9cdcfe">cancelledOrderState</span>);</div><div>            }</div><div>            <span style="color:#dcdcaa">verifyPayment</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'The order is cancelled, you cannot pay anymore.'</span>); }</div><div>            <span style="color:#dcdcaa">shipOrder</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'The order is cancelled, you cannot ship it anymore.'</span>); }</div><div>        }</div><br /><div>        <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">PaymentPendingState</span> {</div><div>            <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">order</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span> = <span style="color:#9cdcfe">order</span>; }</div><div>            <span style="color:#dcdcaa">cancelOrder</span>() {</div><div>                <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Cancelling your unpaid order...'</span>);</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span>.<span style="color:#dcdcaa">setState</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span>.<span style="color:#9cdcfe">cancelledOrderState</span>);</div><div>            }</div><div>            <span style="color:#dcdcaa">verifyPayment</span>() {</div><div>                <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Payment verified! Shipping soon.'</span>);</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span>.<span style="color:#dcdcaa">setState</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span>.<span style="color:#9cdcfe">orderBeingPrepared</span>);</div><div>            }</div><div>            <span style="color:#dcdcaa">shipOrder</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Cannot ship order when payment is pending.'</span>); }</div><div>        }</div><br /><div>        <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">OrderBeingPrepared</span> {</div><div>            <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">order</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span> = <span style="color:#9cdcfe">order</span>; }</div><div>            <span style="color:#dcdcaa">cancelOrder</span>() {</div><div>                <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Cancelling your order... You will be refunded.'</span>);</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span>.<span style="color:#dcdcaa">setState</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span>.<span style="color:#9cdcfe">cancelledOrderState</span>);</div><div>            }</div><div>            <span style="color:#dcdcaa">verifyPayment</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Payment is already verified.'</span>); }</div><div>            <span style="color:#dcdcaa">shipOrder</span>() {</div><div>                <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Shipping your order now...'</span>);</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span>.<span style="color:#dcdcaa">setState</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span>.<span style="color:#9cdcfe">orderShipedState</span>);</div><div>            }</div><div>        }</div><br /><div>        <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">OrderShippedState</span> {</div><div>            <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">order</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">order</span> = <span style="color:#9cdcfe">order</span>; }</div><div>            <span style="color:#dcdcaa">cancelOrder</span>()   { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'You cannot cancel an order that has been shipped.'</span>); }</div><div>            <span style="color:#dcdcaa">verifyPayment</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Payment is already verified.'</span>); }</div><div>            <span style="color:#dcdcaa">shipOrder</span>()     { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Order is already shipped.'</span>); }</div><div>        }</div><br /><div>        <span style="color:#6a9955">// Usage</span></div><div>        <span style="color:#569cd6">let</span> <span style="color:#9cdcfe">order</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Order</span>();</div><div>        <span style="color:#9cdcfe">order</span>.<span style="color:#dcdcaa">getCurrentState</span>().<span style="color:#dcdcaa">verifyPayment</span>(); <span style="color:#6a9955">// Payment verified! Shipping soon.</span></div><div>        <span style="color:#9cdcfe">order</span>.<span style="color:#dcdcaa">getCurrentState</span>().<span style="color:#dcdcaa">shipOrder</span>();     <span style="color:#6a9955">// Shipping your order now...</span></div><div>        <span style="color:#9cdcfe">order</span>.<span style="color:#dcdcaa">getCurrentState</span>().<span style="color:#dcdcaa">cancelOrder</span>();   <span style="color:#6a9955">// You cannot cancel an order that has been shipped.</span></div><div>        <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Order state: '</span> + <span style="color:#9cdcfe">order</span>.<span style="color:#dcdcaa">getCurrentState</span>().<span style="color:#9cdcfe">constructor</span>.<span style="color:#9cdcfe">name</span>); <span style="color:#6a9955">// Order state: OrderShippedState</span></div><br /><div>    })(<span style="color:#9cdcfe">test</span> || (<span style="color:#9cdcfe">test</span> = {}));</div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="background-color:transparent"><b>Finite State Machine / FSM:</b></span></div><div><div><span style="font-size:13.3333px">    An abstract state machine is a software component that defines a finite set of states:</span></div><div><span style="font-size:13.3333px">    1. One state is defined as the initial state. When a machine starts to execute, it automatically enters this state.</span></div><div><span style="font-size:13.3333px">    2. Each state can define 'actions' that occur when a machine enters or exits that state.</span></div><div><span style="font-size:13.3333px">    3. Each state can define 'events' that trigger a transition.</span></div><div><span style="font-size:13.3333px">    4. A transition defines how a machine would react to the event, by exiting one state and entering another state.</span></div><div><span style="font-size:13.3333px">    5. A transition can define actions that occur when the transition happens.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">    When an event happens:</span></div><div><span style="font-size:13.3333px">    1. The event is checked against the current state’s transitions.</span></div><div><span style="font-size:13.3333px">    2. If a transition matches the event, that transition “happens”.</span></div><div><span style="font-size:13.3333px">    3. By virtue of a transition “happening”, states are exited, and entered and the relevant actions are performed</span></div><div><span style="font-size:13.3333px">    4. The machine immediately is in the new state, ready to process the next event.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Application:</b></span></div><div><div><span style="font-size:13.3333px"> I want to write a <b>media player</b> so I'm going to need an <b>object </b>that can handle<b> play, stop</b> and <b>pause states. </b></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Obviously the Object will look like below</span></div><div>    <span style="color:#c8c8c8">play</span>: <span style="color:#569cd6">function</span>() {</div><div>        <span style="color:#c586c0">if</span> (<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">status</span> == <span style="color:#ce9178">'playing'</span>) {</div><div>            <span style="color:#c586c0">return</span>;</div><div>        } <span style="color:#c586c0">else</span> <span style="color:#c586c0">if</span> (<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">status</span> == <span style="color:#ce9178">'stopped'</span>) {</div><div>            <span style="color:#6a9955">// play the video</span></div><div>        } <span style="color:#c586c0">else</span> <span style="color:#c586c0">if</span> (<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">status</span> == <span style="color:#ce9178">'paused'</span>) {</div><div>            <span style="color:#6a9955">// unpause and play</span></div><div>        }</div><div>        <span style="color:#c586c0">else</span> <span style="color:#c586c0">if</span> ...</div><div>    }</div></div></div><div><span style="background-color:transparent;font-size:10pt">Or maybe instead of a long conditional there's a <b>switch statement</b>. But essentially </span><span style="background-color:transparent;font-size:10pt">querying some variable somewhere to check what state the object is in and you're branching your logic as a result. </span></div><div><span style="background-color:transparent"><br /></span></div><div><span style="font-size:13.3333px">What if <b>instead </b>of play, pause and stop acting as <b>methods </b>on our object, we make each of those states into its own <b>object</b>? So when the play state object is told to play it says 'Hey! I'm already playing. No need to change' and when it's told to stop it says 'Ah stopping, eh? Let me defer to my friend the Stop state object'.</span></div></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">var</span> <span style="color:#9cdcfe">mediaPlayer</span> = {</div><div>    <span style="color:#9cdcfe">currentState</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">undefined</span>,</div><div>    <span style="color:#dcdcaa">play</span><span style="color:#9cdcfe">:</span>  <span style="color:#569cd6">function</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">currentState</span>.<span style="color:#dcdcaa">play</span>();  },</div><div>    <span style="color:#dcdcaa">stop</span><span style="color:#9cdcfe">:</span>  <span style="color:#569cd6">function</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">currentState</span>.<span style="color:#dcdcaa">stop</span>();  },</div><div>    <span style="color:#dcdcaa">pause</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">currentState</span>.<span style="color:#dcdcaa">pause</span>(); },</div><br /><div>    <span style="color:#9cdcfe">states</span><span style="color:#9cdcfe">:</span> {</div><div>        <span style="color:#9cdcfe">playing</span><span style="color:#9cdcfe">:</span> {</div><div>            <span style="color:#4ec9b0">initialize</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>(<span style="color:#9cdcfe">target</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span> = <span style="color:#9cdcfe">target</span>; },</div><div>            <span style="color:#dcdcaa">enter</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'setting up the playing state'</span>); },</div><div>            <span style="color:#dcdcaa">execute</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'playing!'</span>); },</div><div>            <span style="color:#dcdcaa">play</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'already playing!'</span>); },</div><div>            <span style="color:#dcdcaa">stop</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span>.<span style="color:#dcdcaa">changeState</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span>.<span style="color:#9cdcfe">states</span>.<span style="color:#9cdcfe">stopping</span>); },</div><div>            <span style="color:#dcdcaa">pause</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span>.<span style="color:#dcdcaa">changeState</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span>.<span style="color:#9cdcfe">states</span>.<span style="color:#9cdcfe">pausing</span>); },</div><div>            <span style="color:#dcdcaa">exit</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'tearing down the playing state'</span>); }</div><div>        },</div><br /><div>        <span style="color:#9cdcfe">stopping</span><span style="color:#9cdcfe">:</span> {</div><div>            <span style="color:#4ec9b0">initialize</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>(<span style="color:#9cdcfe">target</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span> = <span style="color:#9cdcfe">target</span>; },</div><div>            <span style="color:#dcdcaa">enter</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'setting up the stopping state'</span>); },</div><div>            <span style="color:#dcdcaa">execute</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'stopping!'</span>); },</div><div>            <span style="color:#dcdcaa">play</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span>.<span style="color:#dcdcaa">changeState</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span>.<span style="color:#9cdcfe">states</span>.<span style="color:#9cdcfe">playing</span>); },</div><div>            <span style="color:#dcdcaa">stop</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'already stopped!'</span>); },</div><div>            <span style="color:#dcdcaa">pause</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span>.<span style="color:#dcdcaa">changeState</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span>.<span style="color:#9cdcfe">states</span>.<span style="color:#9cdcfe">pausing</span>); },</div><div>            <span style="color:#dcdcaa">exit</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'tearing down the stopping state'</span>); }</div><div>        },</div><br /><div>        <span style="color:#9cdcfe">pausing</span><span style="color:#9cdcfe">:</span> {</div><div>            <span style="color:#4ec9b0">initialize</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>(<span style="color:#9cdcfe">target</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span> = <span style="color:#9cdcfe">target</span>; },</div><div>            <span style="color:#dcdcaa">enter</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'setting up the pausing state'</span>); },</div><div>            <span style="color:#dcdcaa">execute</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'pausing!'</span>); },</div><div>            <span style="color:#dcdcaa">play</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span>.<span style="color:#dcdcaa">changeState</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span>.<span style="color:#9cdcfe">states</span>.<span style="color:#9cdcfe">playing</span>); },</div><div>            <span style="color:#dcdcaa">stop</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span>.<span style="color:#dcdcaa">changeState</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">target</span>.<span style="color:#9cdcfe">states</span>.<span style="color:#9cdcfe">stopping</span>); },</div><div>            <span style="color:#dcdcaa">pause</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'already paused!'</span>); },</div><div>            <span style="color:#dcdcaa">exit</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'tearing down the pausing state!'</span>); }</div><div>        }</div><div>    }, <span style="color:#6a9955">// states</span></div><br /><div>    <span style="color:#4ec9b0">initialize</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>() {</div><div>        <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">states</span>.<span style="color:#9cdcfe">playing</span>.<span style="color:#4ec9b0">initialize</span>(<span style="color:#569cd6">this</span>);</div><div>        <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">states</span>.<span style="color:#9cdcfe">stopping</span>.<span style="color:#4ec9b0">initialize</span>(<span style="color:#569cd6">this</span>);</div><div>        <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">states</span>.<span style="color:#9cdcfe">pausing</span>.<span style="color:#4ec9b0">initialize</span>(<span style="color:#569cd6">this</span>);</div><div>        <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">currentState</span> = <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">states</span>.<span style="color:#9cdcfe">stopping</span>;</div><div>    },</div><br /><div>    <span style="color:#4ec9b0">changeState</span><span style="color:#9cdcfe">:</span> <span style="color:#569cd6">function</span>(<span style="color:#9cdcfe">state</span>) {</div><div>        <span style="color:#c586c0">if</span> (<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">currentState</span> !== <span style="color:#9cdcfe">state</span>) {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">currentState</span>.<span style="color:#dcdcaa">exit</span>();</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">currentState</span> = <span style="color:#9cdcfe">state</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">currentState</span>.<span style="color:#dcdcaa">enter</span>();</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">currentState</span>.<span style="color:#dcdcaa">execute</span>();</div><div>        }</div><div>    }</div><div>    }; <span style="color:#6a9955">// mediaPlayer</span></div></div></div></div><div><br /></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// We start off in the stopping state</span></div><div>    <span style="color:#6a9955">// So when we call stop...</span></div><div>    <span style="color:#9cdcfe">mediaPlayer</span>.<span style="color:#4ec9b0">initialize</span>();</div><div>    <span style="color:#9cdcfe">mediaPlayer</span>.<span style="color:#dcdcaa">stop</span>();</div><br /><div>    <span style="color:#6a9955">// =&gt; 'already stopped!'</span></div><br /><div>    <span style="color:#6a9955">// Let's move to the playing state</span></div><div>    <span style="color:#9cdcfe">mediaPlayer</span>.<span style="color:#dcdcaa">play</span>();</div><br /><div>    <span style="color:#6a9955">// =&gt; 'tearing down the stopping state'</span></div><div>    <span style="color:#6a9955">// =&gt; 'setting up the playing state'</span></div><div>    <span style="color:#6a9955">// =&gt; 'playing!'</span></div><br /><div>    <span style="color:#6a9955">// Quick call pause!</span></div><div>    <span style="color:#9cdcfe">mediaPlayer</span>.<span style="color:#dcdcaa">pause</span>();</div><br /><div>    <span style="color:#6a9955">// =&gt; 'tearing down the playing state'</span></div><div>    <span style="color:#6a9955">// =&gt; 'setting up the pausing state'</span></div><div>    <span style="color:#6a9955">// =&gt; 'pausing!'</span></div><br /><div>    <span style="color:#6a9955">// Um... call pause like 3 times cuz</span></div><div>    <span style="color:#6a9955">// I'm a button masher!!!</span></div><div>    <span style="color:#9cdcfe">mediaPlayer</span>.<span style="color:#dcdcaa">pause</span>();</div><div>    <span style="color:#9cdcfe">mediaPlayer</span>.<span style="color:#dcdcaa">pause</span>();</div><div>    <span style="color:#9cdcfe">mediaPlayer</span>.<span style="color:#dcdcaa">pause</span>();</div><br /><div>    <span style="color:#6a9955">// =&gt; 'already paused!'</span></div><div>    <span style="color:#6a9955">// =&gt; 'already paused!'</span></div><div>    <span style="color:#6a9955">// =&gt; 'already paused!'</span></div><br /><div>    <span style="color:#6a9955">// OK call play again!</span></div><div>    <span style="color:#9cdcfe">mediaPlayer</span>.<span style="color:#dcdcaa">play</span>();</div><br /><div>    <span style="color:#6a9955">// =&gt; 'tearing down the pausing state!'</span></div><div>    <span style="color:#6a9955">// =&gt; 'setting up the playing state'</span></div><div>    <span style="color:#6a9955">// =&gt; 'playing!'</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Chain of Responsibility:</b></span></div><div><span style="font-size:13.3333px">* Chain of handler<b>S</b> and <b>A</b> request.</span></div><div><span style="font-size:13.3333px">* A request is passed from one handler to another if the current handler couldn't handle it. If it can handle it then the chain will not proceed to next handler.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Real time Example: Suppose you have different amount of money in 3 different accounts (MasterCard, PayPal and BitCoin). And configured the payment system</span></div><div><span style="font-size:13.3333px">in a manner that make a payment using my MasterCard if it has enough money otherwise switch to PayPal and make a payment if it has enough money otherwise switch to BitCoin and make a payment...etc., </span></div><div><span style="font-size:13.3333px"><br /></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Account</span> {</div><div>        <span style="color:#dcdcaa">pay</span>(<span style="color:#9cdcfe">amountToPay</span>) {</div><div>            <span style="color:#c586c0">if</span> (<span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">canPay</span>(<span style="color:#9cdcfe">amountToPay</span>)) {</div><div>                <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">`Paid </span><span style="color:#569cd6">${</span><span style="color:#9cdcfe">amountToPay</span><span style="color:#569cd6">}</span><span style="color:#ce9178"> using </span><span style="color:#569cd6">${</span><span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span><span style="color:#569cd6">}</span><span style="color:#ce9178">`</span>);</div><div>            } <span style="color:#c586c0">else</span> <span style="color:#c586c0">if</span> (<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">successor</span>) {</div><div>                <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">`Cannot pay using </span><span style="color:#569cd6">${</span><span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span><span style="color:#569cd6">}</span><span style="color:#ce9178">. Proceeding...`</span>);</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">successor</span>.<span style="color:#dcdcaa">pay</span>(<span style="color:#9cdcfe">amountToPay</span>); <span style="color:#6a9955">// move to next mode </span></div><div>            } <span style="color:#c586c0">else</span> {</div><div>                <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'None of the accounts have enough balance'</span>);</div><div>            }</div><div>        }</div><br /><div>        <span style="color:#dcdcaa">setNext</span>(<span style="color:#9cdcfe">account</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">successor</span> = <span style="color:#9cdcfe">account</span>; }</div><div>        <span style="color:#dcdcaa">canPay</span>(<span style="color:#9cdcfe">amount</span>)   { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">balance</span> &gt;= <span style="color:#9cdcfe">amount</span>; }</div><div>        <span style="color:#dcdcaa">show</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#569cd6">this</span>); } <span style="color:#6a9955">// method to show the chain</span></div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">MasterCard</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Account</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">balance</span>) {</div><div>            <span style="color:#569cd6">super</span>();</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span> = <span style="color:#ce9178">'master'</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">balance</span> = <span style="color:#9cdcfe">balance</span>;</div><div>        }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Paypal</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Account</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">balance</span>) {</div><div>            <span style="color:#569cd6">super</span>();</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span> = <span style="color:#ce9178">'Paypal'</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">balance</span> = <span style="color:#9cdcfe">balance</span>;</div><div>        }</div><div>    }</div><br /><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Bitcoin</span> <span style="color:#569cd6">extends</span> <span style="color:#4ec9b0">Account</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">balance</span>) {</div><div>            <span style="color:#569cd6">super</span>();</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">name</span> = <span style="color:#ce9178">'bitcoin'</span>;</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">balance</span> = <span style="color:#9cdcfe">balance</span>;</div><div>        }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Usage</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">master</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">MasterCard</span>(<span style="color:#b5cea8">100</span>);          <span style="color:#6a9955">// MasterCard with balance 100</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">paypal</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Paypal</span>(<span style="color:#b5cea8">200</span>);      <span style="color:#6a9955">// Paypal with balance 200</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">bitcoin</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Bitcoin</span>(<span style="color:#b5cea8">300</span>);    <span style="color:#6a9955">// Bitcoin with balance 300</span></div><br /><div>    <span style="color:#6a9955">// Define a chain of handlers like 'master.paypal.bitcoin'</span></div><div>    <span style="color:#6a9955">//   If 'master' can't pay then 'paypal'</span></div><div>    <span style="color:#6a9955">//   If 'paypal' can't pay then 'bit coin'</span></div><div>    <span style="color:#4fc1ff">master</span>.<span style="color:#dcdcaa">setNext</span>(<span style="color:#4fc1ff">paypal</span>);  <span style="color:#6a9955">// master -&gt; paypal</span></div><div>    <span style="color:#4fc1ff">paypal</span>.<span style="color:#dcdcaa">setNext</span>(<span style="color:#4fc1ff">bitcoin</span>); <span style="color:#6a9955">// paypal -&gt; bitcoin</span></div><br /><div>    <span style="color:#4fc1ff">master</span>.<span style="color:#dcdcaa">show</span>(); <span style="color:#6a9955">// show chain internals</span></div><div>    <span style="color:#6a9955">// Let's try to pay using the first priority i.e. master</span></div><div>    <span style="color:#4fc1ff">master</span>.<span style="color:#dcdcaa">pay</span>(<span style="color:#b5cea8">259</span>);</div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#6a9955">    Output:</span></div><div><span style="color:#6a9955">    MasterCard { name: 'master',</span></div><div><span style="color:#6a9955">                 balance: 100,</span></div><div><span style="color:#6a9955">                 successor: Paypal { name: 'Paypal',</span></div><div><span style="color:#6a9955">                                     balance: 200,</span></div><div><span style="color:#6a9955">                                     successor: Bitcoin { name: 'bitcoin', balance: 300 }</span></div><div><span style="color:#6a9955">                                    }</span></div><div><span style="color:#6a9955">                }</span></div><br /><div><span style="color:#6a9955">    /////////////////////////////////////////////////////////////</span></div><br /><div><span style="color:#6a9955">    Cannot pay using master. Proceeding ..</span></div><div><span style="color:#6a9955">    Cannot pay using paypal. Proceeding ..</span></div><div><span style="color:#6a9955">    Paid 259 using Bitcoin!</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><b>Command:</b> </span><span style="background-color:transparent;font-size:13.3333px">Allows you to encapsulate actions in objects. </span></div><div><span style="font-size:13.3333px">* Generally in programming paradigm an <b>Object </b>is a <b>Noun </b>but in command pattern it is a <b>VERB</b>.</span></div><div><span style="font-size:13.3333px">* You could store the command names in an array and execute them right after each other or do replay.</span></div><div><span style="font-size:13.3333px">* First thing comes to your mind for the Command pattern is it should has <span><b>execute() </b></span>method</span></div><div><span style="font-size:13.3333px">Real world example: </span><span style="background-color:transparent">You (i.e. Client) switching on (i.e. Command) the television (i.e. Receiver) using a remote control (Invoker).</span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// Receiver</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Television</span> {</div><div>        <span style="color:#dcdcaa">turnOn</span>()  { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'Television <span>on</span>'</span>); }</div><div>        <span style="color:#dcdcaa">turnOff</span>() { <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#ce9178">'off!'</span>); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Command 1 - interface</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">TurnOnCommand</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">tv</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">tv</span> = <span style="color:#9cdcfe">tv</span>; }</div><div>        <span style="color:#dcdcaa">execute</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">tv</span>.<span style="color:#dcdcaa">turnOn</span>(); }</div><div>        <span style="color:#dcdcaa">undo</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">tv</span>.<span style="color:#dcdcaa">turnOff</span>(); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Command 2 - interface</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">TurnOffCommand</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">tv</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">tv</span> = <span style="color:#9cdcfe">tv</span>; }</div><div>        <span style="color:#dcdcaa">execute</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">tv</span>.<span style="color:#dcdcaa">turnOff</span>(); }</div><div>        <span style="color:#dcdcaa">undo</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">tv</span>.<span style="color:#dcdcaa">turnOn</span>(); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Invoker - with whom the client will interact to process any commands</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">RemoteControl</span> {</div><div>        <span style="color:#569cd6">constructor</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">history</span> = []; }</div><div>        <span style="color:#dcdcaa">submit</span>(<span style="color:#9cdcfe">command</span>) {</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">history</span>.<span style="color:#dcdcaa">push</span>(<span style="color:#9cdcfe">command</span>);</div><div>            <span style="color:#9cdcfe">command</span>.<span style="color:#dcdcaa">execute</span>();</div><div>            <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">currActionIndex</span>++;</div><div>        }</div><div>        <span style="color:#dcdcaa">redoLastAction</span>() {</div><div>            <span style="color:#c586c0">if</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">history</span>.<span style="color:#9cdcfe">length</span>) <span style="color:#569cd6">this</span>.<span style="color:#dcdcaa">submit</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">history</span>[<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">history</span>.<span style="color:#9cdcfe">length</span> - <span style="color:#b5cea8">1</span>]);</div><div>        }</div><div>        <span style="color:#dcdcaa">undoLastAction</span>() {</div><div>            <span style="color:#c586c0">if</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">history</span>.<span style="color:#9cdcfe">length</span>) {</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">history</span>[<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">history</span>.<span style="color:#9cdcfe">length</span> - <span style="color:#b5cea8">1</span>].<span style="color:#dcdcaa">undo</span>();</div><div>                <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">history</span>.<span style="color:#dcdcaa">pop</span>();</div><div>            }</div><div>        }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Usage by Client</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">tv</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Television</span>();</div><br /><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">turnOn</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">TurnOnCommand</span>(<span style="color:#4fc1ff">tv</span>);</div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">turnOff</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">TurnOffCommand</span>(<span style="color:#4fc1ff">tv</span>);</div><br /><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">remote</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">RemoteControl</span>();</div><div>    <span style="color:#4fc1ff">remote</span>.<span style="color:#dcdcaa">submit</span>(<span style="color:#4fc1ff">turnOn</span>);   <span style="color:#6a9955">// Television <span>on</span>!</span></div><div>    <span style="color:#4fc1ff">remote</span>.<span style="color:#dcdcaa">undoLastAction</span>(); <span style="color:#6a9955">// off!</span></div><div>    <span style="color:#4fc1ff">remote</span>.<span style="color:#dcdcaa">submit</span>(<span style="color:#4fc1ff">turnOff</span>);  <span style="color:#6a9955">// off!</span></div></div></div><div><br /></div><div><span style="font-size:13.3333px"><b>Memento / memory:</b> Restore to old state by memorization(memento).</span></div><div><span style="font-size:13.3333px"> Storing the current state of an object in a manner that it can be restored to previous state (undo via rollback) </span><span style="background-color:transparent;font-size:13.3333px">without revealing the details of its implementation.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Real World Example: A </span><span style="background-color:transparent;font-size:13.3333px">text editor which keeps saving the state from time to time and that you can restore if you want.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:#6a9955">// memento(memory) object that will be able to hold the editor state</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">EditorMemento</span> {</div><div>        <span style="color:#569cd6">constructor</span>(<span style="color:#9cdcfe">content</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">_content</span> = <span style="color:#9cdcfe">content</span>; }</div><div>        <span style="color:#dcdcaa">getContent</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">_content</span>; }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// editor that is going to use memento object</span></div><div>    <span style="color:#569cd6">class</span> <span style="color:#4ec9b0">Editor</span> {</div><div>        <span style="color:#569cd6">constructor</span>() { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">_content</span> = <span style="color:#ce9178">''</span>; }</div><div>        <span style="color:#dcdcaa">getContent</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">_content</span>; }</div><div>        <span style="color:#dcdcaa">type</span>(<span style="color:#9cdcfe">words</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">_content</span> = <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">_content</span> + <span style="color:#ce9178">' '</span> + <span style="color:#9cdcfe">words</span>; }</div><br /><div>        <span style="color:#dcdcaa">save</span>() { <span style="color:#c586c0">return</span> <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">EditorMemento</span>(<span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">_content</span>); }</div><div>        <span style="color:#dcdcaa">restore</span>(<span style="color:#9cdcfe">memento</span>) { <span style="color:#569cd6">this</span>.<span style="color:#9cdcfe">_content</span> = <span style="color:#9cdcfe">memento</span>.<span style="color:#dcdcaa">getContent</span>(); }</div><div>    }</div><br /><div>    <span style="color:#6a9955">// Usage</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">editor</span> = <span style="color:#569cd6">new</span> <span style="color:#4ec9b0">Editor</span>();</div><br /><div>    <span style="color:#6a9955">// Type some stuff</span></div><div>    <span style="color:#4fc1ff">editor</span>.<span style="color:#dcdcaa">type</span>(<span style="color:#ce9178">'This is the 1st sentence.'</span>);</div><div>    <span style="color:#4fc1ff">editor</span>.<span style="color:#dcdcaa">type</span>(<span style="color:#ce9178">'This is 2nd.'</span>);</div><br /><div>    <span style="color:#6a9955">// Save the state (This is the first sentence. This is second.)</span></div><div>    <span style="color:#569cd6">const</span> <span style="color:#4fc1ff">saved</span> = <span style="color:#4fc1ff">editor</span>.<span style="color:#dcdcaa">save</span>();</div><br /><div>    <span style="color:#6a9955">// Type some more</span></div><div>    <span style="color:#4fc1ff">editor</span>.<span style="color:#dcdcaa">type</span>(<span style="color:#ce9178">'And this is 3rd.'</span>);</div><br /><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">editor</span>.<span style="color:#dcdcaa">getContent</span>()); <span style="color:#6a9955">// This is the first sentence. This is second. And this is third.</span></div><div>    <span style="color:#6a9955">// Restoring to last saved state</span></div><div>    <span style="color:#4fc1ff">editor</span>.<span style="color:#dcdcaa">restore</span>(<span style="color:#4fc1ff">saved</span>);</div><div>    <span style="color:#9cdcfe">console</span>.<span style="color:#dcdcaa">log</span>(<span style="color:#4fc1ff">editor</span>.<span style="color:#dcdcaa">getContent</span>()); <span style="color:#6a9955">// This is the first sentence. This is second.</span></div></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px">Note: You can use <b>Command </b>pattern and <b>Memento </b>pattern <b>together </b>when implementing <b>“undo”</b>. In this case, commands are responsible for performing various operations over a target object, while mementos save the state of that object just before a command gets executed.</span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><div><div><b>Iterator:</b></div><div>* The consumer of your object doesn’t need to know how you structure your data; all they need <span style="background-color:transparent">is to work with the individual elements.</span></div><div>* In the iterator pattern, your object needs to provide a next() method. Calling next() <span style="background-color:transparent">in sequence must return the next consecutive element, where it’s </span></div><div><span style="background-color:transparent">  up to you to decide </span><span style="background-color:transparent">what “next” means in your particular data structure.</span></div></div><div><br /></div><div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div>    <span style="color:rgb(86,156,214)">var</span> <span style="color:rgb(156,220,254)">agg</span> = (<span style="color:rgb(86,156,214)">function</span> () {</div><div>        <span style="color:rgb(86,156,214)">var</span> <span style="color:rgb(156,220,254)">index</span> = <span style="color:rgb(181,206,168)">0</span>,</div><div>            <span style="color:rgb(156,220,254)">data</span> = [<span style="color:rgb(181,206,168)">1</span>, <span style="color:rgb(181,206,168)">2</span>, <span style="color:rgb(181,206,168)">3</span>, <span style="color:rgb(181,206,168)">4</span>, <span style="color:rgb(181,206,168)">5</span>],</div><div>            <span style="color:rgb(156,220,254)">length</span> = <span style="color:rgb(156,220,254)">data</span>.<span style="color:rgb(156,220,254)">length</span>;</div><div>        <span style="color:rgb(197,134,192)">return</span> {</div><div>            <span style="color:rgb(220,220,170)">next</span><span style="color:rgb(156,220,254)">:</span> <span style="color:rgb(86,156,214)">function</span> () {</div><div>                <span style="color:rgb(86,156,214)">var</span> <span style="color:rgb(156,220,254)">element</span>;</div><div>                <span style="color:rgb(197,134,192)">if</span> (!<span style="color:rgb(86,156,214)">this</span>.<span style="color:rgb(220,220,170)">hasNext</span>()) {</div><div>                    <span style="color:rgb(197,134,192)">return</span> <span style="color:rgb(86,156,214)">null</span>;</div><div>                }</div><div>                <span style="color:rgb(156,220,254)">element</span> = <span style="color:rgb(156,220,254)">data</span>[<span style="color:rgb(156,220,254)">index</span>];</div><div>                <span style="color:rgb(156,220,254)">index</span> = <span style="color:rgb(156,220,254)">index</span> + <span style="color:rgb(181,206,168)">2</span>;</div><div>                <span style="color:rgb(197,134,192)">return</span> <span style="color:rgb(156,220,254)">element</span>;</div><div>            },</div><div>            <span style="color:rgb(220,220,170)">hasNext</span><span style="color:rgb(156,220,254)">:</span> <span style="color:rgb(86,156,214)">function</span> () {</div><div>                <span style="color:rgb(197,134,192)">return</span> <span style="color:rgb(156,220,254)">index</span> &lt; <span style="color:rgb(156,220,254)">length</span>;</div><div>            }</div><div>        };</div><div>    }());</div><br /><div>    <span style="color:rgb(106,153,85)">// Use the iterator</span></div><div>    <span style="color:rgb(197,134,192)">while</span> (<span style="color:rgb(156,220,254)">agg</span>.<span style="color:rgb(220,220,170)">hasNext</span>()) {</div><div>        <span style="color:rgb(156,220,254)">console</span>.<span style="color:rgb(220,220,170)">log</span>(<span style="color:rgb(156,220,254)">agg</span>.<span style="color:rgb(220,220,170)">next</span>()); <span style="color:rgb(106,153,85)">// 1 3 5</span></div><div>    }</div></div></div><div><br /></div><div><br /></div></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span></div><div><br /></div></div><div><br /></div><div><br /></div><div><br /></div></div></td></tr></tbody></table><div class="sites-layout-tile sites-tile-name-footer sites-layout-empty-tile"><div dir="ltr"><br /></div></div></div>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/site/sridharkritha/home/javascript/js-design-patterns&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../../../../ssl.gstatic.com/sites/p/a71eef/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXtASf_M2E6cjJ9Hgufts3RfM7MwuhM--x9xhZTQT2CPH5o1SJDsW3vR3E_Q46RXPk_k-W7eR5NKCjJJfTl0ebJjIb5QcHoJqjGh2WqyJ8BCS5cO-a4KufrifJyCcYYFAh6Ptyc0/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('../../_/tz.html', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, '../../../../../gg.google.com/csi.gif');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>

<!-- Mirrored from sites.google.com/site/sridharkritha/home/javascript/js-design-patterns by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Jul 2021 09:43:15 GMT -->
</html>
