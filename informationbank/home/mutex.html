<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="../../../../schema.org/WebPage.html">

<!-- Mirrored from sites.google.com/site/sridharkritha/home/mutex by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Jul 2021 09:42:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="../../../../www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="../../../../ssl.gstatic.com/sites/p/a71eef/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/site/sridharkritha/home","deleted":false,"title":"home","dir":"ltr"},{"path":"/site/sridharkritha/home/mutex","deleted":false,"title":"mutex","dir":"ltr"}];
  var JOT_clearDotPath = '../../../../ssl.gstatic.com/sites/p/a71eef/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":false,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://31530771-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"sridharkritha","experiments":{"enableSubpagesGadgetInTakeout":true,"DisableSiteEditingFeature__disable_site_editing":true,"disableDomainEditing":false},"jot2atari":{"eligibility":"INELIGIBLE"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":true,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/site/sridharkritha/home/mutex\u0026service\u003djotspot","analyticsAccountId":"","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/a71eef/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/a71eef/system/js/codemirror.js","../../../../ssl.gstatic.com/sites/p/a71eef/system/app/css/codemirror_css.css","../../../../ssl.gstatic.com/sites/p/a71eef/system/js/trog_edit__en.js","../../../../ssl.gstatic.com/sites/p/a71eef/system/app/css/trogedit.css","../_/rsrc/1624520311000/system/app/css/editor.css","../../../../ssl.gstatic.com/sites/p/a71eef/system/app/css/codeeditor.css","/site/sridharkritha/_/rsrc/1624520311000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"defaultdomain","baseUri":"/site/sridharkritha","name":"sridharkritha","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/home","parentWuid":"wuid:gx:b3f192d87bdc7ad","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"mutex","locale":"en","wuid":"wuid:gx:4976526a55135cf5","revision":12,"path":"/home/mutex","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"mutex","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/site/sridharkritha/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="mutex - sridharkritha" />
<meta itemprop="name" content="mutex - sridharkritha" />
<meta property="og:title" content="mutex - sridharkritha" />
<meta name="description" content="Information Bank - Computer Science" />
<meta itemprop="description" content="Information Bank - Computer Science" />
<meta id="meta-tag-description" property="og:description" content="Information Bank - Computer Science" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="../../../../ssl.gstatic.com/sites/p/a71eef/system/app/themes/ember/standard-css-ember-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1624520311000/system/app/css/overlaydd2a.css?cb=ember150goog-ws-noside" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1624520311000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/site/sridharkritha/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>mutex - sridharkritha</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><h2></h2></div></td><td class="sites-layout-searchbox  "></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left" style="display: none; width: 150px">
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../home.html" dir="ltr">home</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">mutex</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-left-sidebar-hf sites-layout-vbox"><div class="sites-layout-tile sites-tile-name-header sites-layout-empty-tile"><div dir="ltr"><br /></div></div><table cellspacing="0" class="sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1 sites-canvas-sidebar"><div dir="ltr"><br /><a href="mutex/cs-class.html"><br />CS Class Implem</a><br /><br /><a href="mutex/multiple-reader-single-writer-class.html">MultiReader - Single Writer Class</a><br /></div></td><td class="sites-layout-tile sites-tile-name-content-2"><div dir="ltr"><p><u><b style="color:rgb(255,0,0)"><font size="4">Summary<font size="4">:</font></font></b></u></p><p><font size="2"><span style="color:rgb(0,0,0)"><b>On Windows Platform:</b><br /><br /></span></font><b style="color:rgb(0,0,0);font-size:small"><span>    </span>mutexes</b><span style="color:rgb(0,0,0);font-size:small">:</span><span style="color:rgb(0,0,0);font-size:small">            Slow and across the processes [</span><b style="color:rgb(0,0,0);font-size:small">interprocess</b><span style="color:rgb(0,0,0);font-size:small">] - used to synchronize the resource with different processes.</span><font size="2"><span style="color:rgb(0,0,0)"><br /><b><span>    </span>critical sections: </b>Fast and <font size="2">within</font> a process [<b>inter thread </b>- across threads in a process].</span></font></p><p><font size="2"><span style="color:rgb(0,0,0)">It is possible to use Mutex instead of critical section. But, the critical section thread synchronization object is slightly faster compared to other synchronization objects. Critical section allows accessing only one thread at a time.</span></font></p><p><u><b style="color:rgb(255,0,0)"><font size="4">Mutex</font></b></u><br /></p><p>A mutex object is a synchronization object whose state is set to signal when it is
not owned by any thread and non-signalled when it is owned. Only one thread at a time can
own a mutex object. For example, to prevent two threads from
writing to shared memory at the same time, each thread waits for ownership of a mutex
object before executing the code that accesses the memory. After writing to the shared
memory, the thread releases the mutex object. There is no guarantee about the order in which
threads will obtain ownership of the shared
memory, however, the system will be fair to
all threads. </p>
<p><b>Two or more </b><b>processes</b> can call<b> <code>CreateMutex</code></b> to create the same named mutex. The
first process actually creates the mutex, and subsequent processes open a handle to the
existing mutex. This enables <b>multiple</b> <b>processes</b> to get handles of the <b>same mutex</b>. When using this technique, you should set the <b><i>bInitialOwner</i></b> flag to FALSE;
otherwise, it can be difficult to be certain which process has initial ownership. </p>
<p>Multiple processes can have handles of the same mutex object, enabling the use of the
object for <b>interprocess synchronization</b>. The following object-sharing mechanisms are
available: </p>
<ul><li>A child process created by the <code>CreateProcess</code> function can inherit a handle to a
    mutex object if the <i>lpMutexAttributes</i> parameter of <code>CreateMutex</code> enabled
    inheritance.
    
    </li><li>A process can specify the mutex-object handle in a call to the <code>DuplicateHandle</code>
    function to create a duplicate handle that can be used by another process.
    </li><li>A process can specify the name of a mutex object in a call to the <code>CreateMutex</code> function.
</li></ul>
<p><b>Generally speaking, if you are synchronizing <span style="color:rgb(255,0,0)">threads within the same process</span>, <span style="color:rgb(0,0,255)">a
critical section</span> object is more efficient.</b></p><p>Example: <span style="background-color:transparent;font-size:10pt">This example illustrates </span><b style="background-color:transparent;font-size:10pt">two threads</b><span style="background-color:transparent;font-size:10pt">(main and child threads). The main function, which
is the primary thread which prints the contents of a global array of integers.
 The child thread called "Thread" continuously populates the global array of
integers.</span></p><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre">   <span style="color:rgb(106,153,85);background-color:rgb(30,30,30);font-size:16px"> //#include "stdafx.h"</span></div><div style="color:rgb(212,212,212);background-color:rgb(30,30,30);font-family:Consolas,Courier New,monospace;font-size:16px;line-height:22px;white-space:pre"><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;Windows.h&gt;</span></div><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;iostream&gt;</span></div><div><span style="color:#569cd6">    </span><span style="color:#c586c0">#include</span><span style="color:#569cd6"> </span><span style="color:#ce9178">&lt;string.h&gt;</span></div><div>    <span style="color:#c586c0">using</span> <span style="color:#569cd6">namespace</span> <span style="color:#4ec9b0">std</span>;</div><br /><div>    <span style="color:#569cd6">int</span> <span style="color:#9cdcfe">a</span>[<span style="color:#b5cea8">5</span>];<span style="color:#6a9955"> //  a[5] = {0,0,0,0,0}</span></div><div>    <span style="color:#569cd6">int</span> <span style="color:#9cdcfe">m</span> = <span style="color:#b5cea8">0</span>, <span style="color:#9cdcfe">n</span> = <span style="color:#b5cea8">0</span>;</div><br /><div>    <span style="color:#4ec9b0">HANDLE</span> <span style="color:#9cdcfe">hMutex</span>;<span style="color:#6a9955"> // common for both 'main' &amp; 'MyThread'</span></div><br /><div>    <span style="color:#4ec9b0">DWORD</span> <span style="color:#569cd6">WINAPI</span> <span style="color:#dcdcaa">MyThread</span>(<span style="color:#569cd6">void</span>* <span style="color:#9cdcfe">pParams</span>) {</div><div>        <span style="color:#569cd6">int</span> <span style="color:#9cdcfe">num</span> = <span style="color:#b5cea8">0</span>;<span style="color:#6a9955"> // global inside this function</span></div><br /><div>        <span style="color:#c586c0">for</span> (<span style="color:#9cdcfe">n</span> = <span style="color:#b5cea8">0</span>; <span style="color:#9cdcfe">n</span> &lt; <span style="color:#b5cea8">5</span>; <span style="color:#9cdcfe">n</span>++)</div><div>        {</div><div>            <span style="color:#dcdcaa">WaitForSingleObject</span>(<span style="color:#9cdcfe">hMutex</span>, <span style="color:#569cd6">INFINITE</span>);</div><div>            <span style="color:#dcdcaa">printf</span>(<span style="color:#ce9178">"Child Thread - for populating the Array</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>);</div><div>            <span style="color:#c586c0">for</span> (<span style="color:#569cd6">int</span> <span style="color:#9cdcfe">i</span> = <span style="color:#b5cea8">0</span>; <span style="color:#9cdcfe">i</span> &lt; <span style="color:#b5cea8">5</span>; <span style="color:#9cdcfe">i</span>++) <span style="color:#9cdcfe">a</span>[<span style="color:#9cdcfe">i</span>] = <span style="color:#9cdcfe">num</span>;</div><div>            <span style="color:#dcdcaa">ReleaseMutex</span>(<span style="color:#9cdcfe">hMutex</span>);</div><div>            <span style="color:#9cdcfe">num</span>++;</div><div>        }</div><div>        <span style="color:#c586c0">return</span> <span style="color:#b5cea8">0</span>;</div><div>    }</div><br /><div>    <span style="color:#569cd6">int</span> <span style="color:#dcdcaa">main</span>(<span style="color:#569cd6">void</span>) {</div><div>        <span style="color:#4ec9b0">HANDLE</span> <span style="color:#9cdcfe">hThread</span>;</div><div>        <span style="color:#4ec9b0">DWORD</span> <span style="color:#9cdcfe">threadId</span>;</div><br /><div>        <span style="color:#9cdcfe">hMutex</span> = <span style="color:#569cd6">CreateMutex</span>(<span style="color:#569cd6">NULL</span>, <span style="color:#569cd6">FALSE</span>, <span style="color:#569cd6">NULL</span>);</div><br /><div>        <span style="color:#9cdcfe">hThread</span> = <span style="color:#dcdcaa">CreateThread</span>(<span style="color:#569cd6">NULL</span>, <span style="color:#b5cea8">0</span>, <span style="color:#dcdcaa">MyThread</span>, <span style="color:#569cd6">NULL</span>, <span style="color:#b5cea8">0</span>, &amp;<span style="color:#9cdcfe">threadId</span>);</div><br /><div>        <span style="color:#c586c0">for</span> (<span style="color:#9cdcfe">m</span> = <span style="color:#b5cea8">0</span>; <span style="color:#9cdcfe">m</span> &lt; <span style="color:#b5cea8">5</span>; <span style="color:#9cdcfe">m</span>++)</div><div>        {</div><div>            <span style="color:#dcdcaa">WaitForSingleObject</span>(<span style="color:#9cdcfe">hMutex</span>, <span style="color:#569cd6">INFINITE</span>);</div><div>            <span style="color:#dcdcaa">printf</span>(<span style="color:#ce9178">"Main Thread - for Printing the Array: "</span>);</div><div>            <span style="color:#dcdcaa">printf</span>(<span style="color:#ce9178">"%d %d %d %d %d</span><span style="color:#d7ba7d">\n</span><span style="color:#ce9178">"</span>, <span style="color:#9cdcfe">a</span>[<span style="color:#b5cea8">0</span>], <span style="color:#9cdcfe">a</span>[<span style="color:#b5cea8">1</span>], <span style="color:#9cdcfe">a</span>[<span style="color:#b5cea8">2</span>], <span style="color:#9cdcfe">a</span>[<span style="color:#b5cea8">3</span>], <span style="color:#9cdcfe">a</span>[<span style="color:#b5cea8">4</span>]);</div><div>            <span style="color:#dcdcaa">ReleaseMutex</span>(<span style="color:#9cdcfe">hMutex</span>);</div><div>        }</div><div>    }</div></div><font face="monospace">
<br /></font><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>    Output:</div><div>            Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span></div><div>            Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>            Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span></div><div>            Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>            Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span></div><div>            Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>            Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span></div><div>            Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>            Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">3</span></div></div><font face="monospace">
<br />
</font><u><font size="4" style="color:rgb(255,0,0)"><b>Critical Section</b></font></u><i><br />Critical section</i> objects provide synchronization similar to that provided by
mutex objects, except critical section objects, can be used only by the <b>threads of a
single process.</b> Mutex and <b>Semaphore</b> objects can also be used in a single-process
application, but critical section objects provide a slightly faster, more efficient
mechanism for mutual-exclusion synchronization.<font face="monospace">
<br /><br /></font><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>    <span style="color:#66d9ef;font-style:italic">int</span> a[<span style="color:#ae81ff">5</span>];</div><div>    <span style="color:#66d9ef;font-style:italic">int</span> m<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,n<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;</div><div>    CRITICAL_SECTION cs;</div><br /><div>    DWORD WINAPI <span style="color:#a6e22e">Thread</span>( <span style="color:#66d9ef;font-style:italic">void</span><span style="color:#f92672">*</span><span style="color:#fd971f;font-style:italic"> pParams </span>) {</div><div>        <span style="color:#66d9ef;font-style:italic">int</span> i, num <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;</div><br /><div>        <span style="color:#f92672">for</span>(n<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;n<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;n<span style="color:#f92672">++</span>)</div><div>        {</div><div>            <span style="color:#a6e22e">EnterCriticalSection</span>( <span style="color:#f92672">&amp;</span>cs );</div><div>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">"Child Thread - for populating the Array</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">"</span>);</div><div>            <span style="color:#f92672">for</span> ( i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span> )</div><div>                a[ i ] <span style="color:#f92672">=</span> num;</div><div>            <span style="color:#a6e22e">LeaveCriticalSection</span>( <span style="color:#f92672">&amp;</span>cs );</div><div>            num<span style="color:#f92672">++</span>;</div><div>        }</div><div>    }</div><br /><div>    <span style="color:#66d9ef;font-style:italic">int</span> <span style="color:#a6e22e">main</span>( <span style="color:#66d9ef;font-style:italic">void</span> ) {</div><div>        HANDLE hThread;</div><div>        DWORD threadId;</div><br /><div>        <span style="color:#a6e22e">InitializeCriticalSection</span>( <span style="color:#f92672">&amp;</span>cs );</div><div>        hThread <span style="color:#f92672">=</span> <span style="color:#a6e22e">CreateThread</span>(<span style="color:#ae81ff">NULL</span>,<span style="color:#ae81ff">0</span>,Thread,<span style="color:#ae81ff">NULL</span>,<span style="color:#ae81ff">0</span>,<span style="color:#f92672">&amp;</span>threadId);</div><br /><div>        <span style="color:#f92672">for</span>(m<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;m<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;m<span style="color:#f92672">++</span>)</div><div>        {</div><div>            <span style="color:#a6e22e">EnterCriticalSection</span>( <span style="color:#f92672">&amp;</span>cs );</div><div>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">"Main Thread - for Printing the Array: "</span>);</div><div>            <span style="color:#a6e22e">printf</span>( <span style="color:#e6db74">"</span><span style="color:#ae81ff">%d</span><span style="color:#e6db74"> </span><span style="color:#ae81ff">%d</span><span style="color:#e6db74"> </span><span style="color:#ae81ff">%d</span><span style="color:#e6db74"> </span><span style="color:#ae81ff">%d</span><span style="color:#e6db74"> </span><span style="color:#ae81ff">%d\n</span><span style="color:#e6db74">"</span>,a[ <span style="color:#ae81ff">0</span> ], a[ <span style="color:#ae81ff">1</span> ], a[ <span style="color:#ae81ff">2</span> ],a[ <span style="color:#ae81ff">3</span> ], a[ <span style="color:#ae81ff">4</span> ] );</div><div>            <span style="color:#a6e22e">LeaveCriticalSection</span>( <span style="color:#f92672">&amp;</span>cs );</div><div>        }</div><div>    }</div></div><font face="monospace">
<br /></font><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>    Output:</div><div>                Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span></div><div>                Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>                Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span></div><div>                Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>                Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span></div><div>                Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>                Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span></div><div>                Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>                Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">3</span></div><div>                Child Thread <span style="color:#f92672">-</span> For populating the Array</div></div><font face="monospace">
<br /><br /></font><font size="5"><b><u><font face="monospace" style="color:rgb(255,0,0)">No Synchronization</font></u></b></font><br /><br />The two unsynchronized threads (main and child threads) will have the right to access the shared array at any time that is at the mid of populating the array data context swich may happen and start printing the value in the main thread. <br /><br /><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>    <span style="color:#66d9ef;font-style:italic">int</span> a[<span style="color:#ae81ff">5</span>];</div><div>    <span style="color:#66d9ef;font-style:italic">int</span> m<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,n<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;</div><br /><div>    DWORD WINAPI <span style="color:#a6e22e">Thread</span>( <span style="color:#66d9ef;font-style:italic">void</span><span style="color:#f92672">*</span><span style="color:#fd971f;font-style:italic"> pParams </span>) {</div><div>        <span style="color:#66d9ef;font-style:italic">int</span> i, num <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;</div><br /><div>        <span style="color:#f92672">for</span>(n<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;n<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;n<span style="color:#f92672">++</span>)</div><div>        {</div><div>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">"Child Thread - for populating the Array</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">"</span>);</div><div>            <span style="color:#f92672">for</span> ( i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span> )</div><div>                a[ i ] <span style="color:#f92672">=</span> num;</div><div>            num<span style="color:#f92672">++</span>;</div><div>        }</div><div>    }</div><br /><div>    <span style="color:#66d9ef;font-style:italic">int</span> <span style="color:#a6e22e">main</span>( <span style="color:#66d9ef;font-style:italic">void</span> ) {</div><div>        HANDLE hThread;</div><div>        DWORD threadId;</div><div>        hThread <span style="color:#f92672">=</span> <span style="color:#a6e22e">CreateThread</span>(<span style="color:#ae81ff">NULL</span>,<span style="color:#ae81ff">0</span>,Thread,<span style="color:#ae81ff">NULL</span>,<span style="color:#ae81ff">0</span>,<span style="color:#f92672">&amp;</span>threadId);</div><br /><div>        <span style="color:#f92672">for</span>(m<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;m<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;m<span style="color:#f92672">++</span>)</div><div>        {</div><div>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">"Main Thread - for Printing the Array: "</span>);</div><div>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">"</span><span style="color:#ae81ff">%d</span><span style="color:#e6db74"> </span><span style="color:#ae81ff">%d</span><span style="color:#e6db74"> </span><span style="color:#ae81ff">%d</span><span style="color:#e6db74"> </span><span style="color:#ae81ff">%d</span><span style="color:#e6db74"> </span><span style="color:#ae81ff">%d\n</span><span style="color:#e6db74">"</span>,a[ <span style="color:#ae81ff">0</span> ], a[ <span style="color:#ae81ff">1</span> ], a[ <span style="color:#ae81ff">2</span> ],a[ <span style="color:#ae81ff">3</span> ], a[ <span style="color:#ae81ff">4</span> ] );</div><div>            <span style="color:#a6e22e">Sleep</span>(<span style="color:#ae81ff">100</span>); <span style="color:#75715e">// useful for doing context switch to child thread</span></div><div>        }</div><div>    }</div></div><font face="monospace">
<br />
<br /></font><div style="color:rgb(248,248,242);background-color:rgb(39,40,34);font-family:Consolas,Courier New,monospace;font-size:15px;line-height:20px;white-space:pre"><div>    Output:</div><div>            Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span></div><div>            Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>            Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>            Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>            Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>            Child Thread <span style="color:#f92672">-</span> For populating the Array</div><div>            Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span></div><div>            Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span></div><div>            Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span></div><div>            Main Thread <span style="color:#f92672">-</span> For Printing the Array: <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">4</span></div></div><font face="monospace"><br /><br /></font><b>Performance Summary</b><br /><font face="monospace"><br /></font><table border="0" cellspacing="5"><tbody><tr><td style="width:100px;height:15px"><b>Name</b></td>
<td align="center" style="width:104px;height:15px"><b>Relative speed</b></td>
<td align="center" style="width:102px;height:15px"><b>Cross process</b></td>
<td align="center" style="width:155px;height:15px"><b>Resource counting</b></td>
<td align="center" style="width:7px;height:15px"><br /></td>
</tr>
<tr>
<td style="width:100px;height:31px">Critical Section</td>
<td align="center" style="width:104px;height:31px">Fast</td>
<td align="center" style="width:102px;height:31px">No</td>
<td align="center" style="width:155px;height:31px">No (exclusive access)</td>
<td align="center" style="width:7px;height:31px"><br /></td>
</tr>
<tr>
<td style="width:100px;height:29px">Mutex</td>
<td align="center" style="width:104px;height:29px">Slow</td>
<td align="center" style="width:102px;height:29px">Yes</td>
<td align="center" style="width:155px;height:29px">No (exclusive access)</td>
<td align="center" style="width:7px;height:29px"><br /></td>
</tr>
<tr>
<td style="width:100px;height:15px">Semaphore</td>
<td align="center" style="width:104px;height:15px">Slow</td>
<td align="center" style="width:102px;height:15px">Yes</td>
<td align="center" style="width:155px;height:15px">Automatic</td>
<td align="center" style="width:7px;height:15px"><br /></td>
</tr>
<tr>
<td style="width:100px;height:15px"><br /></td><td align="center" style="width:104px;height:15px"><br /></td><td align="center" style="width:102px;height:15px"><br /></td><td align="center" style="width:155px;height:15px"><br /></td><td align="center" style="width:7px;height:15px"><br /></td></tr><tr><td style="width:100px;height:15px"><br /></td><td align="center" style="width:104px;height:15px"><br /></td><td align="center" style="width:102px;height:15px"><br /></td><td align="center" style="width:155px;height:15px"><br /></td><td align="center" style="width:7px;height:15px"><br /></td></tr></tbody></table></div></td></tr></tbody></table><div class="sites-layout-tile sites-tile-name-footer sites-layout-empty-tile"><div dir="ltr"><br /></div></div></div>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages" class="sites-canvas-bottom-panel-wrapper" style="">
<div class="sites-subpages">
            Subpages <span id="subpages-total-number">(2):</span>
<span>
<a href="mutex/cs-class.html" dir="ltr">CS Class</a>
</span>
<span>
<a href="mutex/multiple-reader-single-writer-class.html" dir="ltr">Multiple-Reader &amp; Single-Writer Class</a>
</span>
</div>
</div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/site/sridharkritha/home/mutex&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../../../../ssl.gstatic.com/sites/p/a71eef/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXtASf_M2E6cjJ9Hgufts3RfM7MwuhM--x9xhZTQT2CPH1ku2mgLENP-ZGu2wGfffQ2RXAM_RjpttbRxDpAKn4aXsh8LbwcN63jBCYHKNbzcXViFZfbn_wq36EGqHD0QZobBwli2/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('../_/tz.html', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, '../../../../gg.google.com/csi.gif');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>

<!-- Mirrored from sites.google.com/site/sridharkritha/home/mutex by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Jul 2021 09:42:39 GMT -->
</html>
